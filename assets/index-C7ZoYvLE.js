(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Ud={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function dA(){if(i0)return Tl;i0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,l,u){var d=null;if(u!==void 0&&(d=""+u),l.key!==void 0&&(d=""+l.key),"key"in l){u={};for(var p in l)p!=="key"&&(u[p]=l[p])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:u}}return Tl.Fragment=t,Tl.jsx=n,Tl.jsxs=n,Tl}var r0;function mA(){return r0||(r0=1,Ud.exports=dA()),Ud.exports}var T=mA(),Ld={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0;function pA(){if(s0)return Tt;s0=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=N&&O[N]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,H={};function W(O,Y,it){this.props=O,this.context=Y,this.refs=H,this.updater=it||Z}W.prototype.isReactComponent={},W.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},W.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function lt(){}lt.prototype=W.prototype;function st(O,Y,it){this.props=O,this.context=Y,this.refs=H,this.updater=it||Z}var yt=st.prototype=new lt;yt.constructor=st,tt(yt,W.prototype),yt.isPureReactComponent=!0;var jt=Array.isArray;function It(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,Y,it){var at=it.ref;return{$$typeof:r,type:O,key:Y,ref:at!==void 0?at:null,props:it}}function V(O,Y){return C(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return Y[it]})}var R=/\/+/g;function te(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function ue(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(It,It):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,it,at,_t){var At=typeof O;(At==="undefined"||At==="boolean")&&(O=null);var Nt=!1;if(O===null)Nt=!0;else switch(At){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(O.$$typeof){case r:case t:Nt=!0;break;case b:return Nt=O._init,G(Nt(O._payload),Y,it,at,_t)}}if(Nt)return _t=_t(O),Nt=at===""?"."+te(O,0):at,jt(_t)?(it="",Nt!=null&&(it=Nt.replace(R,"$&/")+"/"),G(_t,Y,it,"",function(Ee){return Ee})):_t!=null&&(D(_t)&&(_t=V(_t,it+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(R,"$&/")+"/")+Nt)),Y.push(_t)),1;Nt=0;var mt=at===""?".":at+":";if(jt(O))for(var wt=0;wt<O.length;wt++)at=O[wt],At=mt+te(at,wt),Nt+=G(at,Y,it,At,_t);else if(wt=F(O),typeof wt=="function")for(O=wt.call(O),wt=0;!(at=O.next()).done;)at=at.value,At=mt+te(at,wt++),Nt+=G(at,Y,it,At,_t);else if(At==="object"){if(typeof O.then=="function")return G(ue(O),Y,it,at,_t);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function nt(O,Y,it){if(O==null)return O;var at=[],_t=0;return G(O,at,"","",function(At){return Y.call(it,At,_t++)}),at}function ht(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Ct=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Bt={map:nt,forEach:function(O,Y,it){nt(O,function(){Y.apply(this,arguments)},it)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=w,Tt.Children=Bt,Tt.Component=W,Tt.Fragment=n,Tt.Profiler=l,Tt.PureComponent=st,Tt.StrictMode=s,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,Y,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=tt({},O.props),_t=O.key;if(Y!=null)for(At in Y.key!==void 0&&(_t=""+Y.key),Y)!S.call(Y,At)||At==="key"||At==="__self"||At==="__source"||At==="ref"&&Y.ref===void 0||(at[At]=Y[At]);var At=arguments.length-2;if(At===1)at.children=it;else if(1<At){for(var Nt=Array(At),mt=0;mt<At;mt++)Nt[mt]=arguments[mt+2];at.children=Nt}return C(O.type,_t,at)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Tt.createElement=function(O,Y,it){var at,_t={},At=null;if(Y!=null)for(at in Y.key!==void 0&&(At=""+Y.key),Y)S.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(_t[at]=Y[at]);var Nt=arguments.length-2;if(Nt===1)_t.children=it;else if(1<Nt){for(var mt=Array(Nt),wt=0;wt<Nt;wt++)mt[wt]=arguments[wt+2];_t.children=mt}if(O&&O.defaultProps)for(at in Nt=O.defaultProps,Nt)_t[at]===void 0&&(_t[at]=Nt[at]);return C(O,At,_t)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:p,render:O}},Tt.isValidElement=D,Tt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ht}},Tt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},Tt.startTransition=function(O){var Y=I.T,it={};I.T=it;try{var at=O(),_t=I.S;_t!==null&&_t(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(It,Ct)}catch(At){Ct(At)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),I.T=Y}},Tt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Tt.use=function(O){return I.H.use(O)},Tt.useActionState=function(O,Y,it){return I.H.useActionState(O,Y,it)},Tt.useCallback=function(O,Y){return I.H.useCallback(O,Y)},Tt.useContext=function(O){return I.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},Tt.useEffect=function(O,Y){return I.H.useEffect(O,Y)},Tt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Tt.useId=function(){return I.H.useId()},Tt.useImperativeHandle=function(O,Y,it){return I.H.useImperativeHandle(O,Y,it)},Tt.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},Tt.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},Tt.useMemo=function(O,Y){return I.H.useMemo(O,Y)},Tt.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},Tt.useReducer=function(O,Y,it){return I.H.useReducer(O,Y,it)},Tt.useRef=function(O){return I.H.useRef(O)},Tt.useState=function(O){return I.H.useState(O)},Tt.useSyncExternalStore=function(O,Y,it){return I.H.useSyncExternalStore(O,Y,it)},Tt.useTransition=function(){return I.H.useTransition()},Tt.version="19.2.4",Tt}var a0;function Vm(){return a0||(a0=1,Ld.exports=pA()),Ld.exports}var Le=Vm(),Pd={exports:{}},bl={},jd={exports:{}},zd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function gA(){return o0||(o0=1,(function(r){function t(G,nt){var ht=G.length;G.push(nt);t:for(;0<ht;){var Ct=ht-1>>>1,Bt=G[Ct];if(0<l(Bt,nt))G[Ct]=nt,G[ht]=Bt,ht=Ct;else break t}}function n(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var nt=G[0],ht=G.pop();if(ht!==nt){G[0]=ht;t:for(var Ct=0,Bt=G.length,O=Bt>>>1;Ct<O;){var Y=2*(Ct+1)-1,it=G[Y],at=Y+1,_t=G[at];if(0>l(it,ht))at<Bt&&0>l(_t,it)?(G[Ct]=_t,G[at]=ht,Ct=at):(G[Ct]=it,G[Y]=ht,Ct=Y);else if(at<Bt&&0>l(_t,ht))G[Ct]=_t,G[at]=ht,Ct=at;else break t}}return nt}function l(G,nt){var ht=G.sortIndex-nt.sortIndex;return ht!==0?ht:G.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,w=null,N=3,F=!1,Z=!1,tt=!1,H=!1,W=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,st=typeof setImmediate<"u"?setImmediate:null;function yt(G){for(var nt=n(y);nt!==null;){if(nt.callback===null)s(y);else if(nt.startTime<=G)s(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=n(y)}}function jt(G){if(tt=!1,yt(G),!Z)if(n(_)!==null)Z=!0,It||(It=!0,k());else{var nt=n(y);nt!==null&&ue(jt,nt.startTime-G)}}var It=!1,I=-1,S=5,C=-1;function V(){return H?!0:!(r.unstable_now()-C<S)}function D(){if(H=!1,It){var G=r.unstable_now();C=G;var nt=!0;try{t:{Z=!1,tt&&(tt=!1,lt(I),I=-1),F=!0;var ht=N;try{e:{for(yt(G),w=n(_);w!==null&&!(w.expirationTime>G&&V());){var Ct=w.callback;if(typeof Ct=="function"){w.callback=null,N=w.priorityLevel;var Bt=Ct(w.expirationTime<=G);if(G=r.unstable_now(),typeof Bt=="function"){w.callback=Bt,yt(G),nt=!0;break e}w===n(_)&&s(_),yt(G)}else s(_);w=n(_)}if(w!==null)nt=!0;else{var O=n(y);O!==null&&ue(jt,O.startTime-G),nt=!1}}break t}finally{w=null,N=ht,F=!1}nt=void 0}}finally{nt?k():It=!1}}}var k;if(typeof st=="function")k=function(){st(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,te=R.port2;R.port1.onmessage=D,k=function(){te.postMessage(null)}}else k=function(){W(D,0)};function ue(G,nt){I=W(function(){G(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_next=function(G){switch(N){case 1:case 2:case 3:var nt=3;break;default:nt=N}var ht=N;N=nt;try{return G()}finally{N=ht}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=N;N=G;try{return nt()}finally{N=ht}},r.unstable_scheduleCallback=function(G,nt,ht){var Ct=r.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Ct+ht:Ct):ht=Ct,G){case 1:var Bt=-1;break;case 2:Bt=250;break;case 5:Bt=1073741823;break;case 4:Bt=1e4;break;default:Bt=5e3}return Bt=ht+Bt,G={id:b++,callback:nt,priorityLevel:G,startTime:ht,expirationTime:Bt,sortIndex:-1},ht>Ct?(G.sortIndex=ht,t(y,G),n(_)===null&&G===n(y)&&(tt?(lt(I),I=-1):tt=!0,ue(jt,ht-Ct))):(G.sortIndex=Bt,t(_,G),Z||F||(Z=!0,It||(It=!0,k()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var nt=N;return function(){var ht=N;N=nt;try{return G.apply(this,arguments)}finally{N=ht}}}})(zd)),zd}var l0;function yA(){return l0||(l0=1,jd.exports=gA()),jd.exports}var Bd={exports:{}},Ze={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u0;function _A(){if(u0)return Ze;u0=1;var r=Vm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(_,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ze.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Ze.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return u(_,y,null,b)},Ze.flushSync=function(_){var y=d.T,b=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=y,s.p=b,s.d.f()}},Ze.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(_,y))},Ze.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},Ze.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?s.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:N,fetchPriority:F}):b==="script"&&s.d.X(_,{crossOrigin:w,integrity:N,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ze.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);s.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(_)},Ze.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=p(b,y.crossOrigin);s.d.L(_,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ze.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);s.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(_)},Ze.requestFormReset=function(_){s.d.r(_)},Ze.unstable_batchedUpdates=function(_,y){return _(y)},Ze.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},Ze.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ze.version="19.2.4",Ze}var c0;function vA(){if(c0)return Bd.exports;c0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=_A(),Bd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h0;function EA(){if(h0)return bl;h0=1;var r=yA(),t=Vm(),n=vA();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function _(e){if(u(e)!==e)throw Error(s(188))}function y(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,o=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return _(h),e;if(f===o)return _(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===a){g=!0,a=h,o=f;break}if(E===o){g=!0,o=h,a=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===a){g=!0,a=f,o=h;break}if(E===o){g=!0,o=f,a=h;break}E=E.sibling}if(!g)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function b(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=b(e),i!==null)return i;e=e.sibling}return null}var w=Object.assign,N=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),lt=Symbol.for("react.consumer"),st=Symbol.for("react.context"),yt=Symbol.for("react.forward_ref"),jt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case W:return"Profiler";case H:return"StrictMode";case jt:return"Suspense";case It:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case st:return e.displayName||"Context";case lt:return(e._context.displayName||"Context")+".Consumer";case yt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return i=e.displayName||null,i!==null?i:te(e.type)||"Memo";case S:i=e._payload,e=e._init;try{return te(e(i))}catch{}}return null}var ue=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Ct=[],Bt=-1;function O(e){return{current:e}}function Y(e){0>Bt||(e.current=Ct[Bt],Ct[Bt]=null,Bt--)}function it(e,i){Bt++,Ct[Bt]=e.current,e.current=i}var at=O(null),_t=O(null),At=O(null),Nt=O(null);function mt(e,i){switch(it(At,i),it(_t,e),it(at,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?R_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=R_(i),e=x_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),it(at,e)}function wt(){Y(at),Y(_t),Y(At)}function Ee(e){e.memoizedState!==null&&it(Nt,e);var i=at.current,a=x_(i,e.type);i!==a&&(it(_t,e),it(at,a))}function ae(e){_t.current===e&&(Y(at),Y(_t)),Nt.current===e&&(Y(Nt),yl._currentValue=ht)}var Pi,sa;function si(e){if(Pi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Pi=i&&i[1]||"",sa=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pi+e+sa}var yo=!1;function cs(e,i){if(!e||yo)return"";yo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(q){var z=q}Reflect.construct(e,[],X)}else{try{X.call()}catch(q){z=q}e.call(X.prototype)}}else{try{throw Error()}catch(q){z=q}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var x=g.split(`
`),j=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===j.length)for(o=x.length-1,h=j.length-1;1<=o&&0<=h&&x[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==j[h]){var K=`
`+x[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?si(a):""}function _o(e,i){switch(e.tag){case 26:case 27:case 5:return si(e.type);case 16:return si("Lazy");case 13:return e.child!==i&&i!==null?si("Suspense Fallback"):si("Suspense");case 19:return si("SuspenseList");case 0:case 15:return cs(e.type,!1);case 11:return cs(e.type.render,!1);case 1:return cs(e.type,!0);case 31:return si("Activity");default:return""}}function vo(e){try{var i="",a=null;do i+=_o(e,a),a=e,e=e.return;while(e);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Te=Object.prototype.hasOwnProperty,ke=r.unstable_scheduleCallback,hr=r.unstable_cancelCallback,Lh=r.unstable_shouldYield,nu=r.unstable_requestPaint,rn=r.unstable_now,hs=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,To=r.unstable_UserBlockingPriority,fr=r.unstable_NormalPriority,Ph=r.unstable_LowPriority,iu=r.unstable_IdlePriority,ru=r.log,su=r.unstable_setDisableYieldValue,qn=null,He=null;function Rn(e){if(typeof ru=="function"&&su(e),He&&typeof He.setStrictMode=="function")try{He.setStrictMode(qn,e)}catch{}}var pe=Math.clz32?Math.clz32:ou,au=Math.log,aa=Math.LN2;function ou(e){return e>>>=0,e===0?32:31-(au(e)/aa|0)|0}var ai=256,fs=262144,be=4194304;function oi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function li(e,i,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=oi(o):(g&=E,g!==0?h=oi(g):a||(a=E&~e,a!==0&&(h=oi(a))))):(E=o&~f,E!==0?h=oi(E):g!==0?h=oi(g):a||(a=o&~e,a!==0&&(h=oi(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function Hn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function jh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var e=be;return be<<=1,(be&62914560)===0&&(be=4194304),e}function ui(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function ds(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zh(e,i,a,o,h,f){var g=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,j=e.hiddenUpdates;for(a=g&~a;0<a;){var K=31-pe(a),X=1<<K;E[K]=0,x[K]=-1;var z=j[K];if(z!==null)for(j[K]=null,K=0;K<z.length;K++){var q=z[K];q!==null&&(q.lane&=-536870913)}a&=~X}o!==0&&ms(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~i))}function ms(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var o=31-pe(i);e.entangledLanes|=i,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function bo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var o=31-pe(a),h=1<<o;h&i|e[o]&i&&(e[o]|=i),a&=~h}}function Ao(e,i){var a=i&-i;return a=(a&42)!==0?1:ps(a),(a&(e.suspendedLanes|i))!==0?0:a}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:$_(e.type))}function Fn(e,i){var a=nt.p;try{return nt.p=e,i()}finally{nt.p=a}}var Gn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Gn,je="__reactProps$"+Gn,ci="__reactContainer$"+Gn,oa="__reactEvents$"+Gn,Bh="__reactListeners$"+Gn,cu="__reactHandles$"+Gn,hu="__reactResources$"+Gn,hi="__reactMarker$"+Gn;function la(e){delete e[Ae],delete e[je],delete e[oa],delete e[Bh],delete e[cu]}function fi(e){var i=e[Ae];if(i)return i;for(var a=e.parentNode;a;){if(i=a[ci]||a[Ae]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=V_(e);e!==null;){if(a=e[Ae])return a;e=V_(e)}return i}e=a,a=e.parentNode}return null}function xn(e){if(e=e[Ae]||e[ci]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function di(e){var i=e[hu];return i||(i=e[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function we(e){e[hi]=!0}var wo=new Set,So={};function mi(e,i){pi(e,i),pi(e+"Capture",i)}function pi(e,i){for(So[e]=i,e=0;e<i.length;e++)wo.add(i[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Io={};function fu(e){return Te.call(Io,e)?!0:Te.call(xo,e)?!1:Ro.test(e)?Io[e]=!0:(xo[e]=!0,!1)}function ua(e,i,a){if(fu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Se(e,i,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+o)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dr(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Co(e,i,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Qt(e){if(!e._valueTracker){var i=dr(e)?"checked":"value";e._valueTracker=Co(e,i,""+e[i])}}function gs(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return e&&(o=dr(e)?e.checked?"true":"false":e.value),e=o,e!==a?(i.setValue(e),!0):!1}function gi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ys=/[\n"\\]/g;function ln(e){return e.replace(ys,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ca(e,i,a,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),i!=null?g==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+ze(i)):e.value!==""+ze(i)&&(e.value=""+ze(i)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),i!=null?No(e,g,ze(i)):a!=null?No(e,g,ze(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ze(E):e.removeAttribute("name")}function du(e,i,a,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null)){Qt(e);return}a=a!=null?""+ze(a):"",i=i!=null?""+ze(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function No(e,i,a){i==="number"&&gi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function mr(e,i,a,o){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+ze(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function mu(e,i,a){if(i!=null&&(i=""+ze(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+ze(a):""}function pr(e,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(ue(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=ze(i),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Qt(e)}function un(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":o?e.setProperty(i,a):typeof a!="number"||a===0||pu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Oo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Do(e,h,o)}else for(var f in i)i.hasOwnProperty(f)&&Do(e,f,i[f])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return gr.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Mo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var yr=null,yi=null;function _s(e){var i=xn(e);if(i&&(e=i.stateNode)){var a=e[je]||null;t:switch(e=i.stateNode,i.type){case"input":if(ca(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==e&&o.form===e.form){var h=o[je]||null;if(!h)throw Error(s(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===e.form&&gs(o)}break t;case"textarea":mu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&mr(e,!!a.multiple,i,!1)}}}var da=!1;function _r(e,i,a){if(da)return e(i,a);da=!0;try{var o=e(i);return o}finally{if(da=!1,(yr!==null||yi!==null)&&(uc(),yr&&(i=yr,e=yi,yi=yr=null,_s(i),e)))for(i=0;i<e.length;i++)_s(e[i])}}function Qn(e,i){var a=e.stateNode;if(a===null)return null;var o=a[je]||null;if(o===null)return null;a=o[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vs=!1;if(Cn)try{var $t={};Object.defineProperty($t,"passive",{get:function(){vs=!0}}),window.addEventListener("test",$t,$t),window.removeEventListener("test",$t,$t)}catch{vs=!1}var _i=null,Vo=null,Es=null;function ko(){if(Es)return Es;var e,i=Vo,a=i.length,o,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<a&&i[e]===h[e];e++);var g=a-e;for(o=1;o<=g&&i[a-o]===h[f-o];o++);return Es=h.slice(e,1<o?1-o:void 0)}function Ts(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Yn(){return!1}function Fe(e){function i(a,o,h,f,g){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Yn,this.isPropagationStopped=Yn,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),i}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Fe(Bi),vr=w({},Bi,{view:0,detail:0}),Uo=Fe(vr),Er,ma,Ei,pa=w({},vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(Er=e.screenX-Ei.screenX,ma=e.screenY-Ei.screenY):ma=Er=0,Ei=e),Er)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Lo=Fe(pa),bs=w({},pa,{dataTransfer:0}),yu=Fe(bs),_u=w({},vr,{relatedTarget:0}),As=Fe(_u),Po=w({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Fe(Po),ga=w({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eu=Fe(ga),Tu=w({},Bi,{data:0}),Ti=Fe(Tu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=wu[e])?!!i[e]:!1}function Tr(){return Su}var sn=w({},vr,{key:function(e){if(e.key){var i=bu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ts(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tr,charCode:function(e){return e.type==="keypress"?Ts(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ts(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ru=Fe(sn),xu=w({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Fe(xu),c=w({},vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tr}),m=Fe(c),v=w({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Fe(v),L=w({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Fe(L),et=w({},Bi,{newState:0,oldState:0}),St=Fe(et),ge=[9,13,27,32],Ft=Cn&&"CompositionEvent"in window,oe=null;Cn&&"documentMode"in document&&(oe=document.documentMode);var Nn=Cn&&"TextEvent"in window&&!oe,bi=Cn&&(!Ft||oe&&8<oe&&11>=oe),Xn=" ",$n=!1;function ws(e,i){switch(e){case"keyup":return ge.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function L1(e,i){switch(e){case"compositionend":return ya(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return e=i.data,e===Xn&&$n?null:e;default:return null}}function P1(e,i){if(_a)return e==="compositionend"||!Ft&&ws(e,i)?(e=ko(),Es=Vo=_i=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return bi&&i.locale!=="ko"?null:i.data;default:return null}}var j1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!j1[e.type]:i==="textarea"}function Pp(e,i,a,o){yr?yi?yi.push(o):yi=[o]:yr=o,i=gc(i,"onChange"),0<i.length&&(a=new vi("onChange","change",null,a,o),e.push({event:a,listeners:i}))}var jo=null,zo=null;function z1(e){E_(e,0)}function Iu(e){var i=gn(e);if(gs(i))return e}function jp(e,i){if(e==="change")return i}var zp=!1;if(Cn){var qh;if(Cn){var Hh="oninput"in document;if(!Hh){var Bp=document.createElement("div");Bp.setAttribute("oninput","return;"),Hh=typeof Bp.oninput=="function"}qh=Hh}else qh=!1;zp=qh&&(!document.documentMode||9<document.documentMode)}function qp(){jo&&(jo.detachEvent("onpropertychange",Hp),zo=jo=null)}function Hp(e){if(e.propertyName==="value"&&Iu(zo)){var i=[];Pp(i,zo,e,In(e)),_r(z1,i)}}function B1(e,i,a){e==="focusin"?(qp(),jo=i,zo=a,jo.attachEvent("onpropertychange",Hp)):e==="focusout"&&qp()}function q1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Iu(zo)}function H1(e,i){if(e==="click")return Iu(i)}function F1(e,i){if(e==="input"||e==="change")return Iu(i)}function G1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:G1;function Bo(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Te.call(i,h)||!_n(e[h],i[h]))return!1}return!0}function Fp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gp(e,i){var a=Fp(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=i&&o>=i)return{node:a,offset:i-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Fp(a)}}function Kp(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Kp(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Qp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=gi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=gi(e.document)}return i}function Fh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var K1=Cn&&"documentMode"in document&&11>=document.documentMode,va=null,Gh=null,qo=null,Kh=!1;function Yp(e,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Kh||va==null||va!==gi(o)||(o=va,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=gc(Gh,"onSelect"),0<o.length&&(i=new vi("onSelect","select",null,i,a),e.push({event:i,listeners:o}),i.target=va)))}function Ss(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ea={animationend:Ss("Animation","AnimationEnd"),animationiteration:Ss("Animation","AnimationIteration"),animationstart:Ss("Animation","AnimationStart"),transitionrun:Ss("Transition","TransitionRun"),transitionstart:Ss("Transition","TransitionStart"),transitioncancel:Ss("Transition","TransitionCancel"),transitionend:Ss("Transition","TransitionEnd")},Qh={},Xp={};Cn&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Rs(e){if(Qh[e])return Qh[e];if(!Ea[e])return e;var i=Ea[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Xp)return Qh[e]=i[a];return e}var $p=Rs("animationend"),Jp=Rs("animationiteration"),Zp=Rs("animationstart"),Q1=Rs("transitionrun"),Y1=Rs("transitionstart"),X1=Rs("transitioncancel"),Wp=Rs("transitionend"),tg=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Jn(e,i){tg.set(e,i),mi(i,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],Ta=0,Xh=0;function Nu(){for(var e=Ta,i=Xh=Ta=0;i<e;){var a=Dn[i];Dn[i++]=null;var o=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var f=Dn[i];if(Dn[i++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&eg(a,h,f)}}function Du(e,i,a,o){Dn[Ta++]=e,Dn[Ta++]=i,Dn[Ta++]=a,Dn[Ta++]=o,Xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $h(e,i,a,o){return Du(e,i,a,o),Ou(e)}function xs(e,i){return Du(e,null,null,i),Ou(e)}function eg(e,i,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&i!==null&&(h=31-pe(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[i]:o.push(i),i.lane=a|536870912),f):null}function Ou(e){if(50<cl)throw cl=0,ad=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var ba={};function $1(e,i,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,o){return new $1(e,i,a,o)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function ng(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Mu(e,i,a,o,h,f){var g=0;if(o=e,typeof e=="function")Jh(e)&&(g=1);else if(typeof e=="string")g=eA(e,a,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=vn(31,a,i,h),e.elementType=C,e.lanes=f,e;case tt:return Is(a.children,h,f,i);case H:g=8,h|=24;break;case W:return e=vn(12,a,i,h|2),e.elementType=W,e.lanes=f,e;case jt:return e=vn(13,a,i,h),e.elementType=jt,e.lanes=f,e;case It:return e=vn(19,a,i,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case st:g=10;break t;case lt:g=9;break t;case yt:g=11;break t;case I:g=14;break t;case S:g=16,o=null;break t}g=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return i=vn(g,a,i,h),i.elementType=e,i.type=o,i.lanes=f,i}function Is(e,i,a,o){return e=vn(7,e,o,i),e.lanes=a,e}function Zh(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function ig(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function Wh(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var rg=new WeakMap;function On(e,i){if(typeof e=="object"&&e!==null){var a=rg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:vo(i)},rg.set(e,i),i)}return{value:e,source:i,stack:vo(i)}}var Aa=[],wa=0,Vu=null,Ho=0,Mn=[],Vn=0,br=null,Ai=1,wi="";function Fi(e,i){Aa[wa++]=Ho,Aa[wa++]=Vu,Vu=e,Ho=i}function sg(e,i,a){Mn[Vn++]=Ai,Mn[Vn++]=wi,Mn[Vn++]=br,br=e;var o=Ai;e=wi;var h=32-pe(o)-1;o&=~(1<<h),a+=1;var f=32-pe(i)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ai=1<<32-pe(i)+h|a<<h|o,wi=f+e}else Ai=1<<f|a<<h|o,wi=e}function tf(e){e.return!==null&&(Fi(e,1),sg(e,1,0))}function ef(e){for(;e===Vu;)Vu=Aa[--wa],Aa[wa]=null,Ho=Aa[--wa],Aa[wa]=null;for(;e===br;)br=Mn[--Vn],Mn[Vn]=null,wi=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null}function ag(e,i){Mn[Vn++]=Ai,Mn[Vn++]=wi,Mn[Vn++]=br,Ai=i.id,wi=i.overflow,br=e}var Ge=null,ie=null,Pt=!1,Ar=null,kn=!1,nf=Error(s(519));function wr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(On(i,e)),nf}function og(e){var i=e.stateNode,a=e.type,o=e.memoizedProps;switch(i[Ae]=e,i[je]=o,a){case"dialog":Ot("cancel",i),Ot("close",i);break;case"iframe":case"object":case"embed":Ot("load",i);break;case"video":case"audio":for(a=0;a<fl.length;a++)Ot(fl[a],i);break;case"source":Ot("error",i);break;case"img":case"image":case"link":Ot("error",i),Ot("load",i);break;case"details":Ot("toggle",i);break;case"input":Ot("invalid",i),du(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",i);break;case"textarea":Ot("invalid",i),pr(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||w_(i.textContent,a)?(o.popover!=null&&(Ot("beforetoggle",i),Ot("toggle",i)),o.onScroll!=null&&Ot("scroll",i),o.onScrollEnd!=null&&Ot("scrollend",i),o.onClick!=null&&(i.onclick=Kn),i=!0):i=!1,i||wr(e,!0)}function lg(e){for(Ge=e.return;Ge;)switch(Ge.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Ge=Ge.return}}function Sa(e){if(e!==Ge)return!1;if(!Pt)return lg(e),Pt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Td(e.type,e.memoizedProps)),a=!a),a&&ie&&wr(e),lg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=M_(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ie=M_(e)}else i===27?(i=ie,Pr(e.type)?(e=Rd,Rd=null,ie=e):ie=i):ie=Ge?Ln(e.stateNode.nextSibling):null;return!0}function Cs(){ie=Ge=null,Pt=!1}function rf(){var e=Ar;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Ar=null),e}function Fo(e){Ar===null?Ar=[e]:Ar.push(e)}var sf=O(null),Ns=null,Gi=null;function Sr(e,i,a){it(sf,i._currentValue),i._currentValue=a}function Ki(e){e._currentValue=sf.current,Y(sf)}function af(e,i,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),e===a)break;e=e.return}}function of(e,i,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<i.length;x++)if(E.context===i[x]){f.lanes|=a,E=f.alternate,E!==null&&(E.lanes|=a),af(f.return,a,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(s(341));g.lanes|=a,f=g.alternate,f!==null&&(f.lanes|=a),af(g,a,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ra(e,i,a,o){e=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(s(387));if(g=g.memoizedProps,g!==null){var E=h.type;_n(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Nt.current){if(g=h.alternate,g===null)throw Error(s(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&of(i,e,a,o),i.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ds(e){Ns=e,Gi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ke(e){return ug(Ns,e)}function Uu(e,i){return Ns===null&&Ds(e),ug(e,i)}function ug(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(e===null)throw Error(s(308));Gi=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else Gi=Gi.next=i;return a}var J1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},Z1=r.unstable_scheduleCallback,W1=r.unstable_NormalPriority,Re={$$typeof:st,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new J1,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&Z1(W1,function(){e.controller.abort()})}var Ko=null,uf=0,xa=0,Ia=null;function tb(e,i){if(Ko===null){var a=Ko=[];uf=0,xa=fd(),Ia={status:"pending",value:void 0,then:function(o){a.push(o)}}}return uf++,i.then(cg,cg),i}function cg(){if(--uf===0&&Ko!==null){Ia!==null&&(Ia.status="fulfilled");var e=Ko;Ko=null,xa=0,Ia=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function eb(e,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var hg=G.S;G.S=function(e,i){Yy=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&tb(e,i),hg!==null&&hg(e,i)};var Os=O(null);function cf(){var e=Os.current;return e!==null?e:ee.pooledCache}function Lu(e,i){i===null?it(Os,Os.current):it(Os,i.pool)}function fg(){var e=cf();return e===null?null:{parent:Re._currentValue,pool:e}}var Ca=Error(s(460)),hf=Error(s(474)),Pu=Error(s(542)),ju={then:function(){}};function dg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Kn,Kn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,gg(e),e;default:if(typeof i.status=="string")i.then(Kn,Kn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,gg(e),e}throw Vs=i,Ca}}function Ms(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Vs=a,Ca):a}}var Vs=null;function pg(){if(Vs===null)throw Error(s(459));var e=Vs;return Vs=null,e}function gg(e){if(e===Ca||e===Pu)throw Error(s(483))}var Na=null,Qo=0;function zu(e){var i=Qo;return Qo+=1,Na===null&&(Na=[]),mg(Na,e,i)}function Yo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Bu(e,i){throw i.$$typeof===N?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function yg(e){function i(U,M){if(e){var P=U.deletions;P===null?(U.deletions=[M],U.flags|=16):P.push(M)}}function a(U,M){if(!e)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Hi(U,M),U.index=0,U.sibling=null,U}function f(U,M,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<M?(U.flags|=67108866,M):P):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,P,Q){return M===null||M.tag!==6?(M=Zh(P,U.mode,Q),M.return=U,M):(M=h(M,P),M.return=U,M)}function x(U,M,P,Q){var ft=P.type;return ft===tt?K(U,M,P.props.children,Q,P.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Ms(ft)===M.type)?(M=h(M,P.props),Yo(M,P),M.return=U,M):(M=Mu(P.type,P.key,P.props,null,U.mode,Q),Yo(M,P),M.return=U,M)}function j(U,M,P,Q){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Wh(P,U.mode,Q),M.return=U,M):(M=h(M,P.children||[]),M.return=U,M)}function K(U,M,P,Q,ft){return M===null||M.tag!==7?(M=Is(P,U.mode,Q,ft),M.return=U,M):(M=h(M,P),M.return=U,M)}function X(U,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Zh(""+M,U.mode,P),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case F:return P=Mu(M.type,M.key,M.props,null,U.mode,P),Yo(P,M),P.return=U,P;case Z:return M=Wh(M,U.mode,P),M.return=U,M;case S:return M=Ms(M),X(U,M,P)}if(ue(M)||k(M))return M=Is(M,U.mode,P,null),M.return=U,M;if(typeof M.then=="function")return X(U,zu(M),P);if(M.$$typeof===st)return X(U,Uu(U,M),P);Bu(U,M)}return null}function z(U,M,P,Q){var ft=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(U,M,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ft?x(U,M,P,Q):null;case Z:return P.key===ft?j(U,M,P,Q):null;case S:return P=Ms(P),z(U,M,P,Q)}if(ue(P)||k(P))return ft!==null?null:K(U,M,P,Q,null);if(typeof P.then=="function")return z(U,M,zu(P),Q);if(P.$$typeof===st)return z(U,M,Uu(U,P),Q);Bu(U,P)}return null}function q(U,M,P,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(M,U,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return U=U.get(Q.key===null?P:Q.key)||null,x(M,U,Q,ft);case Z:return U=U.get(Q.key===null?P:Q.key)||null,j(M,U,Q,ft);case S:return Q=Ms(Q),q(U,M,P,Q,ft)}if(ue(Q)||k(Q))return U=U.get(P)||null,K(M,U,Q,ft,null);if(typeof Q.then=="function")return q(U,M,P,zu(Q),ft);if(Q.$$typeof===st)return q(U,M,P,Uu(M,Q),ft);Bu(M,Q)}return null}function ut(U,M,P,Q){for(var ft=null,qt=null,ct=M,xt=M=0,Vt=null;ct!==null&&xt<P.length;xt++){ct.index>xt?(Vt=ct,ct=null):Vt=ct.sibling;var Ht=z(U,ct,P[xt],Q);if(Ht===null){ct===null&&(ct=Vt);break}e&&ct&&Ht.alternate===null&&i(U,ct),M=f(Ht,M,xt),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht,ct=Vt}if(xt===P.length)return a(U,ct),Pt&&Fi(U,xt),ft;if(ct===null){for(;xt<P.length;xt++)ct=X(U,P[xt],Q),ct!==null&&(M=f(ct,M,xt),qt===null?ft=ct:qt.sibling=ct,qt=ct);return Pt&&Fi(U,xt),ft}for(ct=o(ct);xt<P.length;xt++)Vt=q(ct,U,xt,P[xt],Q),Vt!==null&&(e&&Vt.alternate!==null&&ct.delete(Vt.key===null?xt:Vt.key),M=f(Vt,M,xt),qt===null?ft=Vt:qt.sibling=Vt,qt=Vt);return e&&ct.forEach(function(Hr){return i(U,Hr)}),Pt&&Fi(U,xt),ft}function pt(U,M,P,Q){if(P==null)throw Error(s(151));for(var ft=null,qt=null,ct=M,xt=M=0,Vt=null,Ht=P.next();ct!==null&&!Ht.done;xt++,Ht=P.next()){ct.index>xt?(Vt=ct,ct=null):Vt=ct.sibling;var Hr=z(U,ct,Ht.value,Q);if(Hr===null){ct===null&&(ct=Vt);break}e&&ct&&Hr.alternate===null&&i(U,ct),M=f(Hr,M,xt),qt===null?ft=Hr:qt.sibling=Hr,qt=Hr,ct=Vt}if(Ht.done)return a(U,ct),Pt&&Fi(U,xt),ft;if(ct===null){for(;!Ht.done;xt++,Ht=P.next())Ht=X(U,Ht.value,Q),Ht!==null&&(M=f(Ht,M,xt),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return Pt&&Fi(U,xt),ft}for(ct=o(ct);!Ht.done;xt++,Ht=P.next())Ht=q(ct,U,xt,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&ct.delete(Ht.key===null?xt:Ht.key),M=f(Ht,M,xt),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return e&&ct.forEach(function(fA){return i(U,fA)}),Pt&&Fi(U,xt),ft}function Wt(U,M,P,Q){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ft=P.key;M!==null;){if(M.key===ft){if(ft=P.type,ft===tt){if(M.tag===7){a(U,M.sibling),Q=h(M,P.props.children),Q.return=U,U=Q;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===S&&Ms(ft)===M.type){a(U,M.sibling),Q=h(M,P.props),Yo(Q,P),Q.return=U,U=Q;break t}a(U,M);break}else i(U,M);M=M.sibling}P.type===tt?(Q=Is(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Mu(P.type,P.key,P.props,null,U.mode,Q),Yo(Q,P),Q.return=U,U=Q)}return g(U);case Z:t:{for(ft=P.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){a(U,M.sibling),Q=h(M,P.children||[]),Q.return=U,U=Q;break t}else{a(U,M);break}else i(U,M);M=M.sibling}Q=Wh(P,U.mode,Q),Q.return=U,U=Q}return g(U);case S:return P=Ms(P),Wt(U,M,P,Q)}if(ue(P))return ut(U,M,P,Q);if(k(P)){if(ft=k(P),typeof ft!="function")throw Error(s(150));return P=ft.call(P),pt(U,M,P,Q)}if(typeof P.then=="function")return Wt(U,M,zu(P),Q);if(P.$$typeof===st)return Wt(U,M,Uu(U,P),Q);Bu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(a(U,M.sibling),Q=h(M,P),Q.return=U,U=Q):(a(U,M),Q=Zh(P,U.mode,Q),Q.return=U,U=Q),g(U)):a(U,M)}return function(U,M,P,Q){try{Qo=0;var ft=Wt(U,M,P,Q);return Na=null,ft}catch(ct){if(ct===Ca||ct===Pu)throw ct;var qt=vn(29,ct,null,U.mode);return qt.lanes=Q,qt.return=U,qt}finally{}}}var ks=yg(!0),_g=yg(!1),Rr=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ir(e,i,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Ou(e),eg(e,null,a),i}return Du(e,o,i,a),Ou(e)}function Xo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}function mf(e,i){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var g={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var pf=!1;function $o(){if(pf){var e=Ia;if(e!==null)throw e}}function Jo(e,i,a,o){pf=!1;var h=e.updateQueue;Rr=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,j=x.next;x.next=null,g===null?f=j:g.next=j,g=x;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==g&&(E===null?K.firstBaseUpdate=j:E.next=j,K.lastBaseUpdate=x))}if(f!==null){var X=h.baseState;g=0,K=j=x=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Mt&z)===z:(o&z)===z){z!==0&&z===xa&&(pf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ut=e,pt=E;z=i;var Wt=a;switch(pt.tag){case 1:if(ut=pt.payload,typeof ut=="function"){X=ut.call(Wt,X,z);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=pt.payload,z=typeof ut=="function"?ut.call(Wt,X,z):ut,z==null)break t;X=w({},X,z);break t;case 2:Rr=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(j=K=q,x=X):K=K.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);K===null&&(x=X),h.baseState=x,h.firstBaseUpdate=j,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Mr|=g,e.lanes=g,e.memoizedState=X}}function vg(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Eg(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)vg(a[e],i)}var Da=O(null),qu=O(0);function Tg(e,i){e=er,it(qu,e),it(Da,i),er=e|i.baseLanes}function gf(){it(qu,er),it(Da,Da.current)}function yf(){er=qu.current,Y(Da),Y(qu)}var En=O(null),Un=null;function Cr(e){var i=e.alternate;it(ye,ye.current&1),it(En,e),Un===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(Un=e)}function _f(e){it(ye,ye.current),it(En,e),Un===null&&(Un=e)}function bg(e){e.tag===22?(it(ye,ye.current),it(En,e),Un===null&&(Un=e)):Nr()}function Nr(){it(ye,ye.current),it(En,En.current)}function Tn(e){Y(En),Un===e&&(Un=null),Y(ye)}var ye=O(0);function Hu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||wd(a)||Sd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,Rt=null,Jt=null,xe=null,Fu=!1,Oa=!1,Us=!1,Gu=0,Zo=0,Ma=null,nb=0;function he(){throw Error(s(321))}function vf(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function Ef(e,i,a,o,h,f){return Qi=f,Rt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?sy:kf,Us=!1,f=a(o,h),Us=!1,Oa&&(f=wg(i,a,o,h)),Ag(e),f}function Ag(e){G.H=el;var i=Jt!==null&&Jt.next!==null;if(Qi=0,xe=Jt=Rt=null,Fu=!1,Zo=0,Ma=null,i)throw Error(s(300));e===null||Ie||(e=e.dependencies,e!==null&&ku(e)&&(Ie=!0))}function wg(e,i,a,o){Rt=e;var h=0;do{if(Oa&&(Ma=null),Zo=0,Oa=!1,25<=h)throw Error(s(301));if(h+=1,xe=Jt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=ay,f=i(a,o)}while(Oa);return f}function ib(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?Wo(i):i,e=e.useState()[0],(Jt!==null?Jt.memoizedState:null)!==e&&(Rt.flags|=1024),i}function Tf(){var e=Gu!==0;return Gu=0,e}function bf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function Af(e){if(Fu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Fu=!1}Qi=0,xe=Jt=Rt=null,Oa=!1,Zo=Gu=0,Ma=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?Rt.memoizedState=xe=e:xe=xe.next=e,xe}function _e(){if(Jt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Jt.next;var i=xe===null?Rt.memoizedState:xe.next;if(i!==null)xe=i,Jt=e;else{if(e===null)throw Rt.alternate===null?Error(s(467)):Error(s(310));Jt=e,e={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},xe===null?Rt.memoizedState=xe=e:xe=xe.next=e}return xe}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var i=Zo;return Zo+=1,Ma===null&&(Ma=[]),e=mg(Ma,e,i),i=Rt,(xe===null?i.memoizedState:xe.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?sy:kf),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===st)return Ke(e)}throw Error(s(438,String(e)))}function wf(e){var i=null,a=Rt.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ku(),Rt.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),o=0;o<e;o++)a[o]=V;return i.index++,a}function Yi(e,i){return typeof i=="function"?i(e):i}function Yu(e){var i=_e();return Sf(i,Jt,e)}function Sf(e,i,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}i.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{i=h.next;var E=g=null,x=null,j=i,K=!1;do{var X=j.lane&-536870913;if(X!==j.lane?(Mt&X)===X:(Qi&X)===X){var z=j.revertLane;if(z===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),X===xa&&(K=!0);else if((Qi&z)===z){j=j.next,z===xa&&(K=!0);continue}else X={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=X,g=f):x=x.next=X,Rt.lanes|=z,Mr|=z;X=j.action,Us&&a(f,X),f=j.hasEagerState?j.eagerState:a(f,X)}else z={lane:X,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},x===null?(E=x=z,g=f):x=x.next=z,Rt.lanes|=X,Mr|=X;j=j.next}while(j!==null&&j!==i);if(x===null?g=f:x.next=E,!_n(f,e.memoizedState)&&(Ie=!0,K&&(a=Ia,a!==null)))throw a;e.memoizedState=f,e.baseState=g,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Rf(e){var i=_e(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);_n(f,i.memoizedState)||(Ie=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,o]}function Sg(e,i,a){var o=Rt,h=_e(),f=Pt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var g=!_n((Jt||h).memoizedState,a);if(g&&(h.memoizedState=a,Ie=!0),h=h.queue,Cf(Ig.bind(null,o,h,e),[e]),h.getSnapshot!==i||g||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},xg.bind(null,o,h,a,i),null),ee===null)throw Error(s(349));f||(Qi&127)!==0||Rg(o,i,a)}return a}function Rg(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=Rt.updateQueue,i===null?(i=Ku(),Rt.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function xg(e,i,a,o){i.value=a,i.getSnapshot=o,Cg(i)&&Ng(e)}function Ig(e,i,a){return a(function(){Cg(i)&&Ng(e)})}function Cg(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function Ng(e){var i=xs(e,2);i!==null&&mn(i,e,2)}function xf(e){var i=an();if(typeof e=="function"){var a=e;if(e=a(),Us){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},i}function Dg(e,i,a,o){return e.baseState=a,Sf(e,Jt,typeof o=="function"?o:Yi)}function rb(e,i,a,o,h){if(Ju(e))throw Error(s(485));if(e=i.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?a(!0):f.isTransition=!1,o(f),a=i.pending,a===null?(f.next=i.pending=f,Og(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Og(e,i){var a=i.action,o=i.payload,h=e.state;if(i.isTransition){var f=G.T,g={};G.T=g;try{var E=a(h,o),x=G.S;x!==null&&x(g,E),Mg(e,i,E)}catch(j){If(e,i,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=a(h,o),Mg(e,i,f)}catch(j){If(e,i,j)}}function Mg(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){Vg(e,i,o)},function(o){return If(e,i,o)}):Vg(e,i,a)}function Vg(e,i,a){i.status="fulfilled",i.value=a,kg(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,Og(e,a)))}function If(e,i,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,kg(i),i=i.next;while(i!==o)}e.action=null}function kg(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ug(e,i){return i}function Lg(e,i){if(Pt){var a=ee.formState;if(a!==null){t:{var o=Rt;if(Pt){if(ie){e:{for(var h=ie,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Ln(h.nextSibling),o=h.data==="F!";break t}}wr(o)}o=!1}o&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:i},a.queue=o,a=ny.bind(null,Rt,o),o.dispatch=a,o=xf(!1),f=Vf.bind(null,Rt,!1,o.queue),o=an(),h={state:i,dispatch:null,action:e,pending:null},o.queue=h,a=rb.bind(null,Rt,h,f,a),h.dispatch=a,o.memoizedState=e,[i,a,!1]}function Pg(e){var i=_e();return jg(i,Jt,e)}function jg(e,i,a){if(i=Sf(e,i,Ug)[0],e=Yu(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=Wo(i)}catch(g){throw g===Ca?Pu:g}else o=i;i=_e();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Rt.flags|=2048,Va(9,{destroy:void 0},sb.bind(null,h,a),null)),[o,f,e]}function sb(e,i){e.action=i}function zg(e){var i=_e(),a=Jt;if(a!==null)return jg(i,a,e);_e(),i=i.memoizedState,a=_e();var o=a.queue.dispatch;return a.memoizedState=e,[i,o,!1]}function Va(e,i,a,o){return e={tag:e,create:a,deps:o,inst:i,next:null},i=Rt.updateQueue,i===null&&(i=Ku(),Rt.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,i.lastEffect=e),e}function Bg(){return _e().memoizedState}function Xu(e,i,a,o){var h=an();Rt.flags|=e,h.memoizedState=Va(1|i,{destroy:void 0},a,o===void 0?null:o)}function $u(e,i,a,o){var h=_e();o=o===void 0?null:o;var f=h.memoizedState.inst;Jt!==null&&o!==null&&vf(o,Jt.memoizedState.deps)?h.memoizedState=Va(i,f,a,o):(Rt.flags|=e,h.memoizedState=Va(1|i,f,a,o))}function qg(e,i){Xu(8390656,8,e,i)}function Cf(e,i){$u(2048,8,e,i)}function ab(e){Rt.flags|=4;var i=Rt.updateQueue;if(i===null)i=Ku(),Rt.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Hg(e){var i=_e().memoizedState;return ab({ref:i,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Fg(e,i){return $u(4,2,e,i)}function Gg(e,i){return $u(4,4,e,i)}function Kg(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Qg(e,i,a){a=a!=null?a.concat([e]):null,$u(4,4,Kg.bind(null,i,e),a)}function Nf(){}function Yg(e,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&vf(i,o[1])?o[0]:(a.memoizedState=[e,i],e)}function Xg(e,i){var a=_e();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&vf(i,o[1]))return o[0];if(o=e(),Us){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,i],o}function Df(e,i,a){return a===void 0||(Qi&1073741824)!==0&&(Mt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=$y(),Rt.lanes|=e,Mr|=e,a)}function $g(e,i,a,o){return _n(a,i)?a:Da.current!==null?(e=Df(e,a,o),_n(e,i)||(Ie=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Mt&261930)===0?(Ie=!0,e.memoizedState=a):(e=$y(),Rt.lanes|=e,Mr|=e,i)}function Jg(e,i,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Vf(e,!1,i,a);try{var x=h(),j=G.S;if(j!==null&&j(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var K=eb(x,o);tl(e,i,K,wn(e))}else tl(e,i,o,wn(e))}catch(X){tl(e,i,{then:function(){},status:"rejected",reason:X},wn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function ob(){}function Of(e,i,a,o){if(e.tag!==5)throw Error(s(476));var h=Zg(e).queue;Jg(e,h,i,ht,a===null?ob:function(){return Wg(e),a(o)})}function Zg(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ht},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Wg(e){var i=Zg(e);i.next===null&&(i=e.alternate.memoizedState),tl(e,i.next.queue,{},wn())}function Mf(){return Ke(yl)}function ty(){return _e().memoizedState}function ey(){return _e().memoizedState}function lb(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=wn();e=xr(a);var o=Ir(i,e,a);o!==null&&(mn(o,i,a),Xo(o,i,a)),i={cache:lf()},e.payload=i;return}i=i.return}}function ub(e,i,a){var o=wn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Ju(e)?iy(i,a):(a=$h(e,i,a,o),a!==null&&(mn(a,e,o),ry(a,i,o)))}function ny(e,i,a){var o=wn();tl(e,i,a,o)}function tl(e,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))iy(i,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var g=i.lastRenderedState,E=f(g,a);if(h.hasEagerState=!0,h.eagerState=E,_n(E,g))return Du(e,i,h,0),ee===null&&Nu(),!1}catch{}finally{}if(a=$h(e,i,h,o),a!==null)return mn(a,e,o),ry(a,i,o),!0}return!1}function Vf(e,i,a,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(i)throw Error(s(479))}else i=$h(e,a,o,2),i!==null&&mn(i,e,2)}function Ju(e){var i=e.alternate;return e===Rt||i!==null&&i===Rt}function iy(e,i){Oa=Fu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function ry(e,i,a){if((a&4194048)!==0){var o=i.lanes;o&=e.pendingLanes,a|=o,i.lanes=a,bo(e,a)}}var el={readContext:Ke,use:Qu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};el.useEffectEvent=he;var sy={readContext:Ke,use:Qu,useCallback:function(e,i){return an().memoizedState=[e,i===void 0?null:i],e},useContext:Ke,useEffect:qg,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Xu(4194308,4,Kg.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Xu(4194308,4,e,i)},useInsertionEffect:function(e,i){Xu(4,2,e,i)},useMemo:function(e,i){var a=an();i=i===void 0?null:i;var o=e();if(Us){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(e,i,a){var o=an();if(a!==void 0){var h=a(i);if(Us){Rn(!0);try{a(i)}finally{Rn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=ub.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var i=an();return e={current:e},i.memoizedState=e},useState:function(e){e=xf(e);var i=e.queue,a=ny.bind(null,Rt,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:Nf,useDeferredValue:function(e,i){var a=an();return Df(a,e,i)},useTransition:function(){var e=xf(!1);return e=Jg.bind(null,Rt,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var o=Rt,h=an();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ee===null)throw Error(s(349));(Mt&127)!==0||Rg(o,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,qg(Ig.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},xg.bind(null,o,f,a,i),null),a},useId:function(){var e=an(),i=ee.identifierPrefix;if(Pt){var a=wi,o=Ai;a=(o&~(1<<32-pe(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Gu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=nb++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Mf,useFormState:Lg,useActionState:Lg,useOptimistic:function(e){var i=an();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Vf.bind(null,Rt,!0,a),a.dispatch=i,[e,i]},useMemoCache:wf,useCacheRefresh:function(){return an().memoizedState=lb.bind(null,Rt)},useEffectEvent:function(e){var i=an(),a={impl:e};return i.memoizedState=a,function(){if((Gt&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},kf={readContext:Ke,use:Qu,useCallback:Yg,useContext:Ke,useEffect:Cf,useImperativeHandle:Qg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Yu,useRef:Bg,useState:function(){return Yu(Yi)},useDebugValue:Nf,useDeferredValue:function(e,i){var a=_e();return $g(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Yu(Yi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:Sg,useId:ty,useHostTransitionStatus:Mf,useFormState:Pg,useActionState:Pg,useOptimistic:function(e,i){var a=_e();return Dg(a,Jt,e,i)},useMemoCache:wf,useCacheRefresh:ey};kf.useEffectEvent=Hg;var ay={readContext:Ke,use:Qu,useCallback:Yg,useContext:Ke,useEffect:Cf,useImperativeHandle:Qg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Xg,useReducer:Rf,useRef:Bg,useState:function(){return Rf(Yi)},useDebugValue:Nf,useDeferredValue:function(e,i){var a=_e();return Jt===null?Df(a,e,i):$g(a,Jt.memoizedState,e,i)},useTransition:function(){var e=Rf(Yi)[0],i=_e().memoizedState;return[typeof e=="boolean"?e:Wo(e),i]},useSyncExternalStore:Sg,useId:ty,useHostTransitionStatus:Mf,useFormState:zg,useActionState:zg,useOptimistic:function(e,i){var a=_e();return Jt!==null?Dg(a,Jt,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:wf,useCacheRefresh:ey};ay.useEffectEvent=Hg;function Uf(e,i,a,o){i=e.memoizedState,a=a(o,i),a=a==null?i:w({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lf={enqueueSetState:function(e,i,a){e=e._reactInternals;var o=wn(),h=xr(o);h.payload=i,a!=null&&(h.callback=a),i=Ir(e,h,o),i!==null&&(mn(i,e,o),Xo(i,e,o))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var o=wn(),h=xr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ir(e,h,o),i!==null&&(mn(i,e,o),Xo(i,e,o))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=wn(),o=xr(a);o.tag=2,i!=null&&(o.callback=i),i=Ir(e,o,a),i!==null&&(mn(i,e,a),Xo(i,e,a))}};function oy(e,i,a,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):i.prototype&&i.prototype.isPureReactComponent?!Bo(a,o)||!Bo(h,f):!0}function ly(e,i,a,o){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==e&&Lf.enqueueReplaceState(i,i.state,null)}function Ls(e,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(e=e.defaultProps){a===i&&(a=w({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function uy(e){Cu(e)}function cy(e){console.error(e)}function hy(e){Cu(e)}function Zu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function fy(e,i,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,i,a){return a=xr(a),a.tag=3,a.payload={element:null},a.callback=function(){Zu(e,i)},a}function dy(e){return e=xr(e),e.tag=3,e}function my(e,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){fy(i,a,o)}}var g=a.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){fy(i,a,o),typeof h!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function cb(e,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Ra(i,a,h,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?cc():a.alternate===null&&fe===0&&(fe=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ju?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),ud(e,o,h)),!1;case 22:return a.flags|=65536,o===ju?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),ud(e,o,h)),!1}throw Error(s(435,a.tag))}return ud(e,o,h),cc(),!1}if(Pt)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==nf&&(e=Error(s(422),{cause:o}),Fo(On(e,a)))):(o!==nf&&(i=Error(s(423),{cause:o}),Fo(On(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,a),h=Pf(e.stateNode,o,h),mf(e,h),fe!==4&&(fe=2)),!1;var f=Error(s(520),{cause:o});if(f=On(f,a),ul===null?ul=[f]:ul.push(f),fe!==4&&(fe=2),i===null)return!0;o=On(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Pf(a.stateNode,o,e),mf(a,e),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Vr===null||!Vr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=dy(h),my(h,e,a,o),mf(a,h),!1}a=a.return}while(a!==null);return!1}var jf=Error(s(461)),Ie=!1;function Qe(e,i,a,o){i.child=e===null?_g(i,null,a,o):ks(i,e.child,a,o)}function py(e,i,a,o,h){a=a.render;var f=i.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ds(i),o=Ef(e,i,a,g,f,h),E=Tf(),e!==null&&!Ie?(bf(e,i,h),Xi(e,i,h)):(Pt&&E&&tf(i),i.flags|=1,Qe(e,i,o,h),i.child)}function gy(e,i,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,yy(e,i,f,o,h)):(e=Mu(a.type,null,o,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(f=e.child,!Qf(e,h)){var g=f.memoizedProps;if(a=a.compare,a=a!==null?a:Bo,a(g,o)&&e.ref===i.ref)return Xi(e,i,h)}return i.flags|=1,e=Hi(f,o),e.ref=i.ref,e.return=i,i.child=e}function yy(e,i,a,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===i.ref)if(Ie=!1,i.pendingProps=o=f,Qf(e,h))(e.flags&131072)!==0&&(Ie=!0);else return i.lanes=e.lanes,Xi(e,i,h)}return zf(e,i,a,o,h)}function _y(e,i,a,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(f=f!==null?f.baseLanes|a:a,e!==null){for(o=i.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,i.child=null;return vy(e,i,f,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(i,f!==null?f.cachePool:null),f!==null?Tg(i,f):gf(),bg(i);else return o=i.lanes=536870912,vy(e,i,f!==null?f.baseLanes|a:a,a,o)}else f!==null?(Lu(i,f.cachePool),Tg(i,f),Nr(),i.memoizedState=null):(e!==null&&Lu(i,null),gf(),Nr());return Qe(e,i,h,a),i.child}function nl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function vy(e,i,a,o,h){var f=cf();return f=f===null?null:{parent:Re._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},e!==null&&Lu(i,null),gf(),bg(i),e!==null&&Ra(e,i,o,!0),i.childLanes=h,null}function Wu(e,i){return i=ec({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Ey(e,i,a){return ks(i,e.child,null,a),e=Wu(i,i.pendingProps),e.flags|=2,Tn(i),i.memoizedState=null,e}function hb(e,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=Wu(i,o),i.lanes=536870912,nl(null,e);if(_f(i),(e=ie)?(e=O_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:br!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=ig(e),a.return=i,i.child=a,Ge=i,ie=null)):e=null,e===null)throw wr(i);return i.lanes=536870912,null}return Wu(i,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(_f(i),h)if(i.flags&256)i.flags&=-257,i=Ey(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ie||Ra(e,i,a,!1),h=(a&e.childLanes)!==0,Ie||h){if(o=ee,o!==null&&(g=Ao(o,a),g!==0&&g!==f.retryLane))throw f.retryLane=g,xs(e,g),mn(o,e,g),jf;cc(),i=Ey(e,i,a)}else e=f.treeContext,ie=Ln(g.nextSibling),Ge=i,Pt=!0,Ar=null,kn=!1,e!==null&&ag(i,e),i=Wu(i,o),i.flags|=4096;return i}return e=Hi(e.child,{mode:o.mode,children:o.children}),e.ref=i.ref,i.child=e,e.return=i,e}function tc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function zf(e,i,a,o,h){return Ds(i),a=Ef(e,i,a,o,void 0,h),o=Tf(),e!==null&&!Ie?(bf(e,i,h),Xi(e,i,h)):(Pt&&o&&tf(i),i.flags|=1,Qe(e,i,a,h),i.child)}function Ty(e,i,a,o,h,f){return Ds(i),i.updateQueue=null,a=wg(i,o,a,h),Ag(e),o=Tf(),e!==null&&!Ie?(bf(e,i,f),Xi(e,i,f)):(Pt&&o&&tf(i),i.flags|=1,Qe(e,i,a,f),i.child)}function by(e,i,a,o,h){if(Ds(i),i.stateNode===null){var f=ba,g=a.contextType;typeof g=="object"&&g!==null&&(f=Ke(g)),f=new a(o,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=o,f.state=i.memoizedState,f.refs={},ff(i),g=a.contextType,f.context=typeof g=="object"&&g!==null?Ke(g):ba,f.state=i.memoizedState,g=a.getDerivedStateFromProps,typeof g=="function"&&(Uf(i,a,g,o),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Lf.enqueueReplaceState(f,f.state,null),Jo(i,o,f,h),$o(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(e===null){f=i.stateNode;var E=i.memoizedProps,x=Ls(a,E);f.props=x;var j=f.context,K=a.contextType;g=ba,typeof K=="object"&&K!==null&&(g=Ke(K));var X=a.getDerivedStateFromProps;K=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&ly(i,f,o,g),Rr=!1;var z=i.memoizedState;f.state=z,Jo(i,o,f,h),$o(),j=i.memoizedState,E||z!==j||Rr?(typeof X=="function"&&(Uf(i,a,X,o),j=i.memoizedState),(x=Rr||oy(i,a,x,o,z,j,g))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=j),f.props=o,f.state=j,f.context=g,o=x):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{f=i.stateNode,df(e,i),g=i.memoizedProps,K=Ls(a,g),f.props=K,X=i.pendingProps,z=f.context,j=a.contextType,x=ba,typeof j=="object"&&j!==null&&(x=Ke(j)),E=a.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==x)&&ly(i,f,o,x),Rr=!1,z=i.memoizedState,f.state=z,Jo(i,o,f,h),$o();var q=i.memoizedState;g!==X||z!==q||Rr||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof E=="function"&&(Uf(i,a,E,o),q=i.memoizedState),(K=Rr||oy(i,a,K,o,z,q,x)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,x)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=q),f.props=o,f.state=q,f.context=x,o=K):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(i.flags|=1024),o=!1)}return f=o,tc(e,i),o=(i.flags&128)!==0,f||o?(f=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,e!==null&&o?(i.child=ks(i,e.child,null,h),i.child=ks(i,null,a,h)):Qe(e,i,a,h),i.memoizedState=f.state,e=i.child):e=Xi(e,i,h),e}function Ay(e,i,a,o){return Cs(),i.flags|=256,Qe(e,i,a,o),i.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:fg()}}function Hf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=An),e}function wy(e,i,a){var o=i.pendingProps,h=!1,f=(i.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),g&&(h=!0,i.flags&=-129),g=(i.flags&32)!==0,i.flags&=-33,e===null){if(Pt){if(h?Cr(i):Nr(),(e=ie)?(e=O_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:br!==null?{id:Ai,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=ig(e),a.return=i,i.child=a,Ge=i,ie=null)):e=null,e===null)throw wr(i);return Sd(e)?i.lanes=32:i.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Nr(),h=i.mode,E=ec({mode:"hidden",children:E},h),o=Is(o,h,a,null),E.return=i,o.return=i,E.sibling=o,i.child=E,o=i.child,o.memoizedState=qf(a),o.childLanes=Hf(e,g,a),i.memoizedState=Bf,nl(null,o)):(Cr(i),Ff(i,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)i.flags&256?(Cr(i),i.flags&=-257,i=Gf(e,i,a)):i.memoizedState!==null?(Nr(),i.child=e.child,i.flags|=128,i=null):(Nr(),E=o.fallback,h=i.mode,o=ec({mode:"visible",children:o.children},h),E=Is(E,h,a,null),E.flags|=2,o.return=i,E.return=i,o.sibling=E,i.child=o,ks(i,e.child,null,a),o=i.child,o.memoizedState=qf(a),o.childLanes=Hf(e,g,a),i.memoizedState=Bf,i=nl(null,o));else if(Cr(i),Sd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,o=Error(s(419)),o.stack="",o.digest=g,Fo({value:o,source:null,stack:null}),i=Gf(e,i,a)}else if(Ie||Ra(e,i,a,!1),g=(a&e.childLanes)!==0,Ie||g){if(g=ee,g!==null&&(o=Ao(g,a),o!==0&&o!==x.retryLane))throw x.retryLane=o,xs(e,o),mn(g,e,o),jf;wd(E)||cc(),i=Gf(e,i,a)}else wd(E)?(i.flags|=192,i.child=e.child,i=null):(e=x.treeContext,ie=Ln(E.nextSibling),Ge=i,Pt=!0,Ar=null,kn=!1,e!==null&&ag(i,e),i=Ff(i,o.children),i.flags|=4096);return i}return h?(Nr(),E=o.fallback,h=i.mode,x=e.child,j=x.sibling,o=Hi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,j!==null?E=Hi(j,E):(E=Is(E,h,a,null),E.flags|=2),E.return=i,o.return=i,o.sibling=E,i.child=o,nl(null,o),o=i.child,E=e.child.memoizedState,E===null?E=qf(a):(h=E.cachePool,h!==null?(x=Re._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=fg(),E={baseLanes:E.baseLanes|a,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(e,g,a),i.memoizedState=Bf,nl(e.child,o)):(Cr(i),a=e.child,e=a.sibling,a=Hi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,e!==null&&(g=i.deletions,g===null?(i.deletions=[e],i.flags|=16):g.push(e)),i.child=a,i.memoizedState=null,a)}function Ff(e,i){return i=ec({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ec(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function Gf(e,i,a){return ks(i,e.child,null,a),e=Ff(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Sy(e,i,a){e.lanes|=i;var o=e.alternate;o!==null&&(o.lanes|=i),af(e.return,i,a)}function Kf(e,i,a,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=a,g.tailMode=h,g.treeForkCount=f)}function Ry(e,i,a){var o=i.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=ye.current,E=(g&2)!==0;if(E?(g=g&1|2,i.flags|=128):g&=1,it(ye,g),Qe(e,i,o,a),o=Pt?Ho:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sy(e,a,i);else if(e.tag===19)Sy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&Hu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Kf(i,!1,h,a,f,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&Hu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Kf(i,!0,a,null,f,o);break;case"together":Kf(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Mr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(Ra(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Hi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Hi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Qf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function fb(e,i,a){switch(i.tag){case 3:mt(i,i.stateNode.containerInfo),Sr(i,Re,e.memoizedState.cache),Cs();break;case 27:case 5:Ee(i);break;case 4:mt(i,i.stateNode.containerInfo);break;case 10:Sr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,_f(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?wy(e,i,a):(Cr(i),e=Xi(e,i,a),e!==null?e.sibling:null);Cr(i);break;case 19:var h=(e.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Ra(e,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Ry(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(ye,ye.current),o)break;return null;case 22:return i.lanes=0,_y(e,i,a,i.pendingProps);case 24:Sr(i,Re,e.memoizedState.cache)}return Xi(e,i,a)}function xy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ie=!0;else{if(!Qf(e,a)&&(i.flags&128)===0)return Ie=!1,fb(e,i,a);Ie=(e.flags&131072)!==0}else Ie=!1,Pt&&(i.flags&1048576)!==0&&sg(i,Ho,i.index);switch(i.lanes=0,i.tag){case 16:t:{var o=i.pendingProps;if(e=Ms(i.elementType),i.type=e,typeof e=="function")Jh(e)?(o=Ls(e,o),i.tag=1,i=by(null,i,e,o,a)):(i.tag=0,i=zf(null,i,e,o,a));else{if(e!=null){var h=e.$$typeof;if(h===yt){i.tag=11,i=py(null,i,e,o,a);break t}else if(h===I){i.tag=14,i=gy(null,i,e,o,a);break t}}throw i=te(e)||e,Error(s(306,i,""))}}return i;case 0:return zf(e,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ls(o,i.pendingProps),by(e,i,o,h,a);case 3:t:{if(mt(i,i.stateNode.containerInfo),e===null)throw Error(s(387));o=i.pendingProps;var f=i.memoizedState;h=f.element,df(e,i),Jo(i,o,null,a);var g=i.memoizedState;if(o=g.cache,Sr(i,Re,o),o!==f.cache&&of(i,[Re],a,!0),$o(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Ay(e,i,o,a);break t}else if(o!==h){h=On(Error(s(424)),i),Fo(h),i=Ay(e,i,o,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ie=Ln(e.firstChild),Ge=i,Pt=!0,Ar=null,kn=!0,a=_g(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Cs(),o===h){i=Xi(e,i,a);break t}Qe(e,i,o,a)}i=i.child}return i;case 26:return tc(e,i),e===null?(a=P_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pt||(a=i.type,e=i.pendingProps,o=yc(At.current).createElement(a),o[Ae]=i,o[je]=e,Ye(o,a,e),we(o),i.stateNode=o):i.memoizedState=P_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Ee(i),e===null&&Pt&&(o=i.stateNode=k_(i.type,i.pendingProps,At.current),Ge=i,kn=!0,h=ie,Pr(i.type)?(Rd=h,ie=Ln(o.firstChild)):ie=h),Qe(e,i,i.pendingProps.children,a),tc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&Pt&&((h=o=ie)&&(o=qb(o,i.type,i.pendingProps,kn),o!==null?(i.stateNode=o,Ge=i,ie=Ln(o.firstChild),kn=!1,h=!0):h=!1),h||wr(i)),Ee(i),h=i.type,f=i.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Td(h,f)?o=null:g!==null&&Td(h,g)&&(i.flags|=32),i.memoizedState!==null&&(h=Ef(e,i,ib,null,null,a),yl._currentValue=h),tc(e,i),Qe(e,i,o,a),i.child;case 6:return e===null&&Pt&&((e=a=ie)&&(a=Hb(a,i.pendingProps,kn),a!==null?(i.stateNode=a,Ge=i,ie=null,e=!0):e=!1),e||wr(i)),null;case 13:return wy(e,i,a);case 4:return mt(i,i.stateNode.containerInfo),o=i.pendingProps,e===null?i.child=ks(i,null,o,a):Qe(e,i,o,a),i.child;case 11:return py(e,i,i.type,i.pendingProps,a);case 7:return Qe(e,i,i.pendingProps,a),i.child;case 8:return Qe(e,i,i.pendingProps.children,a),i.child;case 12:return Qe(e,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Sr(i,i.type,o.value),Qe(e,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,Ds(i),h=Ke(h),o=o(h),i.flags|=1,Qe(e,i,o,a),i.child;case 14:return gy(e,i,i.type,i.pendingProps,a);case 15:return yy(e,i,i.type,i.pendingProps,a);case 19:return Ry(e,i,a);case 31:return hb(e,i,a);case 22:return _y(e,i,a,i.pendingProps);case 24:return Ds(i),o=Ke(Re),e===null?(h=cf(),h===null&&(h=ee,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:o,cache:h},ff(i),Sr(i,Re,h)):((e.lanes&a)!==0&&(df(e,i),Jo(i,null,null,a),$o()),h=e.memoizedState,f=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Sr(i,Re,o)):(o=f.cache,Sr(i,Re,o),o!==h.cache&&of(i,[Re],a,!0))),Qe(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function $i(e){e.flags|=4}function Yf(e,i,a,o,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(t_())e.flags|=8192;else throw Vs=ju,hf}else e.flags&=-16777217}function Iy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!H_(i))if(t_())e.flags|=8192;else throw Vs=ju,hf}function nc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?lu():536870912,e.lanes|=i,Pa|=i)}function il(e,i){if(!Pt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,i}function db(e,i,a){var o=i.pendingProps;switch(ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(i),null;case 1:return re(i),null;case 3:return a=i.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Ki(Re),wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Sa(i)?$i(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,rf())),re(i),null;case 26:var h=i.type,f=i.memoizedState;return e===null?($i(i),f!==null?(re(i),Iy(i,f)):(re(i),Yf(i,h,null,o,a))):f?f!==e.memoizedState?($i(i),re(i),Iy(i,f)):(re(i),i.flags&=-16777217):(e=e.memoizedProps,e!==o&&$i(i),re(i),Yf(i,h,e,o,a)),null;case 27:if(ae(i),a=At.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&$i(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}e=at.current,Sa(i)?og(i):(e=k_(h,o,a),i.stateNode=e,$i(i))}return re(i),null;case 5:if(ae(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==o&&$i(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return re(i),null}if(f=at.current,Sa(i))og(i);else{var g=yc(At.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Ae]=i,f[je]=o;t:for(g=i.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===i)break t;for(;g.sibling===null;){if(g.return===null||g.return===i)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}i.stateNode=f;t:switch(Ye(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&$i(i)}}return re(i),Yf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==o&&$i(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(e=At.current,Sa(i)){if(e=i.stateNode,a=i.memoizedProps,o=null,h=Ge,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=i,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||w_(e.nodeValue,a)),e||wr(i,!0)}else e=yc(e).createTextNode(o),e[Ae]=i,i.stateNode=e}return re(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(o=Sa(i),a!==null){if(e===null){if(!o)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Ae]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),e=!1}else a=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return re(i),null;case 13:if(o=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Sa(i),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Ae]=i}else Cs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;re(i),h=!1}else h=rf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),nc(i,i.updateQueue),re(i),null);case 4:return wt(),e===null&&gd(i.stateNode.containerInfo),re(i),null;case 10:return Ki(i.type),re(i),null;case 19:if(Y(ye),o=i.memoizedState,o===null)return re(i),null;if(h=(i.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(f=Hu(e),f!==null){for(i.flags|=128,il(o,!1),e=f.updateQueue,i.updateQueue=e,nc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)ng(a,e),a=a.sibling;return it(ye,ye.current&1|2),Pt&&Fi(i,o.treeForkCount),i.child}e=e.sibling}o.tail!==null&&rn()>oc&&(i.flags|=128,h=!0,il(o,!1),i.lanes=4194304)}else{if(!h)if(e=Hu(f),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,nc(i,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return re(i),null}else 2*rn()-o.renderingStartTime>oc&&a!==536870912&&(i.flags|=128,h=!0,il(o,!1),i.lanes=4194304);o.isBackwards?(f.sibling=i.child,i.child=f):(e=o.last,e!==null?e.sibling=f:i.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rn(),e.sibling=null,a=ye.current,it(ye,h?a&1|2:a&1),Pt&&Fi(i,o.treeForkCount),e):(re(i),null);case 22:case 23:return Tn(i),yf(),o=i.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(re(i),i.subtreeFlags&6&&(i.flags|=8192)):re(i),a=i.updateQueue,a!==null&&nc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),e!==null&&Y(Os),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ki(Re),re(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function mb(e,i){switch(ef(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ki(Re),wt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return ae(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Cs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Tn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Cs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(ye),null;case 4:return wt(),null;case 10:return Ki(i.type),null;case 22:case 23:return Tn(i),yf(),e!==null&&Y(Os),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ki(Re),null;case 25:return null;default:return null}}function Cy(e,i){switch(ef(i),i.tag){case 3:Ki(Re),wt();break;case 26:case 27:case 5:ae(i);break;case 4:wt();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:Y(ye);break;case 10:Ki(i.type);break;case 22:case 23:Tn(i),yf(),e!==null&&Y(Os);break;case 24:Ki(Re)}}function rl(e,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,g=a.inst;o=f(),g.destroy=o}a=a.next}while(a!==h)}}catch(E){Xt(i,i.return,E)}}function Dr(e,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=i;var x=a,j=E;try{j()}catch(K){Xt(h,x,K)}}}o=o.next}while(o!==f)}}catch(K){Xt(i,i.return,K)}}function Ny(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Eg(i,a)}catch(o){Xt(e,e.return,o)}}}function Dy(e,i,a){a.props=Ls(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Xt(e,i,o)}}function sl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){Xt(e,i,h)}}function Si(e,i){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Xt(e,i,h)}else a.current=null}function Oy(e){var i=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Xt(e,e.return,h)}}function Xf(e,i,a){try{var o=e.stateNode;Ub(o,e.type,a,i),o[je]=i}catch(h){Xt(e,e.return,h)}}function My(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pr(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||My(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Kn));else if(o!==4&&(o===27&&Pr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Jf(e,i,a),e=e.sibling;e!==null;)Jf(e,i,a),e=e.sibling}function ic(e,i,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(o!==4&&(o===27&&Pr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ic(e,i,a),e=e.sibling;e!==null;)ic(e,i,a),e=e.sibling}function Vy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ye(i,o,a),i[Ae]=e,i[je]=a}catch(f){Xt(e,e.return,f)}}var Ji=!1,Ce=!1,Zf=!1,ky=typeof WeakSet=="function"?WeakSet:Set,Be=null;function pb(e,i){if(e=e.containerInfo,vd=wc,e=Qp(e),Fh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var g=0,E=-1,x=-1,j=0,K=0,X=e,z=null;e:for(;;){for(var q;X!==a||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(x=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(q=X.firstChild)!==null;)z=X,X=q;for(;;){if(X===e)break e;if(z===a&&++j===h&&(E=g),z===f&&++K===o&&(x=g),(q=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=q}a=E===-1||x===-1?null:{start:E,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ed={focusedElem:e,selectionRange:a},wc=!1,Be=i;Be!==null;)if(i=Be,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Be=e;else for(;Be!==null;){switch(i=Be,f=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var ut=Ls(a.type,h);e=o.getSnapshotBeforeUpdate(ut,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){Xt(a,a.return,pt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)Ad(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,Be=e;break}Be=i.return}}function Uy(e,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(e,a),o&4&&rl(5,a);break;case 1:if(Wi(e,a),o&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(g){Xt(a,a.return,g)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Xt(a,a.return,g)}}o&64&&Ny(a),o&512&&sl(a,a.return);break;case 3:if(Wi(e,a),o&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Eg(e,i)}catch(g){Xt(a,a.return,g)}}break;case 27:i===null&&o&4&&Vy(a);case 26:case 5:Wi(e,a),i===null&&o&4&&Oy(a),o&512&&sl(a,a.return);break;case 12:Wi(e,a);break;case 31:Wi(e,a),o&4&&jy(e,a);break;case 13:Wi(e,a),o&4&&zy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=wb.bind(null,a),Fb(e,a))));break;case 22:if(o=a.memoizedState!==null||Ji,!o){i=i!==null&&i.memoizedState!==null||Ce,h=Ji;var f=Ce;Ji=o,(Ce=i)&&!f?tr(e,a,(a.subtreeFlags&8772)!==0):Wi(e,a),Ji=h,Ce=f}break;case 30:break;default:Wi(e,a)}}function Ly(e){var i=e.alternate;i!==null&&(e.alternate=null,Ly(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&la(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,cn=!1;function Zi(e,i,a){for(a=a.child;a!==null;)Py(e,i,a),a=a.sibling}function Py(e,i,a){if(He&&typeof He.onCommitFiberUnmount=="function")try{He.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:Ce||Si(a,i),Zi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ce||Si(a,i);var o=le,h=cn;Pr(a.type)&&(le=a.stateNode,cn=!1),Zi(e,i,a),ml(a.stateNode),le=o,cn=h;break;case 5:Ce||Si(a,i);case 6:if(o=le,h=cn,le=null,Zi(e,i,a),le=o,cn=h,le!==null)if(cn)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(a.stateNode)}catch(f){Xt(a,i,f)}else try{le.removeChild(a.stateNode)}catch(f){Xt(a,i,f)}break;case 18:le!==null&&(cn?(e=le,N_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ka(e)):N_(le,a.stateNode));break;case 4:o=le,h=cn,le=a.stateNode.containerInfo,cn=!0,Zi(e,i,a),le=o,cn=h;break;case 0:case 11:case 14:case 15:Dr(2,a,i),Ce||Dr(4,a,i),Zi(e,i,a);break;case 1:Ce||(Si(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&Dy(a,i,o)),Zi(e,i,a);break;case 21:Zi(e,i,a);break;case 22:Ce=(o=Ce)||a.memoizedState!==null,Zi(e,i,a),Ce=o;break;default:Zi(e,i,a)}}function jy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ka(e)}catch(a){Xt(i,i.return,a)}}}function zy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ka(e)}catch(a){Xt(i,i.return,a)}}function gb(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new ky),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new ky),i;default:throw Error(s(435,e.tag))}}function rc(e,i){var a=gb(e);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=Sb.bind(null,e,o);o.then(h,h)}})}function hn(e,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,g=i,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Pr(E.type)){le=E.stateNode,cn=!1;break t}break;case 5:le=E.stateNode,cn=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,cn=!0;break t}E=E.return}if(le===null)throw Error(s(160));Py(f,g,h),le=null,cn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)By(i,e),i=i.sibling}var Zn=null;function By(e,i){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),o&4&&(Dr(3,e,e.return),rl(3,e),Dr(5,e,e.return));break;case 1:hn(i,e),fn(e),o&512&&(Ce||a===null||Si(a,a.return)),o&64&&Ji&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(hn(i,e),fn(e),o&512&&(Ce||a===null||Si(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ye(f,o,a),f[Ae]=e,we(f),o=f;break t;case"link":var g=B_("link","href",h).get(o+(a.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),Ye(f,o,a),h.head.appendChild(f);break;case"meta":if(g=B_("meta","content",h).get(o+(a.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){g.splice(E,1);break e}}f=h.createElement(o),Ye(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[Ae]=e,we(f),o=f}e.stateNode=o}else q_(h,e.type,e.stateNode);else e.stateNode=z_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?q_(h,e.type,e.stateNode):z_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),o&512&&(Ce||a===null||Si(a,a.return)),a!==null&&o&4&&Xf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),o&512&&(Ce||a===null||Si(a,a.return)),e.flags&32){h=e.stateNode;try{un(h,"")}catch(ut){Xt(e,e.return,ut)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Xf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(hn(i,e),fn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(ut){Xt(e,e.return,ut)}}break;case 3:if(Ec=null,h=Zn,Zn=_c(i.containerInfo),hn(i,e),Zn=h,fn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Ka(i.containerInfo)}catch(ut){Xt(e,e.return,ut)}Zf&&(Zf=!1,qy(e));break;case 4:o=Zn,Zn=_c(e.stateNode.containerInfo),hn(i,e),fn(e),Zn=o;break;case 12:hn(i,e),fn(e);break;case 31:hn(i,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ac=rn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 22:h=e.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,j=Ji,K=Ce;if(Ji=j||h,Ce=K||x,hn(i,e),Ce=K,Ji=j,fn(e),o&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||x||Ji||Ce||Ps(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){x=a=i;try{if(f=x.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=x.stateNode;var X=x.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ut){Xt(x,x.return,ut)}}}else if(i.tag===6){if(a===null){x=i;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(ut){Xt(x,x.return,ut)}}}else if(i.tag===18){if(a===null){x=i;try{var q=x.stateNode;h?D_(q,!0):D_(x.stateNode,!1)}catch(ut){Xt(x,x.return,ut)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,rc(e,a))));break;case 19:hn(i,e),fn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,rc(e,o)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,o=e.return;o!==null;){if(My(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=$f(e);ic(e,f,h);break;case 5:var g=a.stateNode;a.flags&32&&(un(g,""),a.flags&=-33);var E=$f(e);ic(e,E,g);break;case 3:case 4:var x=a.stateNode.containerInfo,j=$f(e);Jf(e,j,x);break;default:throw Error(s(161))}}catch(K){Xt(e,e.return,K)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function qy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;qy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function Wi(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Uy(e,i.alternate,i),i=i.sibling}function Ps(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Dr(4,i,i.return),Ps(i);break;case 1:Si(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Dy(i,i.return,a),Ps(i);break;case 27:ml(i.stateNode);case 26:case 5:Si(i,i.return),Ps(i);break;case 22:i.memoizedState===null&&Ps(i);break;case 30:Ps(i);break;default:Ps(i)}e=e.sibling}}function tr(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=e,f=i,g=f.flags;switch(f.tag){case 0:case 11:case 15:tr(h,f,a),rl(4,f);break;case 1:if(tr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Xt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)vg(x[h],E)}catch(j){Xt(o,o.return,j)}}a&&g&64&&Ny(f),sl(f,f.return);break;case 27:Vy(f);case 26:case 5:tr(h,f,a),a&&o===null&&g&4&&Oy(f),sl(f,f.return);break;case 12:tr(h,f,a);break;case 31:tr(h,f,a),a&&g&4&&jy(h,f);break;case 13:tr(h,f,a),a&&g&4&&zy(h,f);break;case 22:f.memoizedState===null&&tr(h,f,a),sl(f,f.return);break;case 30:break;default:tr(h,f,a)}i=i.sibling}}function Wf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Go(a))}function td(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e))}function Wn(e,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Hy(e,i,a,o),i=i.sibling}function Hy(e,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,o),h&2048&&rl(9,i);break;case 1:Wn(e,i,a,o);break;case 3:Wn(e,i,a,o),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){Wn(e,i,a,o),e=i.stateNode;try{var f=i.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Xt(i,i.return,x)}}else Wn(e,i,a,o);break;case 31:Wn(e,i,a,o);break;case 13:Wn(e,i,a,o);break;case 23:break;case 22:f=i.stateNode,g=i.alternate,i.memoizedState!==null?f._visibility&2?Wn(e,i,a,o):al(e,i):f._visibility&2?Wn(e,i,a,o):(f._visibility|=2,ka(e,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(g,i);break;case 24:Wn(e,i,a,o),h&2048&&td(i.alternate,i);break;default:Wn(e,i,a,o)}}function ka(e,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var f=e,g=i,E=a,x=o,j=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,E,x,h),rl(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?ka(f,g,E,x,h):al(f,g):(K._visibility|=2,ka(f,g,E,x,h)),h&&j&2048&&Wf(g.alternate,g);break;case 24:ka(f,g,E,x,h),h&&j&2048&&td(g.alternate,g);break;default:ka(f,g,E,x,h)}i=i.sibling}}function al(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,o=i,h=o.flags;switch(o.tag){case 22:al(a,o),h&2048&&Wf(o.alternate,o);break;case 24:al(a,o),h&2048&&td(o.alternate,o);break;default:al(a,o)}i=i.sibling}}var ol=8192;function Ua(e,i,a){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Fy(e,i,a),e=e.sibling}function Fy(e,i,a){switch(e.tag){case 26:Ua(e,i,a),e.flags&ol&&e.memoizedState!==null&&nA(a,Zn,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,i,a);break;case 3:case 4:var o=Zn;Zn=_c(e.stateNode.containerInfo),Ua(e,i,a),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,Ua(e,i,a),ol=o):Ua(e,i,a));break;default:Ua(e,i,a)}}function Gy(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function ll(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Be=o,Qy(o,e)}Gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ky(e),e=e.sibling}function Ky(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Dr(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,sc(e)):ll(e);break;default:ll(e)}}function sc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];Be=o,Qy(o,e)}Gy(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Dr(8,i,i.return),sc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,sc(i));break;default:sc(i)}e=e.sibling}}function Qy(e,i){for(;Be!==null;){var a=Be;switch(a.tag){case 0:case 11:case 15:Dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Be=o;else t:for(a=e;Be!==null;){o=Be;var h=o.sibling,f=o.return;if(Ly(o),o===a){Be=null;break t}if(h!==null){h.return=f,Be=h;break t}Be=f}}}var yb={getCacheForType:function(e){var i=Ke(Re),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ke(Re).controller.signal}},_b=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,Dt=null,Mt=0,Yt=0,bn=null,Or=!1,La=!1,ed=!1,er=0,fe=0,Mr=0,js=0,nd=0,An=0,Pa=0,ul=null,dn=null,id=!1,ac=0,Yy=0,oc=1/0,lc=null,Vr=null,Ue=0,kr=null,ja=null,nr=0,rd=0,sd=null,Xy=null,cl=0,ad=null;function wn(){return(Gt&2)!==0&&Mt!==0?Mt&-Mt:G.T!==null?fd():uu()}function $y(){if(An===0)if((Mt&536870912)===0||Pt){var e=fs;fs<<=1,(fs&3932160)===0&&(fs=262144),An=e}else An=536870912;return e=En.current,e!==null&&(e.flags|=32),An}function mn(e,i,a){(e===ee&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)&&(za(e,0),Ur(e,Mt,An,!1)),ds(e,a),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(js|=a),fe===4&&Ur(e,Mt,An,!1)),Ri(e))}function Jy(e,i,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Hn(e,i),h=o?Tb(e,i):ld(e,i,!0),f=o;do{if(h===0){La&&!o&&Ur(e,i,0,!1);break}else{if(a=e.current.alternate,f&&!vb(a)){h=ld(e,i,!1),f=!1;continue}if(h===2){if(f=i,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){i=g;t:{var E=e;h=ul;var x=E.current.memoizedState.isDehydrated;if(x&&(za(E,g).flags|=256),g=ld(E,g,!1),g!==2){if(ed&&!x){E.errorRecoveryDisabledLanes|=f,js|=f,h=4;break t}f=dn,dn=h,f!==null&&(dn===null?dn=f:dn.push.apply(dn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){za(e,0),Ur(e,i,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Ur(o,i,An,!Or);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=ac+300-rn(),10<h)){if(Ur(o,i,An,!Or),li(o,0,!0)!==0)break t;nr=i,o.timeoutHandle=I_(Zy.bind(null,o,a,dn,lc,id,i,An,js,Pa,Or,f,"Throttled",-0,0),h);break t}Zy(o,a,dn,lc,id,i,An,js,Pa,Or,f,null,-0,0)}}break}while(!0);Ri(e)}function Zy(e,i,a,o,h,f,g,E,x,j,K,X,z,q){if(e.timeoutHandle=-1,X=i.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},Fy(i,f,X);var ut=(f&62914560)===f?ac-rn():(f&4194048)===f?Yy-rn():0;if(ut=iA(X,ut),ut!==null){nr=f,e.cancelPendingCommit=ut(a_.bind(null,e,i,f,a,o,h,g,E,x,K,X,null,z,q)),Ur(e,f,g,!j);return}}a_(e,i,f,a,o,h,g,E,x)}function vb(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!_n(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ur(e,i,a,o){i&=~nd,i&=~js,e.suspendedLanes|=i,e.pingedLanes&=~i,o&&(e.warmLanes|=i),o=e.expirationTimes;for(var h=i;0<h;){var f=31-pe(h),g=1<<f;o[f]=-1,h&=~g}a!==0&&ms(e,a,i)}function uc(){return(Gt&6)===0?(hl(0),!1):!0}function od(){if(Dt!==null){if(Yt===0)var e=Dt.return;else e=Dt,Gi=Ns=null,Af(e),Na=null,Qo=0,e=Dt;for(;e!==null;)Cy(e.alternate,e),e=e.return;Dt=null}}function za(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,jb(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),nr=0,od(),ee=e,Dt=a=Hi(e.current,null),Mt=i,Yt=0,bn=null,Or=!1,La=Hn(e,i),ed=!1,Pa=An=nd=js=Mr=fe=0,dn=ul=null,id=!1,(i&8)!==0&&(i|=i&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=i;0<o;){var h=31-pe(o),f=1<<h;i|=e[h],o&=~f}return er=i,Nu(),a}function Wy(e,i){Rt=null,G.H=el,i===Ca||i===Pu?(i=pg(),Yt=3):i===hf?(i=pg(),Yt=4):Yt=i===jf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,bn=i,Dt===null&&(fe=1,Zu(e,On(i,e.current)))}function t_(){var e=En.current;return e===null?!0:(Mt&4194048)===Mt?Un===null:(Mt&62914560)===Mt||(Mt&536870912)!==0?e===Un:!1}function e_(){var e=G.H;return G.H=el,e===null?el:e}function n_(){var e=G.A;return G.A=yb,e}function cc(){fe=4,Or||(Mt&4194048)!==Mt&&En.current!==null||(La=!0),(Mr&134217727)===0&&(js&134217727)===0||ee===null||Ur(ee,Mt,An,!1)}function ld(e,i,a){var o=Gt;Gt|=2;var h=e_(),f=n_();(ee!==e||Mt!==i)&&(lc=null,za(e,i)),i=!1;var g=fe;t:do try{if(Yt!==0&&Dt!==null){var E=Dt,x=bn;switch(Yt){case 8:od(),g=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var j=Yt;if(Yt=0,bn=null,Ba(e,E,x,j),a&&La){g=0;break t}break;default:j=Yt,Yt=0,bn=null,Ba(e,E,x,j)}}Eb(),g=fe;break}catch(K){Wy(e,K)}while(!0);return i&&e.shellSuspendCounter++,Gi=Ns=null,Gt=o,G.H=h,G.A=f,Dt===null&&(ee=null,Mt=0,Nu()),g}function Eb(){for(;Dt!==null;)i_(Dt)}function Tb(e,i){var a=Gt;Gt|=2;var o=e_(),h=n_();ee!==e||Mt!==i?(lc=null,oc=rn()+500,za(e,i)):La=Hn(e,i);t:do try{if(Yt!==0&&Dt!==null){i=Dt;var f=bn;e:switch(Yt){case 1:Yt=0,bn=null,Ba(e,i,f,1);break;case 2:case 9:if(dg(f)){Yt=0,bn=null,r_(i);break}i=function(){Yt!==2&&Yt!==9||ee!==e||(Yt=7),Ri(e)},f.then(i,i);break t;case 3:Yt=7;break t;case 4:Yt=5;break t;case 7:dg(f)?(Yt=0,bn=null,r_(i)):(Yt=0,bn=null,Ba(e,i,f,7));break;case 5:var g=null;switch(Dt.tag){case 26:g=Dt.memoizedState;case 5:case 27:var E=Dt;if(g?H_(g):E.stateNode.complete){Yt=0,bn=null;var x=E.sibling;if(x!==null)Dt=x;else{var j=E.return;j!==null?(Dt=j,hc(j)):Dt=null}break e}}Yt=0,bn=null,Ba(e,i,f,5);break;case 6:Yt=0,bn=null,Ba(e,i,f,6);break;case 8:od(),fe=6;break t;default:throw Error(s(462))}}bb();break}catch(K){Wy(e,K)}while(!0);return Gi=Ns=null,G.H=o,G.A=h,Gt=a,Dt!==null?0:(ee=null,Mt=0,Nu(),fe)}function bb(){for(;Dt!==null&&!Lh();)i_(Dt)}function i_(e){var i=xy(e.alternate,e,er);e.memoizedProps=e.pendingProps,i===null?hc(e):Dt=i}function r_(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=Ty(a,i,i.pendingProps,i.type,void 0,Mt);break;case 11:i=Ty(a,i,i.pendingProps,i.type.render,i.ref,Mt);break;case 5:Af(i);default:Cy(a,i),i=Dt=ng(i,er),i=xy(a,i,er)}e.memoizedProps=e.pendingProps,i===null?hc(e):Dt=i}function Ba(e,i,a,o){Gi=Ns=null,Af(i),Na=null,Qo=0;var h=i.return;try{if(cb(e,h,i,a,Mt)){fe=1,Zu(e,On(a,e.current)),Dt=null;return}}catch(f){if(h!==null)throw Dt=h,f;fe=1,Zu(e,On(a,e.current)),Dt=null;return}i.flags&32768?(Pt||o===1?e=!0:La||(Mt&536870912)!==0?e=!1:(Or=e=!0,(o===2||o===9||o===3||o===6)&&(o=En.current,o!==null&&o.tag===13&&(o.flags|=16384))),s_(i,e)):hc(i)}function hc(e){var i=e;do{if((i.flags&32768)!==0){s_(i,Or);return}e=i.return;var a=db(i.alternate,i,er);if(a!==null){Dt=a;return}if(i=i.sibling,i!==null){Dt=i;return}Dt=i=e}while(i!==null);fe===0&&(fe=5)}function s_(e,i){do{var a=mb(e.alternate,e);if(a!==null){a.flags&=32767,Dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Dt=e;return}Dt=e=a}while(e!==null);fe=6,Dt=null}function a_(e,i,a,o,h,f,g,E,x){e.cancelPendingCommit=null;do fc();while(Ue!==0);if((Gt&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Xh,zh(e,a,f,g,E,x),e===ee&&(Dt=ee=null,Mt=0),ja=i,kr=e,nr=a,rd=f,sd=h,Xy=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rb(fr,function(){return h_(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,g=Gt,Gt|=4;try{pb(e,i,a)}finally{Gt=g,nt.p=h,G.T=o}}Ue=1,o_(),l_(),u_()}}function o_(){if(Ue===1){Ue=0;var e=kr,i=ja,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{By(i,e);var f=Ed,g=Qp(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Kp(E.ownerDocument.documentElement,E)){if(x!==null&&Fh(E)){var j=x.start,K=x.end;if(K===void 0&&(K=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(K,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var q=z.getSelection(),ut=E.textContent.length,pt=Math.min(x.start,ut),Wt=x.end===void 0?pt:Math.min(x.end,ut);!q.extend&&pt>Wt&&(g=Wt,Wt=pt,pt=g);var U=Gp(E,pt),M=Gp(E,Wt);if(U&&M&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var P=X.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),pt>Wt?(q.addRange(P),q.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),q.addRange(P))}}}}for(X=[],q=E;q=q.parentNode;)q.nodeType===1&&X.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Q=X[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}wc=!!vd,Ed=vd=null}finally{Gt=h,nt.p=o,G.T=a}}e.current=i,Ue=2}}function l_(){if(Ue===2){Ue=0;var e=kr,i=ja,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{Uy(e,i.alternate,i)}finally{Gt=h,nt.p=o,G.T=a}}Ue=3}}function u_(){if(Ue===4||Ue===3){Ue=0,nu();var e=kr,i=ja,a=nr,o=Xy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ue=5:(Ue=0,ja=kr=null,c_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Vr=null),ji(a),i=i.stateNode,He&&typeof He.onCommitFiberRoot=="function")try{He.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=i,nt.p=h}}(nr&3)!==0&&fc(),Ri(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===ad?cl++:(cl=0,ad=e):cl=0,hl(0)}}function c_(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Go(i)))}function fc(){return o_(),l_(),u_(),h_()}function h_(){if(Ue!==5)return!1;var e=kr,i=rd;rd=0;var a=ji(nr),o=G.T,h=nt.p;try{nt.p=32>a?32:a,G.T=null,a=sd,sd=null;var f=kr,g=nr;if(Ue=0,ja=kr=null,nr=0,(Gt&6)!==0)throw Error(s(331));var E=Gt;if(Gt|=4,Ky(f.current),Hy(f,f.current,g,a),Gt=E,hl(0,!1),He&&typeof He.onPostCommitFiberRoot=="function")try{He.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{nt.p=h,G.T=o,c_(e,i)}}function f_(e,i,a){i=On(a,i),i=Pf(e.stateNode,i,2),e=Ir(e,i,2),e!==null&&(ds(e,2),Ri(e))}function Xt(e,i,a){if(e.tag===3)f_(e,e,a);else for(;i!==null;){if(i.tag===3){f_(i,e,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Vr===null||!Vr.has(o))){e=On(a,e),a=dy(2),o=Ir(i,a,2),o!==null&&(my(a,o,i,e),ds(o,2),Ri(o));break}}i=i.return}}function ud(e,i,a){var o=e.pingCache;if(o===null){o=e.pingCache=new _b;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(ed=!0,h.add(a),e=Ab.bind(null,e,i,a),i.then(e,e))}function Ab(e,i,a){var o=e.pingCache;o!==null&&o.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ee===e&&(Mt&a)===a&&(fe===4||fe===3&&(Mt&62914560)===Mt&&300>rn()-ac?(Gt&2)===0&&za(e,0):nd|=a,Pa===Mt&&(Pa=0)),Ri(e)}function d_(e,i){i===0&&(i=lu()),e=xs(e,i),e!==null&&(ds(e,i),Ri(e))}function wb(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),d_(e,a)}function Sb(e,i){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),d_(e,a)}function Rb(e,i){return ke(e,i)}var dc=null,qa=null,cd=!1,mc=!1,hd=!1,Lr=0;function Ri(e){e!==qa&&e.next===null&&(qa===null?dc=qa=e:qa=qa.next=e),mc=!0,cd||(cd=!0,Ib())}function hl(e,i){if(!hd&&mc){hd=!0;do for(var a=!1,o=dc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-pe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,y_(o,f))}else f=Mt,f=li(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(a=!0,y_(o,f));o=o.next}while(a);hd=!1}}function xb(){m_()}function m_(){mc=cd=!1;var e=0;Lr!==0&&Pb()&&(e=Lr);for(var i=rn(),a=null,o=dc;o!==null;){var h=o.next,f=p_(o,i);f===0?(o.next=null,a===null?dc=h:a.next=h,h===null&&(qa=a)):(a=o,(e!==0||(f&3)!==0)&&(mc=!0)),o=h}Ue!==0&&Ue!==5||hl(e),Lr!==0&&(Lr=0)}function p_(e,i){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-pe(f),E=1<<g,x=h[g];x===-1?((E&a)===0||(E&o)!==0)&&(h[g]=jh(E,i)):x<=i&&(e.expiredLanes|=E),f&=~E}if(i=ee,a=Mt,a=li(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===i&&(Yt===2||Yt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&hr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Hn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(o!==null&&hr(o),ji(a)){case 2:case 8:a=To;break;case 32:a=fr;break;case 268435456:a=iu;break;default:a=fr}return o=g_.bind(null,e),a=ke(a,o),e.callbackPriority=i,e.callbackNode=a,i}return o!==null&&o!==null&&hr(o),e.callbackPriority=2,e.callbackNode=null,2}function g_(e,i){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(fc()&&e.callbackNode!==a)return null;var o=Mt;return o=li(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Jy(e,o,i),p_(e,rn()),e.callbackNode!=null&&e.callbackNode===a?g_.bind(null,e):null)}function y_(e,i){if(fc())return null;Jy(e,i,!0)}function Ib(){zb(function(){(Gt&6)!==0?ke(Eo,xb):m_()})}function fd(){if(Lr===0){var e=xa;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Lr=e}return Lr}function __(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function v_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Cb(e,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var f=__((h[je]||null).action),g=o.submitter;g&&(i=(i=g[je]||null)?__(i.formAction):g.getAttribute("formAction"),i!==null&&(f=i,g=null));var E=new vi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Lr!==0){var x=g?v_(h,g):new FormData(h);Of(a,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=g?v_(h,g):new FormData(h),Of(a,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var dd=0;dd<Yh.length;dd++){var md=Yh[dd],Nb=md.toLowerCase(),Db=md[0].toUpperCase()+md.slice(1);Jn(Nb,"on"+Db)}Jn($p,"onAnimationEnd"),Jn(Jp,"onAnimationIteration"),Jn(Zp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Q1,"onTransitionRun"),Jn(Y1,"onTransitionStart"),Jn(X1,"onTransitionCancel"),Jn(Wp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function E_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(i)for(var g=o.length-1;0<=g;g--){var E=o[g],x=E.instance,j=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(K){Cu(K)}h.currentTarget=null,f=x}else for(g=0;g<o.length;g++){if(E=o[g],x=E.instance,j=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(K){Cu(K)}h.currentTarget=null,f=x}}}}function Ot(e,i){var a=i[oa];a===void 0&&(a=i[oa]=new Set);var o=e+"__bubble";a.has(o)||(T_(i,e,2,!1),a.add(o))}function pd(e,i,a){var o=0;i&&(o|=4),T_(a,e,o,i)}var pc="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[pc]){e[pc]=!0,wo.forEach(function(a){a!=="selectionchange"&&(Ob.has(a)||pd(a,!1,e),pd(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[pc]||(i[pc]=!0,pd("selectionchange",!1,i))}}function T_(e,i,a,o){switch($_(i)){case 2:var h=aA;break;case 8:h=oA;break;default:h=Dd}a=h.bind(null,i,a,e),h=void 0,!vs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function yd(e,i,a,o,h){var f=o;if((i&1)===0&&(i&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var x=g.tag;if((x===3||x===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=fi(E),g===null)return;if(x=g.tag,x===5||x===6||x===26||x===27){o=f=g;continue t}E=E.parentNode}}o=o.return}_r(function(){var j=f,K=In(a),X=[];t:{var z=tg.get(e);if(z!==void 0){var q=vi,ut=e;switch(e){case"keypress":if(Ts(a)===0)break t;case"keydown":case"keyup":q=Ru;break;case"focusin":ut="focus",q=As;break;case"focusout":ut="blur",q=As;break;case"beforeblur":case"afterblur":q=As;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case $p:case Jp:case Zp:q=vu;break;case Wp:q=A;break;case"scroll":case"scrollend":q=Uo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qi;break;case"toggle":case"beforetoggle":q=St}var pt=(i&4)!==0,Wt=!pt&&(e==="scroll"||e==="scrollend"),U=pt?z!==null?z+"Capture":null:z;pt=[];for(var M=j,P;M!==null;){var Q=M;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=Qn(M,U),Q!=null&&pt.push(dl(M,Q,P))),Wt)break;M=M.return}0<pt.length&&(z=new q(z,ut,null,a,K),X.push({event:z,listeners:pt}))}}if((i&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&a!==Mo&&(ut=a.relatedTarget||a.fromElement)&&(fi(ut)||ut[ci]))break t;if((q||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,q?(ut=a.relatedTarget||a.toElement,q=j,ut=ut?fi(ut):null,ut!==null&&(Wt=u(ut),pt=ut.tag,ut!==Wt||pt!==5&&pt!==27&&pt!==6)&&(ut=null)):(q=null,ut=j),q!==ut)){if(pt=Lo,Q="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(pt=qi,Q="onPointerLeave",U="onPointerEnter",M="pointer"),Wt=q==null?z:gn(q),P=ut==null?z:gn(ut),z=new pt(Q,M+"leave",q,a,K),z.target=Wt,z.relatedTarget=P,Q=null,fi(K)===j&&(pt=new pt(U,M+"enter",ut,a,K),pt.target=P,pt.relatedTarget=Wt,Q=pt),Wt=Q,q&&ut)e:{for(pt=Mb,U=q,M=ut,P=0,Q=U;Q;Q=pt(Q))P++;Q=0;for(var ft=M;ft;ft=pt(ft))Q++;for(;0<P-Q;)U=pt(U),P--;for(;0<Q-P;)M=pt(M),Q--;for(;P--;){if(U===M||M!==null&&U===M.alternate){pt=U;break e}U=pt(U),M=pt(M)}pt=null}else pt=null;q!==null&&b_(X,z,q,pt,!1),ut!==null&&Wt!==null&&b_(X,Wt,ut,pt,!0)}}t:{if(z=j?gn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var qt=jp;else if(Lp(z))if(zp)qt=F1;else{qt=q1;var ct=B1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ha(j.elementType)&&(qt=jp):qt=H1;if(qt&&(qt=qt(e,j))){Pp(X,qt,a,K);break t}ct&&ct(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&No(z,"number",z.value)}switch(ct=j?gn(j):window,e){case"focusin":(Lp(ct)||ct.contentEditable==="true")&&(va=ct,Gh=j,qo=null);break;case"focusout":qo=Gh=va=null;break;case"mousedown":Kh=!0;break;case"contextmenu":case"mouseup":case"dragend":Kh=!1,Yp(X,a,K);break;case"selectionchange":if(K1)break;case"keydown":case"keyup":Yp(X,a,K)}var xt;if(Ft)t:{switch(e){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else _a?ws(e,a)&&(Vt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Vt="onCompositionStart");Vt&&(bi&&a.locale!=="ko"&&(_a||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&_a&&(xt=ko()):(_i=K,Vo="value"in _i?_i.value:_i.textContent,_a=!0)),ct=gc(j,Vt),0<ct.length&&(Vt=new Ti(Vt,e,null,a,K),X.push({event:Vt,listeners:ct}),xt?Vt.data=xt:(xt=ya(a),xt!==null&&(Vt.data=xt)))),(xt=Nn?L1(e,a):P1(e,a))&&(Vt=gc(j,"onBeforeInput"),0<Vt.length&&(ct=new Ti("onBeforeInput","beforeinput",null,a,K),X.push({event:ct,listeners:Vt}),ct.data=xt)),Cb(X,e,j,a,K)}E_(X,i)})}function dl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function gc(e,i){for(var a=i+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,a),h!=null&&o.unshift(dl(e,h,f)),h=Qn(e,i),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Mb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function b_(e,i,a,o,h){for(var f=i._reactName,g=[];a!==null&&a!==o;){var E=a,x=E.alternate,j=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||j===null||(x=j,h?(j=Qn(a,f),j!=null&&g.unshift(dl(a,j,x))):h||(j=Qn(a,f),j!=null&&g.push(dl(a,j,x)))),a=a.return}g.length!==0&&e.push({event:i,listeners:g})}var Vb=/\r\n?/g,kb=/\u0000|\uFFFD/g;function A_(e){return(typeof e=="string"?e:""+e).replace(Vb,`
`).replace(kb,"")}function w_(e,i){return i=A_(i),A_(e)===i}function Zt(e,i,a,o,h,f){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||un(e,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&un(e,""+o);break;case"className":yn(e,"class",o);break;case"tabIndex":yn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,o);break;case"style":Oo(e,o,f);break;case"data":if(i!=="object"){yn(e,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=fa(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&Zt(e,i,"name",h.name,h,null),Zt(e,i,"formEncType",h.formEncType,h,null),Zt(e,i,"formMethod",h.formMethod,h,null),Zt(e,i,"formTarget",h.formTarget,h,null)):(Zt(e,i,"encType",h.encType,h,null),Zt(e,i,"method",h.method,h,null),Zt(e,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=fa(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=fa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ua(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=gu.get(a)||a,ua(e,a,o))}}function _d(e,i,a,o,h,f){switch(a){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?un(e,o):(typeof o=="number"||typeof o=="bigint")&&un(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=e[je]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(i,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):ua(e,a,o)}}}function Ye(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var g=a[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,f,g,a,null)}}h&&Zt(e,i,"srcSet",a.srcSet,a,null),o&&Zt(e,i,"src",a.src,a,null);return;case"input":Ot("invalid",e);var E=f=g=h=null,x=null,j=null;for(o in a)if(a.hasOwnProperty(o)){var K=a[o];if(K!=null)switch(o){case"name":h=K;break;case"type":g=K;break;case"checked":x=K;break;case"defaultChecked":j=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:Zt(e,i,o,K,a,null)}}du(e,f,E,x,j,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,i,h,E,a,null)}i=f,a=g,e.multiple=!!o,i!=null?mr(e,!!o,i,!1):a!=null&&mr(e,!!o,a,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in a)if(a.hasOwnProperty(g)&&(E=a[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Zt(e,i,g,E,a,null)}pr(e,o,h,f);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(o=a[x],o!=null))switch(x){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Zt(e,i,x,o,a,null)}return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)Ot(fl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(o=a[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Zt(e,i,j,o,a,null)}return;default:if(ha(i)){for(K in a)a.hasOwnProperty(K)&&(o=a[K],o!==void 0&&_d(e,i,K,o,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(o=a[E],o!=null&&Zt(e,i,E,o,a,null))}function Ub(e,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,x=null,j=null,K=null;for(q in a){var X=a[q];if(a.hasOwnProperty(q)&&X!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=X;default:o.hasOwnProperty(q)||Zt(e,i,q,null,o,X)}}for(var z in o){var q=o[z];if(X=a[z],o.hasOwnProperty(z)&&(q!=null||X!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":K=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:q!==X&&Zt(e,i,z,q,o,X)}}ca(e,g,E,x,j,K,f,h);return;case"select":q=g=E=z=null;for(f in a)if(x=a[f],a.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":q=x;default:o.hasOwnProperty(f)||Zt(e,i,f,null,o,x)}for(h in o)if(f=o[h],x=a[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==x&&Zt(e,i,h,f,o,x)}i=E,a=g,o=q,z!=null?mr(e,!!a,z,!1):!!o!=!!a&&(i!=null?mr(e,!!a,i,!0):mr(e,!!a,a?[]:"",!1));return;case"textarea":q=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,i,E,null,o,h)}for(g in o)if(h=o[g],f=a[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Zt(e,i,g,h,o,f)}mu(e,z,q);return;case"option":for(var ut in a)if(z=a[ut],a.hasOwnProperty(ut)&&z!=null&&!o.hasOwnProperty(ut))switch(ut){case"selected":e.selected=!1;break;default:Zt(e,i,ut,null,o,z)}for(x in o)if(z=o[x],q=a[x],o.hasOwnProperty(x)&&z!==q&&(z!=null||q!=null))switch(x){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Zt(e,i,x,z,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in a)z=a[pt],a.hasOwnProperty(pt)&&z!=null&&!o.hasOwnProperty(pt)&&Zt(e,i,pt,null,o,z);for(j in o)if(z=o[j],q=a[j],o.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,i));break;default:Zt(e,i,j,z,o,q)}return;default:if(ha(i)){for(var Wt in a)z=a[Wt],a.hasOwnProperty(Wt)&&z!==void 0&&!o.hasOwnProperty(Wt)&&_d(e,i,Wt,void 0,o,z);for(K in o)z=o[K],q=a[K],!o.hasOwnProperty(K)||z===q||z===void 0&&q===void 0||_d(e,i,K,z,o,q);return}}for(var U in a)z=a[U],a.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Zt(e,i,U,null,o,z);for(X in o)z=o[X],q=a[X],!o.hasOwnProperty(X)||z===q||z==null&&q==null||Zt(e,i,X,z,o,q)}function S_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&S_(g)){for(g=0,E=h.responseEnd,o+=1;o<a.length;o++){var x=a[o],j=x.startTime;if(j>E)break;var K=x.transferSize,X=x.initiatorType;K&&S_(X)&&(x=x.responseEnd,g+=K*(x<E?1:(E-j)/(x-j)))}if(--o,i+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,Ed=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function R_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function Td(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var bd=null;function Pb(){var e=window.event;return e&&e.type==="popstate"?e===bd?!1:(bd=e,!0):(bd=null,!1)}var I_=typeof setTimeout=="function"?setTimeout:void 0,jb=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(e){return C_.resolve(null).then(e).catch(Bb)}:I_;function Bb(e){setTimeout(function(){throw e})}function Pr(e){return e==="head"}function N_(e,i){var a=i,o=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(h),Ka(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")ml(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,ml(a);for(var f=a.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[hi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||a.removeChild(f),f=g}}else a==="body"&&ml(e.ownerDocument.body);a=h}while(a);Ka(i)}function D_(e,i){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function Ad(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ad(a),la(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qb(e,i,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[hi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function Hb(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Ln(e.nextSibling),e===null))return null;return e}function O_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ln(e.nextSibling),e===null))return null;return e}function wd(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Fb(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Rd=null;function M_(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Ln(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function V_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function k_(e,i,a){switch(i=yc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function ml(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);la(e)}var Pn=new Map,U_=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ir=nt.d;nt.d={f:Gb,r:Kb,D:Qb,C:Yb,L:Xb,m:$b,X:Zb,S:Jb,M:Wb};function Gb(){var e=ir.f(),i=uc();return e||i}function Kb(e){var i=xn(e);i!==null&&i.tag===5&&i.type==="form"?Wg(i):ir.r(e)}var Ha=typeof document>"u"?null:document;function L_(e,i,a){var o=Ha;if(o&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),U_.has(h)||(U_.add(h),e={rel:e,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Ye(i,"link",e),we(i),o.head.appendChild(i)))}}function Qb(e){ir.D(e),L_("dns-prefetch",e,null)}function Yb(e,i){ir.C(e,i),L_("preconnect",e,i)}function Xb(e,i,a){ir.L(e,i,a);var o=Ha;if(o&&e&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(e)+'"]';var f=h;switch(i){case"style":f=Fa(e);break;case"script":f=Ga(e)}Pn.has(f)||(e=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(f,e),o.querySelector(h)!==null||i==="style"&&o.querySelector(pl(f))||i==="script"&&o.querySelector(gl(f))||(i=o.createElement("link"),Ye(i,"link",e),we(i),o.head.appendChild(i)))}}function $b(e,i){ir.m(e,i);var a=Ha;if(a&&e){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(o)+'"][href="'+ln(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(e)}if(!Pn.has(f)&&(e=w({rel:"modulepreload",href:e},i),Pn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(gl(f)))return}o=a.createElement("link"),Ye(o,"link",e),we(o),a.head.appendChild(o)}}}function Jb(e,i,a){ir.S(e,i,a);var o=Ha;if(o&&e){var h=di(o).hoistableStyles,f=Fa(e);i=i||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(pl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(f))&&xd(e,a);var x=g=o.createElement("link");we(x),Ye(x,"link",e),x._p=new Promise(function(j,K){x.onload=j,x.onerror=K}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,vc(g,i,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Zb(e,i){ir.X(e,i);var a=Ha;if(a&&e){var o=di(a).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=w({src:e,async:!0},i),(i=Pn.get(h))&&Id(e,i),f=a.createElement("script"),we(f),Ye(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Wb(e,i){ir.M(e,i);var a=Ha;if(a&&e){var o=di(a).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=a.querySelector(gl(h)),f||(e=w({src:e,async:!0,type:"module"},i),(i=Pn.get(h))&&Id(e,i),f=a.createElement("script"),we(f),Ye(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function P_(e,i,a,o){var h=(h=At.current)?_c(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Fa(a.href),a=di(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Fa(a.href);var f=di(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(pl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),f||tA(h,e,a,g.state))),i&&o===null)throw Error(s(528,""));return g}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ga(a),a=di(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Fa(e){return'href="'+ln(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function j_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function tA(e,i,a,o){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=e.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Ye(i,"link",a),we(i),e.head.appendChild(i))}function Ga(e){return'[src="'+ln(e)+'"]'}function gl(e){return"script[async]"+e}function z_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(o)return i.instance=o,we(o),o;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),we(o),Ye(o,"style",h),vc(o,a.precedence,e),i.instance=o;case"stylesheet":h=Fa(a.href);var f=e.querySelector(pl(h));if(f)return i.state.loading|=4,i.instance=f,we(f),f;o=j_(a),(h=Pn.get(h))&&xd(o,h),f=(e.ownerDocument||e).createElement("link"),we(f);var g=f;return g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Ye(f,"link",o),i.state.loading|=4,vc(f,a.precedence,e),i.instance=f;case"script":return f=Ga(a.src),(h=e.querySelector(gl(f)))?(i.instance=h,we(h),h):(o=a,(h=Pn.get(f))&&(o=w({},a),Id(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),Ye(h,"link",o),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,vc(o,a.precedence,e));return i.instance}function vc(e,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===i)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function xd(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Id(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Ec=null;function B_(e,i,a){if(Ec===null){var o=new Map,h=Ec=new Map;h.set(a,o)}else h=Ec,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[hi]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(i)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function q_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function eA(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function H_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function nA(e,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Fa(o.href),f=i.querySelector(pl(h));if(f){i=f._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Tc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=f,we(f);return}f=i.ownerDocument||i,o=j_(o),(h=Pn.get(h))&&xd(o,h),f=f.createElement("link"),we(f);var g=f;g._p=new Promise(function(E,x){g.onload=E,g.onerror=x}),Ye(f,"link",o),a.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Tc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Cd=0;function iA(e,i){return e.stylesheets&&e.count===0&&Ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+i);0<e.imgBytes&&Cd===0&&(Cd=62500*Lb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Cd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function Ac(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,i.forEach(rA,e),bc=null,Tc.call(e))}function rA(e,i){if(!(i.state.loading&4)){var a=bc.get(e);if(a)var o=a.get(null);else{a=new Map,bc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(a.set(g.dataset.precedence,g),o=g)}o&&a.set(null,o)}h=i.instance,g=h.getAttribute("data-precedence"),f=a.get(g)||o,f===o&&a.set(null,h),a.set(g,h),this.count++,o=Tc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var yl={$$typeof:st,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function sA(e,i,a,o,h,f,g,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function F_(e,i,a,o,h,f,g,E,x,j,K,X){return e=new sA(e,i,a,g,x,j,K,X,E),i=1,f===!0&&(i|=24),f=vn(3,null,null,i),e.current=f,f.stateNode=e,i=lf(),i.refCount++,e.pooledCache=i,i.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:i},ff(f),e}function G_(e){return e?(e=ba,e):ba}function K_(e,i,a,o,h,f){h=G_(h),o.context===null?o.context=h:o.pendingContext=h,o=xr(i),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=Ir(e,o,i),a!==null&&(mn(a,e,i),Xo(a,e,i))}function Q_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function Nd(e,i){Q_(e,i),(e=e.alternate)&&Q_(e,i)}function Y_(e){if(e.tag===13||e.tag===31){var i=xs(e,67108864);i!==null&&mn(i,e,67108864),Nd(e,67108864)}}function X_(e){if(e.tag===13||e.tag===31){var i=wn();i=ps(i);var a=xs(e,i);a!==null&&mn(a,e,i),Nd(e,i)}}var wc=!0;function aA(e,i,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Dd(e,i,a,o)}finally{nt.p=f,G.T=h}}function oA(e,i,a,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Dd(e,i,a,o)}finally{nt.p=f,G.T=h}}function Dd(e,i,a,o){if(wc){var h=Od(o);if(h===null)yd(e,i,o,Sc,a),J_(e,o);else if(uA(h,e,i,a,o))o.stopPropagation();else if(J_(e,o),i&4&&-1<lA.indexOf(e)){for(;h!==null;){var f=xn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=oi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var x=1<<31-pe(g);E.entanglements[1]|=x,g&=~x}Ri(f),(Gt&6)===0&&(oc=rn()+500,hl(0))}}break;case 31:case 13:E=xs(f,2),E!==null&&mn(E,f,2),uc(),Nd(f,2)}if(f=Od(o),f===null&&yd(e,i,o,Sc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(e,i,o,null,a)}}function Od(e){return e=In(e),Md(e)}var Sc=null;function Md(e){if(Sc=null,e=fi(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=d(i),e!==null)return e;e=null}else if(a===31){if(e=p(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Sc=e,null}function $_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hs()){case Eo:return 2;case To:return 8;case fr:case Ph:return 32;case iu:return 268435456;default:return 32}default:return 32}}var Vd=!1,jr=null,zr=null,Br=null,_l=new Map,vl=new Map,qr=[],lA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function J_(e,i){switch(e){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":zr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":_l.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(i.pointerId)}}function El(e,i,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},i!==null&&(i=xn(i),i!==null&&Y_(i)),e):(e.eventSystemFlags|=o,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function uA(e,i,a,o,h){switch(i){case"focusin":return jr=El(jr,e,i,a,o,h),!0;case"dragenter":return zr=El(zr,e,i,a,o,h),!0;case"mouseover":return Br=El(Br,e,i,a,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,El(_l.get(f)||null,e,i,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,El(vl.get(f)||null,e,i,a,o,h)),!0}return!1}function Z_(e){var i=fi(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){X_(a)});return}}else if(i===31){if(i=p(a),i!==null){e.blockedOn=i,Fn(e.priority,function(){X_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=Od(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Mo=o,a.target.dispatchEvent(o),Mo=null}else return i=xn(a),i!==null&&Y_(i),e.blockedOn=a,!1;i.shift()}return!0}function W_(e,i,a){Rc(e)&&a.delete(i)}function cA(){Vd=!1,jr!==null&&Rc(jr)&&(jr=null),zr!==null&&Rc(zr)&&(zr=null),Br!==null&&Rc(Br)&&(Br=null),_l.forEach(W_),vl.forEach(W_)}function xc(e,i){e.blockedOn===i&&(e.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,cA)))}var Ic=null;function t0(e){Ic!==e&&(Ic=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ic===e&&(Ic=null);for(var i=0;i<e.length;i+=3){var a=e[i],o=e[i+1],h=e[i+2];if(typeof o!="function"){if(Md(o||a)===null)continue;break}var f=xn(a);f!==null&&(e.splice(i,3),i-=3,Of(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function Ka(e){function i(x){return xc(x,e)}jr!==null&&xc(jr,e),zr!==null&&xc(zr,e),Br!==null&&xc(Br,e),_l.forEach(i),vl.forEach(i);for(var a=0;a<qr.length;a++){var o=qr[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)Z_(a),a.blockedOn===null&&qr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],g=h[je]||null;if(typeof f=="function")g||t0(a);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[je]||null)E=g.formAction;else if(Md(h)!==null)continue}else E=g.action;typeof E=="function"?a[o+1]=E:(a.splice(o,3),o-=3),t0(a)}}}function e0(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function kd(e){this._internalRoot=e}Cc.prototype.render=kd.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=wn();K_(a,o,e,i,null,null)},Cc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;K_(e.current,2,null,e,null,null),uc(),i[ci]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var i=uu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<qr.length&&i!==0&&i<qr[a].priority;a++);qr.splice(a,0,e),a===0&&Z_(e)}};var n0=t.version;if(n0!=="19.2.4")throw Error(s(527,n0,"19.2.4"));nt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(i),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var hA={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{qn=Nc.inject(hA),He=Nc}catch{}}return bl.createRoot=function(e,i){if(!l(e))throw Error(s(299));var a=!1,o="",h=uy,f=cy,g=hy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),i=F_(e,1,!1,null,null,a,o,null,h,f,g,e0),e[ci]=i.current,gd(e),new kd(i)},bl.hydrateRoot=function(e,i,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=uy,g=cy,E=hy,x=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(x=a.formState)),i=F_(e,1,!0,i,a??null,o,h,x,f,g,E,e0),i.context=G_(null),a=i.current,o=wn(),o=ps(o),h=xr(o),h.callback=null,Ir(a,h,o),a=o,i.current.lanes=a,ds(i,a),Ri(i),e[ci]=i.current,gd(e),new Cc(i)},bl.version="19.2.4",bl}var f0;function TA(){if(f0)return Pd.exports;f0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=EA(),Pd.exports}var bA=TA();const AA=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[n++]=l:l<2048?(t[n++]=l>>6|192,t[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=l>>18|240,t[n++]=l>>12&63|128,t[n++]=l>>6&63|128,t[n++]=l&63|128):(t[n++]=l>>12|224,t[n++]=l>>6&63|128,t[n++]=l&63|128)}return t},wA=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];t[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],d=r[n++],p=r[n++],_=((l&7)<<18|(u&63)<<12|(d&63)<<6|p&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const u=r[n++],d=r[n++];t[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|d&63)}}return t.join("")},Zv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=u>>2,w=(u&3)<<4|p>>4;let N=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(N=64)),s.push(n[b],n[w],n[N],n[F])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Jv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):wA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],p=l<r.length?n[r.charAt(l)]:0;++l;const y=l<r.length?n[r.charAt(l)]:64;++l;const w=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||p==null||y==null||w==null)throw new SA;const N=u<<2|p>>4;if(s.push(N),y!==64){const F=p<<4&240|y>>2;if(s.push(F),w!==64){const Z=y<<6&192|w;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class SA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RA=function(r){const t=Jv(r);return Zv.encodeByteArray(t,!0)},Zc=function(r){return RA(r).replace(/\./g,"")},Wv=function(r){try{return Zv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=()=>xA().__FIREBASE_DEFAULTS__,CA=()=>{if(typeof process>"u"||typeof d0>"u")return;const r=d0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},NA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Wv(r[1]);return t&&JSON.parse(t)},gh=()=>{try{return AA()||IA()||CA()||NA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tE=r=>{var t,n;return(n=(t=gh())==null?void 0:t.emulatorHosts)==null?void 0:n[r]},eE=r=>{const t=tE(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},nE=()=>{var r;return(r=gh())==null?void 0:r.config},iE=r=>{var t;return(t=gh())==null?void 0:t[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function km(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Zc(JSON.stringify(n)),Zc(JSON.stringify(d)),""].join(".")}const Cl={};function OA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Cl))Cl[t]?r.emulator.push(t):r.prod.push(t);return r}function MA(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let m0=!1;function Um(r,t){if(typeof window>"u"||typeof document>"u"||!us(window.location.host)||Cl[r]===t||Cl[r]||m0)return;Cl[r]=t;function n(N){return`__firebase__banner__${N}`}const s="__firebase__banner",u=OA().prod.length>0;function d(){const N=document.getElementById(s);N&&N.remove()}function p(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function _(N,F){N.setAttribute("width","24"),N.setAttribute("id",F),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{m0=!0,d()},N}function b(N,F){N.setAttribute("id",F),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function w(){const N=MA(s),F=n("text"),Z=document.getElementById(F)||document.createElement("span"),tt=n("learnmore"),H=document.getElementById(tt)||document.createElement("a"),W=n("preprendIcon"),lt=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const st=N.element;p(st),b(H,tt);const yt=y();_(lt,W),st.append(lt,Z,H,yt),document.body.appendChild(st)}u?(Z.innerText="Preview backend disconnected.",lt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(lt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function kA(){var t;const r=(t=gh())==null?void 0:t.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jA(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function zA(){return!kA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BA(){try{return typeof indexedDB=="object"}catch{return!1}}function qA(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{var u;t(((u=l.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="FirebaseError";class Li extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=HA,Object.setPrototypeOf(this,Li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},l=`${this.service}/${t}`,u=this.errors[t],d=u?FA(u,s):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new Li(l,p,s)}}function FA(r,t){return r.replace(GA,(n,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const GA=/\{\$([^}]+)}/g;function KA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Ks(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const l of n){if(!s.includes(l))return!1;const u=r[l],d=t[l];if(p0(u)&&p0(d)){if(!Ks(u,d))return!1}else if(u!==d)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function p0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function QA(r,t){const n=new YA(r,t);return n.subscribe.bind(n)}class YA{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let l;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");XA(t,["next","error","complete"])?l=t:l={next:t,error:n,complete:s},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XA(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(r){return r&&r._delegate?r._delegate:r}class ns{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new DA;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),s=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ZA(t))try{this.getOrInitializeService({instanceIdentifier:zs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(t=zs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zs){return this.instances.has(t)}getOptions(t=zs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&d.resolve(l)}return l}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&t(u,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:JA(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=zs){return this.component?this.component.multipleInstances?t:zs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JA(r){return r===zs?void 0:r}function ZA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new $A(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(kt||(kt={}));const tw={debug:kt.DEBUG,verbose:kt.VERBOSE,info:kt.INFO,warn:kt.WARN,error:kt.ERROR,silent:kt.SILENT},ew=kt.INFO,nw={[kt.DEBUG]:"log",[kt.VERBOSE]:"log",[kt.INFO]:"info",[kt.WARN]:"warn",[kt.ERROR]:"error"},iw=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=nw[t];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lm{constructor(t){this.name=t,this._logLevel=ew,this._logHandler=iw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in kt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?tw[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,kt.DEBUG,...t),this._logHandler(this,kt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,kt.VERBOSE,...t),this._logHandler(this,kt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,kt.INFO,...t),this._logHandler(this,kt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,kt.WARN,...t),this._logHandler(this,kt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,kt.ERROR,...t),this._logHandler(this,kt.ERROR,...t)}}const rw=(r,t)=>t.some(n=>r instanceof n);let g0,y0;function sw(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aw(){return y0||(y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const sE=new WeakMap,am=new WeakMap,aE=new WeakMap,Hd=new WeakMap,Pm=new WeakMap;function ow(r){const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n($r(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",d)});return t.then(n=>{n instanceof IDBCursor&&sE.set(n,r)}).catch(()=>{}),Pm.set(t,r),t}function lw(r){if(am.has(r))return;const t=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});am.set(r,t)}let om={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return am.get(r);if(t==="objectStoreNames")return r.objectStoreNames||aE.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $r(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function uw(r){om=r(om)}function cw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Fd(this),t,...n);return aE.set(s,t.sort?t.sort():[t]),$r(s)}:aw().includes(r)?function(...t){return r.apply(Fd(this),t),$r(sE.get(this))}:function(...t){return $r(r.apply(Fd(this),t))}}function hw(r){return typeof r=="function"?cw(r):(r instanceof IDBTransaction&&lw(r),rw(r,sw())?new Proxy(r,om):r)}function $r(r){if(r instanceof IDBRequest)return ow(r);if(Hd.has(r))return Hd.get(r);const t=hw(r);return t!==r&&(Hd.set(r,t),Pm.set(t,r)),t}const Fd=r=>Pm.get(r);function fw(r,t,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const d=indexedDB.open(r,t),p=$r(d);return s&&d.addEventListener("upgradeneeded",_=>{s($r(d.result),_.oldVersion,_.newVersion,$r(d.transaction),_)}),n&&d.addEventListener("blocked",_=>n(_.oldVersion,_.newVersion,_)),p.then(_=>{u&&_.addEventListener("close",()=>u()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const dw=["get","getKey","getAll","getAllKeys","count"],mw=["put","add","delete","clear"],Gd=new Map;function _0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Gd.get(t))return Gd.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,l=mw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||dw.includes(n)))return;const u=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),l&&_.done]))[0]};return Gd.set(t,u),u}uw(r=>({...r,get:(t,n,s)=>_0(t,n)||r.get(t,n,s),has:(t,n)=>!!_0(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function gw(r){const t=r.getComponent();return(t==null?void 0:t.type)==="VERSION"}const lm="@firebase/app",v0="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Lm("@firebase/app"),yw="@firebase/app-compat",_w="@firebase/analytics-compat",vw="@firebase/analytics",Ew="@firebase/app-check-compat",Tw="@firebase/app-check",bw="@firebase/auth",Aw="@firebase/auth-compat",ww="@firebase/database",Sw="@firebase/data-connect",Rw="@firebase/database-compat",xw="@firebase/functions",Iw="@firebase/functions-compat",Cw="@firebase/installations",Nw="@firebase/installations-compat",Dw="@firebase/messaging",Ow="@firebase/messaging-compat",Mw="@firebase/performance",Vw="@firebase/performance-compat",kw="@firebase/remote-config",Uw="@firebase/remote-config-compat",Lw="@firebase/storage",Pw="@firebase/storage-compat",jw="@firebase/firestore",zw="@firebase/ai",Bw="@firebase/firestore-compat",qw="firebase",Hw="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um="[DEFAULT]",Fw={[lm]:"fire-core",[yw]:"fire-core-compat",[vw]:"fire-analytics",[_w]:"fire-analytics-compat",[Tw]:"fire-app-check",[Ew]:"fire-app-check-compat",[bw]:"fire-auth",[Aw]:"fire-auth-compat",[ww]:"fire-rtdb",[Sw]:"fire-data-connect",[Rw]:"fire-rtdb-compat",[xw]:"fire-fn",[Iw]:"fire-fn-compat",[Cw]:"fire-iid",[Nw]:"fire-iid-compat",[Dw]:"fire-fcm",[Ow]:"fire-fcm-compat",[Mw]:"fire-perf",[Vw]:"fire-perf-compat",[kw]:"fire-rc",[Uw]:"fire-rc-compat",[Lw]:"fire-gcs",[Pw]:"fire-gcs-compat",[jw]:"fire-fst",[Bw]:"fire-fst-compat",[zw]:"fire-vertex","fire-js":"fire-js",[qw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=new Map,Gw=new Map,cm=new Map;function E0(r,t){try{r.container.addComponent(t)}catch(n){or.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qs(r){const t=r.name;if(cm.has(t))return or.debug(`There were multiple attempts to register component ${t}.`),!1;cm.set(t,r);for(const n of Wc.values())E0(n,r);for(const n of Gw.values())E0(n,r);return!0}function yh(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Kl("app","Firebase",Kw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=Hw;function oE(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:um,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Jr.create("bad-app-name",{appName:String(l)});if(n||(n=nE()),!n)throw Jr.create("no-options");const u=Wc.get(l);if(u){if(Ks(n,u.options)&&Ks(s,u.config))return u;throw Jr.create("duplicate-app",{appName:l})}const d=new WA(l);for(const _ of cm.values())d.addComponent(_);const p=new Qw(n,s,d);return Wc.set(l,p),p}function jm(r=um){const t=Wc.get(r);if(!t&&r===um&&nE())return oE();if(!t)throw Jr.create("no-app",{appName:r});return t}function Ci(r,t,n){let s=Fw[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=t.match(/\s|\//);if(l||u){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),or.warn(d.join(" "));return}Qs(new ns(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="firebase-heartbeat-database",Xw=1,Ul="firebase-heartbeat-store";let Kd=null;function lE(){return Kd||(Kd=fw(Yw,Xw,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(r=>{throw Jr.create("idb-open",{originalErrorMessage:r.message})})),Kd}async function $w(r){try{const n=(await lE()).transaction(Ul),s=await n.objectStore(Ul).get(uE(r));return await n.done,s}catch(t){if(t instanceof Li)or.warn(t.message);else{const n=Jr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});or.warn(n.message)}}}async function T0(r,t){try{const s=(await lE()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(t,uE(r)),await s.done}catch(n){if(n instanceof Li)or.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(s.message)}}}function uE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jw=1024,Zw=30;class Ww{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eS(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,n;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=b0();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:l}),this._heartbeatsCache.heartbeats.length>Zw){const d=nS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=b0(),{heartbeatsToSend:s,unsentEntries:l}=tS(this._heartbeatsCache.heartbeats),u=Zc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return or.warn(n),""}}}function b0(){return new Date().toISOString().substring(0,10)}function tS(r,t=Jw){const n=[];let s=r.slice();for(const l of r){const u=n.find(d=>d.agent===l.agent);if(u){if(u.dates.push(l.date),A0(n)>t){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),A0(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class eS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BA()?qA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $w(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return T0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return T0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function A0(r){return Zc(JSON.stringify({version:2,heartbeats:r})).length}function nS(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(r){Qs(new ns("platform-logger",t=>new pw(t),"PRIVATE")),Qs(new ns("heartbeat",t=>new Ww(t),"PRIVATE")),Ci(lm,v0,r),Ci(lm,v0,"esm2020"),Ci("fire-js","")}iS("");var rS="firebase",sS="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ci(rS,sS,"app");var w0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zr,cE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,D,k){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return S.prototype[D].apply(V,R)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],R;R=S+(k^C&(D^k))+V[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(D^S&(C^D))+V[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(C^k&(S^C))+V[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(S^D&(k^S))+V[3]+3250441966&4294967295,C=D+(R<<22&4294967295|R>>>10),R=S+(k^C&(D^k))+V[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(D^S&(C^D))+V[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(C^k&(S^C))+V[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(S^D&(k^S))+V[7]+4249261313&4294967295,C=D+(R<<22&4294967295|R>>>10),R=S+(k^C&(D^k))+V[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(D^S&(C^D))+V[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(C^k&(S^C))+V[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(S^D&(k^S))+V[11]+2304563134&4294967295,C=D+(R<<22&4294967295|R>>>10),R=S+(k^C&(D^k))+V[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(D^S&(C^D))+V[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(C^k&(S^C))+V[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=C+(S^D&(k^S))+V[15]+1236535329&4294967295,C=D+(R<<22&4294967295|R>>>10),R=S+(D^k&(C^D))+V[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(S^C))+V[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^C&(k^S))+V[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(D^k))+V[0]+3921069994&4294967295,C=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(C^D))+V[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(S^C))+V[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^C&(k^S))+V[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(D^k))+V[4]+3889429448&4294967295,C=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(C^D))+V[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(S^C))+V[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^C&(k^S))+V[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(D^k))+V[8]+1163531501&4294967295,C=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(C^D))+V[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^D&(S^C))+V[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^C&(k^S))+V[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(D^k))+V[12]+2368359562&4294967295,C=D+(R<<20&4294967295|R>>>12),R=S+(C^D^k)+V[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^D)+V[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^C)+V[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^S)+V[14]+4259657740&4294967295,C=D+(R<<23&4294967295|R>>>9),R=S+(C^D^k)+V[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^D)+V[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^C)+V[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^S)+V[10]+3200236656&4294967295,C=D+(R<<23&4294967295|R>>>9),R=S+(C^D^k)+V[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^D)+V[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^C)+V[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^S)+V[6]+76029189&4294967295,C=D+(R<<23&4294967295|R>>>9),R=S+(C^D^k)+V[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^D)+V[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^C)+V[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=C+(D^k^S)+V[2]+3299628645&4294967295,C=D+(R<<23&4294967295|R>>>9),R=S+(D^(C|~k))+V[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~D))+V[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~C))+V[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~S))+V[5]+4237533241&4294967295,C=D+(R<<21&4294967295|R>>>11),R=S+(D^(C|~k))+V[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~D))+V[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~C))+V[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~S))+V[1]+2240044497&4294967295,C=D+(R<<21&4294967295|R>>>11),R=S+(D^(C|~k))+V[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~D))+V[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~C))+V[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~S))+V[13]+1309151649&4294967295,C=D+(R<<21&4294967295|R>>>11),R=S+(D^(C|~k))+V[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~D))+V[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~C))+V[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=C+(k^(D|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}s.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(V[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,V),D=0;break}}else for(;k<S;)if(V[D++]=I[k++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=S},s.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[S++]=this.g[C]>>>V&255;return I};function u(I,S){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let V=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;V&&k==S||(C[D]=k,V=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?u(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return H(y(-I));const S=[];let C=1;for(let V=0;I>=C;V++)S[V]=I/C|0,C*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return H(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let V=w;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var w=_(0),N=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(tt(this))return-H(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(tt(this))return"-"+H(this).toString(I);const S=y(Math.pow(I,6));var C=this;let V="";for(;;){const D=yt(C,S).g;C=W(C,D.j(S));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,Z(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function tt(I){return I.h==-1}r.l=function(I){return I=W(this,I),tt(I)?-1:Z(I)?0:1};function H(I){const S=I.g.length,C=[];for(let V=0;V<S;V++)C[V]=~I.g[V];return new d(C,~I.h).add(N)}r.abs=function(){return tt(this)?H(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let D=0;D<=S;D++){let k=V+(this.i(D)&65535)+(I.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);V=R>>>16,k&=65535,R&=65535,C[D]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function W(I,S){return I.add(H(S))}r.j=function(I){if(Z(this)||Z(I))return w;if(tt(this))return tt(I)?H(this).j(H(I)):H(H(this).j(I));if(tt(I))return H(this.j(H(I)));if(this.l(F)<0&&I.l(F)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<I.g.length;D++){const k=this.i(V)>>>16,R=this.i(V)&65535,te=I.i(D)>>>16,ue=I.i(D)&65535;C[2*V+2*D]+=R*ue,lt(C,2*V+2*D),C[2*V+2*D+1]+=k*ue,lt(C,2*V+2*D+1),C[2*V+2*D+1]+=R*te,lt(C,2*V+2*D+1),C[2*V+2*D+2]+=k*te,lt(C,2*V+2*D+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function lt(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function st(I,S){this.g=I,this.h=S}function yt(I,S){if(Z(S))throw Error("division by zero");if(Z(I))return new st(w,w);if(tt(I))return S=yt(H(I),S),new st(H(S.g),H(S.h));if(tt(S))return S=yt(I,H(S)),new st(H(S.g),S.h);if(I.g.length>30){if(tt(I)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=N,V=S;V.l(I)<=0;)C=jt(C),V=jt(V);var D=It(C,1),k=It(V,1);for(V=It(V,2),C=It(C,2);!Z(V);){var R=k.add(V);R.l(I)<=0&&(D=D.add(C),k=R),V=It(V,1),C=It(C,1)}return S=W(I,D.j(S)),new st(D,S)}for(D=w;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(C),R=k.j(S);tt(R)||R.l(I)>0;)C-=V,k=y(C),R=k.j(S);Z(k)&&(k=N),D=D.add(k),I=W(I,R)}return new st(D,I)}r.B=function(I){return yt(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function jt(I){const S=I.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function It(I,S){const C=S>>5;S%=32;const V=I.g.length-C,D=[];for(let k=0;k<V;k++)D[k]=S>0?I.i(k+C)>>>S|I.i(k+C+1)<<32-S:I.i(k+C);return new d(D,I.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,cE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Zr=d}).apply(typeof w0<"u"?w0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hE,Sl,fE,qc,hm,dE,mE,pE;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function l(c,m){if(m)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break t;v=v[L]}c=c[c.length-1],A=v[c],m=m(A),m!=A&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function p(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function _(c,m,v){return c.call.apply(c.bind,arguments)}function y(c,m,v){return y=_,y.apply(null,arguments)}function b(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function w(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,L,B){for(var et=Array(arguments.length-2),St=2;St<arguments.length;St++)et[St-2]=arguments[St];return m.prototype[L].apply(A,et)}}var N=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function F(c){const m=c.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=c[A];return v}return[]}function Z(c,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=c.length||0;const B=L.length||0;c.length=v+B;for(let et=0;et<B;et++)c[v+et]=L[et]}else c.push(L)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(c){d.setTimeout(()=>{throw c},0)}function W(){var c=I;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class lt{constructor(){this.h=this.g=null}add(m,v){const A=st.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var st=new tt(()=>new yt,c=>c.reset());class yt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let jt,It=!1,I=new lt,S=()=>{const c=Promise.resolve(void 0);jt=()=>{c.then(C)}};function C(){for(var c;c=W();){try{c.h.call(c.g)}catch(v){H(v)}var m=st;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}It=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return c})();function R(c){return/^[\s\xa0]*$/.test(c)}function te(c,m){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}w(te,D),te.prototype.init=function(c,m){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(c,m,v,A,L){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++G,this.da=this.fa=!1}function ht(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ct(c,m,v){for(const A in c)m.call(v,c[A],A,c)}function Bt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function O(c){const m={};for(const v in c)m[v]=c[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(c,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function at(c){this.src=c,this.g={},this.h=0}at.prototype.add=function(c,m,v,A,L){const B=c.toString();c=this.g[B],c||(c=this.g[B]=[],this.h++);const et=At(c,m,A,L);return et>-1?(m=c[et],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!A,L),m.fa=v,c.push(m)),m};function _t(c,m){const v=m.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(A,L,1),B&&(ht(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function At(c,m,v,A){for(let L=0;L<c.length;++L){const B=c[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==A)return L}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),mt={};function wt(c,m,v,A,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)wt(c,m[B],v,A,L);return null}return v=vo(v),c&&c[ue]?c.J(m,v,p(A)?!!A.capture:!1,L):Ee(c,m,v,!1,A,L)}function Ee(c,m,v,A,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let St=cs(c);if(St||(c[Nt]=St=new at(c)),v=St.add(m,v,A,et,B),v.proxy)return v;if(A=ae(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)k||(L=et),L===void 0&&(L=!1),c.addEventListener(m.toString(),A,L);else if(c.attachEvent)c.attachEvent(si(m.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ae(){function c(v){return m.call(c.src,c.listener,v)}const m=yo;return c}function Pi(c,m,v,A,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Pi(c,m[B],v,A,L);else A=p(A)?!!A.capture:!!A,v=vo(v),c&&c[ue]?(c=c.i,B=String(m).toString(),B in c.g&&(m=c.g[B],v=At(m,v,A,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[B],c.h--)))):c&&(c=cs(c))&&(m=c.g[m.toString()],c=-1,m&&(c=At(m,v,A,L)),(v=c>-1?m[c]:null)&&sa(v))}function sa(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[ue])_t(m.i,c);else{var v=c.type,A=c.proxy;m.removeEventListener?m.removeEventListener(v,A,c.capture):m.detachEvent?m.detachEvent(si(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=cs(m))?(_t(v,c),v.h==0&&(v.src=null,m[Nt]=null)):ht(c)}}}function si(c){return c in mt?mt[c]:mt[c]="on"+c}function yo(c,m){if(c.da)c=!0;else{m=new te(m,this);const v=c.listener,A=c.ha||c.src;c.fa&&sa(c),c=v.call(A,m)}return c}function cs(c){return c=c[Nt],c instanceof at?c:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(c){return typeof c=="function"?c:(c[_o]||(c[_o]=function(m){return c.handleEvent(m)}),c[_o])}function Te(){V.call(this),this.i=new at(this),this.M=this,this.G=null}w(Te,V),Te.prototype[ue]=!0,Te.prototype.removeEventListener=function(c,m,v,A){Pi(this,c,m,v,A)};function ke(c,m){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=m.type||m,typeof m=="string")m=new D(m,c);else if(m instanceof D)m.target=m.target||c;else{var L=m;m=new D(A,c),it(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=hr(B,A,!0,m)&&L;if(B=m.g=c,L=hr(B,A,!0,m)&&L,L=hr(B,A,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=hr(B,A,!1,m)&&L}Te.prototype.N=function(){if(Te.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let A=0;A<v.length;A++)ht(v[A]);delete c.g[m],c.h--}}this.G=null},Te.prototype.J=function(c,m,v,A){return this.i.add(String(c),m,!1,v,A)},Te.prototype.K=function(c,m,v,A){return this.i.add(String(c),m,!0,v,A)};function hr(c,m,v,A){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const St=et.listener,ge=et.ha||et.src;et.fa&&_t(c.i,et),L=St.call(ge,A)!==!1&&L}}return L&&!A.defaultPrevented}function Lh(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(c,m||0)}function nu(c){c.g=Lh(()=>{c.g=null,c.i&&(c.i=!1,nu(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class rn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){V.call(this),this.h=c,this.g={}}w(hs,V);var Eo=[];function To(c){Ct(c.g,function(m,v){this.g.hasOwnProperty(v)&&sa(m)},c),c.g={}}hs.prototype.N=function(){hs.Z.N.call(this),To(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fr=d.JSON.stringify,Ph=d.JSON.parse,iu=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ru(){}function su(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function He(){D.call(this,"d")}w(He,D);function Rn(){D.call(this,"c")}w(Rn,D);var pe={},au=null;function aa(){return au=au||new Te}pe.Ia="serverreachability";function ou(c){D.call(this,pe.Ia,c)}w(ou,D);function ai(c){const m=aa();ke(m,new ou(m))}pe.STAT_EVENT="statevent";function fs(c,m){D.call(this,pe.STAT_EVENT,c),this.stat=m}w(fs,D);function be(c){const m=aa();ke(m,new fs(m,c))}pe.Ja="timingevent";function oi(c,m){D.call(this,pe.Ja,c),this.size=m}w(oi,D);function li(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function jh(c,m,v,A,L,B){c.info(function(){if(c.g)if(B){var et="",St=B.split("&");for(let Ft=0;Ft<St.length;Ft++){var ge=St[Ft].split("=");if(ge.length>1){const oe=ge[0];ge=ge[1];const Nn=oe.split("_");et=Nn.length>=2&&Nn[1]=="type"?et+(oe+"="+ge+"&"):et+(oe+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function lu(c,m,v,A,L,B,et){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function ui(c,m,v,A){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(c,v)+(A?" "+A:"")})}function ds(c,m){c.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function zh(c,m){if(!c.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(c=0;c<B.length;c++)if(Array.isArray(B[c])){var v=B[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<A.length;et++)A[et]=""}}}}return fr(B)}catch{return m}}var ms={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ao;function ps(){}w(ps,ru),ps.prototype.g=function(){return new XMLHttpRequest},Ao=new ps;function ji(c){return encodeURIComponent(String(c))}function uu(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function Fn(c,m,v,A){this.j=c,this.i=m,this.l=v,this.S=A||1,this.V=new hs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ae={},je={};function ci(c,m,v){c.M=1,c.A=gs(Se(m)),c.u=v,c.R=!0,oa(c,null)}function oa(c,m){c.F=Date.now(),hi(c),c.B=Se(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ha(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Gn,c.g=wu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new rn(y(c.Y,c,c.g),c.P)),m=c.V,v=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(Eo[0]=L.toString()),L=Eo);for(let B=0;B<L.length;B++){const et=wt(v,L[B],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=c.J?O(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),ai(),jh(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const m=this.O;m&&Yn(c)==3?m.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)t:{const St=Yn(this.g),ge=this.g.ya(),Ft=this.g.ca();if(!(St<3)&&(St!=3||this.g&&(this.h.h||this.g.la()||Fe(this.g)))){this.K||St!=4||ge==7||(ge==8||Ft<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,lu(this.i,this.v,this.B,this.l,this.S,St,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var B=A;break e}}B=null}if(c=B)ui(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,c);else{this.o=!1,this.m=3,be(12),gn(this),xn(this);break t}}if(this.R){c=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=hu(this,v),oe==je){St==4&&(this.m=4,be(14),c=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ae){this.m=4,be(15),ui(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ui(this.i,this.l,oe,null),di(this,oe);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||v.length!=0||this.h.h||(this.m=1,be(16),c=!1),this.o=this.o&&c,!c)ui(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),xn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(et),et.P=!0,be(11))}}else ui(this.i,this.l,v,null),di(this,v);St==4&&gn(this),this.o&&!this.K&&(St==4?Eu(this.j,this):(this.o=!1,hi(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),gn(this),xn(this)}}}catch{}finally{}};function Bh(c){if(!cu(c))return c.g.la();const m=Fe(c.g);if(m==="")return"";let v="";const A=m.length,L=Yn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),xn(c),"";c.h.i=new d.TextDecoder}for(let B=0;B<A;B++)c.h.h=!0,v+=c.h.i.decode(m[B],{stream:!(L&&B==A-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function hu(c,m){var v=c.C,A=m.indexOf(`
`,v);return A==-1?je:(v=Number(m.substring(v,A)),isNaN(v)?Ae:(A+=1,A+v>m.length?je:(m=m.slice(A,A+v),c.C=A+v,m)))}Fn.prototype.cancel=function(){this.K=!0,gn(this)};function hi(c){c.T=Date.now()+c.H,la(c,c.H)}function la(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=li(y(c.aa,c),m)}function fi(c){c.D&&(d.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(ds(this.i,this.B),this.M!=2&&(ai(),be(17)),gn(this),this.m=2,xn(this)):la(this,this.T-c)};function xn(c){c.j.I==0||c.K||Eu(c.j,c)}function gn(c){fi(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,To(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function di(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||pi(v.h,c))){if(!c.L&&pi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)ga(v),Er(v);else break t;As(v),be(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=li(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((c.L||v.g==c)&&ga(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ft=L[m];const oe=Ft[0];if(!(oe<=v.K))if(v.K=oe,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Nn=Ft[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const bi=Ft[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Xn=Ft[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=c.g;if($n){const ws=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ws){var B=A.h;B.g||ws.indexOf("spdy")==-1&&ws.indexOf("quic")==-1&&ws.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ro(B,B.h),B.h=null))}if(A.G){const ya=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(A.wa=ya,Qt(A.J,A.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var et=c;if(A.na=Au(A,A.L?A.ba:null,A.W),et.L){xo(A.h,et);var St=et,ge=A.O;ge&&(St.H=ge),St.D&&(fi(St),hi(St)),A.g=et}else _u(A);v.i.length>0&&Ei(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ti(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ti(v,7):Uo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ai(4)}catch{}}var we=class{constructor(c,m){this.g=c,this.map=m}};function wo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function mi(c){return c.h?1:c.g?c.g.size:0}function pi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function Ro(c,m){c.g?c.g.add(m):c.h=m}function xo(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}wo.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Io(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return F(c.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let L,B=null;A>=0?(L=c[v].substring(0,A),B=c[v].substring(A+1)):L=c[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof yn?(this.l=c.l,ze(this,c.j),this.o=c.o,this.g=c.g,dr(this,c.u),this.h=c.h,Co(this,gu(c.i)),this.m=c.m):c&&(m=String(c).match(fu))?(this.l=!1,ze(this,m[1]||"",!0),this.o=gi(m[2]||""),this.g=gi(m[3]||"",!0),dr(this,m[4]),this.h=gi(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=gi(m[7]||"")):(this.l=!1,this.i=new pr(null,this.l))}yn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(ys(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(ys(m,ca,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ys(v,v.charAt(0)=="/"?No:du,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ys(v,mu)),c.join("")},yn.prototype.resolve=function(c){const m=Se(this);let v=!!c.j;v?ze(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var A=c.h;if(v)dr(m,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const St=L[et++];St=="."?A&&et==L.length&&B.push(""):St==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),A&&et==L.length&&B.push("")):(B.push(St),A=!0)}A=B.join("/")}else A=L}return v?m.h=A:v=c.i.toString()!=="",v?Co(m,gu(c.i)):v=!!c.m,v&&(m.m=c.m),m};function Se(c){return new yn(c)}function ze(c,m,v){c.j=v?gi(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function dr(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Co(c,m,v){m instanceof pr?(c.i=m,fa(c.i,c.l)):(v||(m=ys(m,mr)),c.i=new pr(m,c.l))}function Qt(c,m,v){c.i.set(m,v)}function gs(c){return Qt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function gi(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ys(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ca=/[#\/\?@]/g,du=/[#\?:]/g,No=/[#\?]/g,mr=/[#\?@]/g,mu=/#/g;function pr(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&ua(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=pr.prototype,r.add=function(c,m){un(this),this.i=null,c=gr(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function pu(c,m){un(c),m=gr(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function Do(c,m){return un(c),m=gr(c,m),c.g.has(m)}r.forEach=function(c,m){un(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(m,L,A,this)},this)},this)};function Oo(c,m){un(c);let v=[];if(typeof m=="string")Do(c,m)&&(v=v.concat(c.g.get(gr(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}r.set=function(c,m){return un(this),this.i=null,c=gr(this,c),Do(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},r.get=function(c,m){return c?(c=Oo(this,c),c.length>0?String(c[0]):m):m};function ha(c,m,v){pu(c,m),v.length>0&&(c.i=null,c.g.set(gr(c,m),F(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=ji(v);v=Oo(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+ji(v[B])),c.push(et)}}return this.i=c.join("&")};function gu(c){const m=new pr;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function gr(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function fa(c,m){m&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(pu(this,A),ha(this,L,v))},c)),c.j=m}function Kn(c,m){const v=new Hn;if(d.Image){const A=new Image;A.onload=b(In,v,"TestLoadImage: loaded",!0,m,A),A.onerror=b(In,v,"TestLoadImage: error",!1,m,A),A.onabort=b(In,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(In,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else m(!1)}function Mo(c,m){const v=new Hn,A=new AbortController,L=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:A.signal}).then(B=>{clearTimeout(L),B.ok?In(v,"TestPingServer: ok",!0,m):In(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),In(v,"TestPingServer: error",!1,m)})}function In(c,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function yr(){this.g=new iu}function yi(c){this.i=c.Sb||null,this.h=c.ab||!1}w(yi,ru),yi.prototype.g=function(){return new _s(this.i,this.h)};function _s(c,m){Te.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(_s,Te),r=_s.prototype,r.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?_r(this):Qn(this),this.readyState==3&&da(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,_r(this))},r.Na=function(c){this.g&&(this.response=c,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,m){this.A.append(c,m)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(_s.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Cn(c){let m="";return Ct(c,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function vs(c,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Cn(v),typeof c=="string"?v!=null&&ji(v):Qt(c,m,v))}function $t(c){Te.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w($t,Te);var _i=/^https?$/i,Vo=["POST","PUT"];r=$t.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ao.g(),this.g.onreadystatechange=N(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(B){Es(this,B);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())v.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&c instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(B){Es(this,B)}};function Es(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,ko(c),zi(c)}function ko(c){c.A||(c.A=!0,ke(c,"complete"),ke(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ke(this,"complete"),ke(this,"abort"),zi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),$t.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ts(this):this.Xa())},r.Xa=function(){Ts(this)};function Ts(c){if(c.h&&typeof u<"u"){if(c.v&&Yn(c)==4)setTimeout(c.Ca.bind(c),0);else if(ke(c,"readystatechange"),Yn(c)==4){c.h=!1;try{const B=c.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=B===0){let et=String(c.D).match(fu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),A=!_i.test(et?et.toLowerCase():"")}v=A}if(v)ke(c,"complete"),ke(c,"success");else{c.o=6;try{var L=Yn(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",ko(c)}}finally{zi(c)}}}}function zi(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||ke(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),Ph(m)}};function Fe(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(c){const m={};c=(c.g&&Yn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(R(c[A]))continue;var v=uu(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Bt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function vr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,c),this.Za=vi("retryDelaySeedMs",1e4,c),this.Ta=vi("forwardChannelMaxRetries",2,c),this.va=vi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(c&&c.concurrentRequestLimit),this.Ba=new yr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=vr.prototype,r.ka=8,r.I=1,r.connect=function(c,m,v,A){be(0),this.W=c,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Au(this,null,this.W),Ei(this)};function Uo(c){if(ma(c),c.I==3){var m=c.V++,v=Se(c.J);if(Qt(v,"SID",c.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),bs(c,v),m=new Fn(c,c.j,m),m.M=2,m.A=gs(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=wu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}bu(c)}function Er(c){c.g&&(Po(c),c.g.cancel(),c.g=null)}function ma(c){Er(c),c.v&&(d.clearTimeout(c.v),c.v=null),ga(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&d.clearTimeout(c.m),c.m=null)}function Ei(c){if(!So(c.h)&&!c.m){c.m=!0;var m=c.Ea;jt||S(),It||(jt(),It=!0),I.add(m,c),c.D=0}}function pa(c,m){return mi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=li(y(c.Ea,c,m),Tu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Fn(this,this.j,c);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=yu(this,L,m),v=Se(this.J),Qt(v,"RID",c),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),bs(this,v),B&&(this.R?m="headers="+ji(Cn(B))+"&"+m:this.u&&vs(v,this.u,B)),Ro(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,ci(L,v,null)):ci(L,v,m),this.I=2}}else this.I==3&&(c?Lo(this,c):this.i.length==0||So(this.h)||Lo(this))};function Lo(c,m){var v;m?v=m.l:v=c.V++;const A=Se(c.J);Qt(A,"SID",c.M),Qt(A,"RID",v),Qt(A,"AID",c.K),bs(c,A),c.u&&c.o&&vs(A,c.u,c.o),v=new Fn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=yu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ro(c.h,v),ci(v,A,m)}function bs(c,m){c.H&&Ct(c.H,function(v,A){Qt(m,A,v)}),c.l&&Ct({},function(v,A){Qt(m,A,v)})}function yu(c,m,v){v=Math.min(c.i.length,v);const A=c.l?y(c.l.Ka,c.l,c):null;t:{var L=c.i;let St=-1;for(;;){const ge=["count="+v];St==-1?v>0?(St=L[0].g,ge.push("ofs="+St)):St=0:ge.push("ofs="+St);let Ft=!0;for(let oe=0;oe<v;oe++){var B=L[oe].g;const Nn=L[oe].map;if(B-=St,B<0)St=Math.max(0,L[oe].g-100),Ft=!1;else try{B="req"+B+"_"||"";try{var et=Nn instanceof Map?Nn:Object.entries(Nn);for(const[bi,Xn]of et){let $n=Xn;p(Xn)&&($n=fr(Xn)),ge.push(B+bi+"="+encodeURIComponent($n))}}catch(bi){throw ge.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{A&&A(Nn)}}if(Ft){et=ge.join("&");break t}}et=void 0}return c=c.i.splice(0,v),m.G=c,et}function _u(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;jt||S(),It||(jt(),It=!0),I.add(m,c),c.A=0}}function As(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=li(y(c.Da,c),Tu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=li(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Er(this),vu(this))};function Po(c){c.B!=null&&(d.clearTimeout(c.B),c.B=null)}function vu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=Se(c.na);Qt(m,"RID","rpc"),Qt(m,"SID",c.M),Qt(m,"AID",c.K),Qt(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&Qt(m,"TO",c.ia),Qt(m,"TYPE","xmlhttp"),bs(c,m),c.u&&c.o&&vs(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=gs(Se(m)),v.u=null,v.R=!0,oa(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Er(this),As(this),be(19))};function ga(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Eu(c,m){var v=null;if(c.g==m){ga(c),Po(c),c.g=null;var A=2}else if(pi(c.h,m))v=m.G,xo(c.h,m),A=1;else return;if(c.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=c.D;A=aa(),ke(A,new oi(A,v)),Ei(c)}else _u(c);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&pa(c,m)||A==2&&As(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),L){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function Tu(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ti(c,m){if(c.j.info("Error code "+m),m==2){var v=y(c.bb,c),A=c.Ua;const L=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(A,"https"),gs(A),L?Kn(A.toString(),v):Mo(A.toString(),v)}else be(2);c.I=0,c.l&&c.l.pa(m),bu(c),ma(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))};function bu(c){if(c.I=0,c.ja=[],c.l){const m=Io(c.h);(m.length!=0||c.i.length!=0)&&(Z(c.ja,m),Z(c.ja,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.oa()}}function Au(c,m,v){var A=v instanceof yn?Se(v):new yn(v);if(A.g!="")m&&(A.g=m+"."+A.g),dr(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new yn(null);A&&ze(B,A),m&&(B.g=m),L&&dr(B,L),v&&(B.h=v),A=B}return v=c.G,m=c.wa,v&&m&&Qt(A,v,m),Qt(A,"VER",c.ka),bs(c,A),A}function wu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new $t(new yi({ab:v})):new $t(c.ma),m.Fa(c.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Tr(){}Tr.prototype.g=function(c,m){return new sn(c,m)};function sn(c,m){Te.call(this),this.g=new vr(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!R(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new qi(this)}w(sn,Te),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Uo(this.g)},sn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=fr(c),c=v);m.i.push(new we(m.Ya++,c)),m.I==3&&Ei(m)},sn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,sn.Z.N.call(this)};function Ru(c){He.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}w(Ru,He);function xu(){Rn.call(this),this.status=1}w(xu,Rn);function qi(c){this.g=c}w(qi,Su),qi.prototype.ra=function(){ke(this.g,"a")},qi.prototype.qa=function(c){ke(this.g,new Ru(c))},qi.prototype.pa=function(c){ke(this.g,new xu)},qi.prototype.oa=function(){ke(this.g,"b")},Tr.prototype.createWebChannel=Tr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,pE=function(){return new Tr},mE=function(){return aa()},dE=pe,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ms.NO_ERROR=0,ms.TIMEOUT=8,ms.HTTP_ERROR=6,qc=ms,bo.COMPLETE="complete",fE=bo,su.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Te.prototype.listen=Te.prototype.J,Sl=su,$t.prototype.listenOnce=$t.prototype.K,$t.prototype.getLastError=$t.prototype.Ha,$t.prototype.getLastErrorCode=$t.prototype.ya,$t.prototype.getStatus=$t.prototype.ca,$t.prototype.getResponseJson=$t.prototype.La,$t.prototype.getResponseText=$t.prototype.la,$t.prototype.send=$t.prototype.ea,$t.prototype.setWithCredentials=$t.prototype.Fa,hE=$t}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="12.9.0";function aS(r){co=r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Lm("@firebase/firestore");function Qa(){return Ys.logLevel}function ot(r,...t){if(Ys.logLevel<=kt.DEBUG){const n=t.map(zm);Ys.debug(`Firestore (${co}): ${r}`,...n)}}function lr(r,...t){if(Ys.logLevel<=kt.ERROR){const n=t.map(zm);Ys.error(`Firestore (${co}): ${r}`,...n)}}function Xs(r,...t){if(Ys.logLevel<=kt.WARN){const n=t.map(zm);Ys.warn(`Firestore (${co}): ${r}`,...n)}}function zm(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,gE(r,s,n)}function gE(r,t,n){let s=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw lr(s),new Error(s)}function Kt(r,t,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||gE(t,l,s)}function bt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rt extends Li{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class oS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(tn.UNAUTHENTICATED)))}shutdown(){}}class lS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class uS{constructor(t){this.t=t,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const l=_=>this.i!==s?(s=this.i,n(_)):Promise.resolve();let u=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Wr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=u;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Wr)}}),0),d()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new yE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new tn(t)}}class cS{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const t=this.A();return t&&this.R.set("Authorization",t),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class hS{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new cS(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fS{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const l=u=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new S0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new S0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=dS(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=t.charAt(l[u]%62))}return s}}function Ut(r,t){return r<t?-1:r>t?1:0}function fm(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=t.charAt(s);if(l!==u)return Qd(l)===Qd(u)?Ut(l,u):Qd(l)?1:-1}return Ut(r.length,t.length)}const mS=55296,pS=57343;function Qd(r){const t=r.charCodeAt(0);return t>=mS&&t<=pS}function io(r,t,n){return r.length===t.length&&r.every(((s,l)=>n(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="__name__";class xi{constructor(t,n,s){n===void 0?n=0:n>t.length&&gt(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&gt(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return xi.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof xi?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let l=0;l<s;l++){const u=xi.compareSegments(t.get(l),n.get(l));if(u!==0)return u}return Ut(t.length,n.length)}static compareSegments(t,n){const s=xi.isNumericId(t),l=xi.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?xi.extractNumericId(t).compare(xi.extractNumericId(n)):fm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zr.fromString(t.substring(4,t.length-2))}}class ne extends xi{construct(t,n,s){return new ne(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new rt($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new ne(n)}static emptyPath(){return new ne([])}}const gS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends xi{construct(t,n,s){return new $e(t,n,s)}static isValidIdentifier(t){return gS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new $e([R0])}static fromServerFormat(t){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new rt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new rt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(s+=p,l++):(u(),l++)}if(u(),d)throw new rt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ne.fromString(t))}static fromName(t){return new dt(ne.fromString(t).popFirst(5))}static empty(){return new dt(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return ne.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ne(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(r,t,n){if(!n)throw new rt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function yS(r,t,n,s){if(t===!0&&s===!0)throw new rt($.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function x0(r){if(!dt.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function I0(r){if(dt.isDocumentKey(r))throw new rt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function vE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function _h(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function ts(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new rt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_h(r);throw new rt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oe(r,t){const n={typeString:r};return t&&(n.value=t),n}function Yl(r,t){if(!vE(r))throw new rt($.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const l=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&d!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new rt($.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=-62135596800,N0=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*N0);return new se(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new rt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<C0)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new rt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(t){return this.seconds===t.seconds?Ut(this.nanoseconds,t.nanoseconds):Ut(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Yl(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-C0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Oe("string",se._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new se(0,0))}static max(){return new Et(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function _S(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(s===1e9?new se(n+1,0):new se(n,s));return new is(l,dt.empty(),t)}function vS(r){return new is(r.readTime,r.key,Ll)}class is{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new is(Et.min(),dt.empty(),Ll)}static max(){return new is(Et.max(),dt.empty(),Ll)}}function ES(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=dt.comparator(r.documentKey,t.documentKey),n!==0?n:Ut(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==TS)throw r;ot("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,s)=>{n(t)}))}static reject(t){return new J(((n,s)=>{s(t)}))}static waitFor(t){return new J(((n,s)=>{let l=0,u=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++u,d&&u===l&&n()}),(_=>s(_)))})),d=!0,u===l&&n()}))}static or(t){let n=J.resolve(!1);for(const s of t)n=n.next((l=>l?J.resolve(l):s()));return n}static forEach(t,n){const s=[];return t.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(t,n){return new J(((s,l)=>{const u=t.length,d=new Array(u);let p=0;for(let _=0;_<u;_++){const y=_;n(t[y]).next((b=>{d[y]=b,++p,p===u&&s(d)}),(b=>l(b)))}}))}static doWhile(t,n){return new J(((s,l)=>{const u=()=>{t()===!0?n().next((()=>{u()}),l):s()};u()}))}}function AS(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm=-1;function Eh(r){return r==null}function th(r){return r===0&&1/r==-1/0}function wS(r){return typeof r=="number"&&Number.isInteger(r)&&!th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="";function SS(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=D0(t)),t=RS(r.get(n),t);return D0(t)}function RS(r,t){let n=t;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case EE:n+="";break;default:n+=u}}return n}function D0(r){return r+EE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function ta(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function TE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(t,n){this.comparator=t,this.root=n||Xe.EMPTY}insert(t,n){return new ce(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Xe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Xe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&l&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Xe{constructor(t,n,s,l,u){this.key=t,this.value=n,this.color=s??Xe.RED,this.left=l??Xe.EMPTY,this.right=u??Xe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,l,u){return new Xe(t??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let l=this;const u=s(t,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(t,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(t,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Xe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,l=this;if(n(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(t,l.key)===0){if(l.right.isEmpty())return Xe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Xe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Xe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Xe.EMPTY=null,Xe.RED=!0,Xe.BLACK=!1;Xe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,n,s,l,u){return this}insert(t,n,s){return new Xe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;n(l.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(t){return new M0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Pe(this.comparator);return n.data=t,n}}class M0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.fields=t,t.sort($e.comparator)}static empty(){return new ti([])}unionWith(t){let n=new Pe($e.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new ti(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return io(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new bE("Invalid base64 string: "+u):u}})(t);return new Je(n)}static fromUint8Array(t){const n=(function(l){let u="";for(let d=0;d<l.length;++d)u+=String.fromCharCode(l[d]);return u})(t);return new Je(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ut(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Je.EMPTY_BYTE_STRING=new Je("");const xS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rs(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const n=xS.exec(r);if(Kt(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:ve(r.seconds),nanos:ve(r.nanos)}}function ve(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ss(r){return typeof r=="string"?Je.fromBase64String(r):Je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="server_timestamp",wE="__type__",SE="__previous_value__",RE="__local_write_time__";function Hm(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[wE])==null?void 0:s.stringValue)===AE}function Th(r){const t=r.mapValue.fields[SE];return Hm(t)?Th(t):t}function Pl(r){const t=rs(r.mapValue.fields[RE].timestampValue);return new se(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t,n,s,l,u,d,p,_,y,b,w){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b,this.apiKey=w}}const eh="(default)";class jl{constructor(t,n){this.projectId=t,this.database=n||eh}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===eh}isEqual(t){return t instanceof jl&&t.projectId===this.projectId&&t.database===this.database}}function CS(r,t){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new rt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(r.options.projectId,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="__type__",NS="__max__",Mc={mapValue:{}},IE="__vector__",nh="value";function as(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:OS(r)?9007199254740991:DS(r)?10:11:gt(28295,{value:r})}function ki(r,t){if(r===t)return!0;const n=as(r);if(n!==as(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pl(r).isEqual(Pl(t));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const d=rs(l.timestampValue),p=rs(u.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,u){return ss(l.bytesValue).isEqual(ss(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,u){return ve(l.geoPointValue.latitude)===ve(u.geoPointValue.latitude)&&ve(l.geoPointValue.longitude)===ve(u.geoPointValue.longitude)})(r,t);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return ve(l.integerValue)===ve(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const d=ve(l.doubleValue),p=ve(u.doubleValue);return d===p?th(d)===th(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return io(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(l,u){const d=l.mapValue.fields||{},p=u.mapValue.fields||{};if(O0(d)!==O0(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!ki(d[_],p[_])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function zl(r,t){return(r.values||[]).find((n=>ki(n,t)))!==void 0}function ro(r,t){if(r===t)return 0;const n=as(r),s=as(t);if(n!==s)return Ut(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ut(r.booleanValue,t.booleanValue);case 2:return(function(u,d){const p=ve(u.integerValue||u.doubleValue),_=ve(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return V0(r.timestampValue,t.timestampValue);case 4:return V0(Pl(r),Pl(t));case 5:return fm(r.stringValue,t.stringValue);case 6:return(function(u,d){const p=ss(u),_=ss(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(u,d){const p=u.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=Ut(p[y],_[y]);if(b!==0)return b}return Ut(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,d){const p=Ut(ve(u.latitude),ve(d.latitude));return p!==0?p:Ut(ve(u.longitude),ve(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return k0(r.arrayValue,t.arrayValue);case 10:return(function(u,d){var N,F,Z,tt;const p=u.fields||{},_=d.fields||{},y=(N=p[nh])==null?void 0:N.arrayValue,b=(F=_[nh])==null?void 0:F.arrayValue,w=Ut(((Z=y==null?void 0:y.values)==null?void 0:Z.length)||0,((tt=b==null?void 0:b.values)==null?void 0:tt.length)||0);return w!==0?w:k0(y,b)})(r.mapValue,t.mapValue);case 11:return(function(u,d){if(u===Mc.mapValue&&d===Mc.mapValue)return 0;if(u===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=u.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const N=fm(_[w],b[w]);if(N!==0)return N;const F=ro(p[_[w]],y[b[w]]);if(F!==0)return F}return Ut(_.length,b.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:n})}}function V0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ut(r,t);const n=rs(r),s=rs(t),l=Ut(n.seconds,s.seconds);return l!==0?l:Ut(n.nanos,s.nanos)}function k0(r,t){const n=r.values||[],s=t.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=ro(n[l],s[l]);if(u)return u}return Ut(n.length,s.length)}function so(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=rs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return ss(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return dt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=dm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const d of s)u?u=!1:l+=",",l+=`${d}:${dm(n.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function Hc(r){switch(as(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(r);return t?16+Hc(t):16;case 5:return 2*r.stringValue.length;case 6:return ss(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+Hc(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return ta(s.fields,((u,d)=>{l+=u.length+Hc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function U0(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function mm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function L0(r){return!!r&&"nullValue"in r}function P0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function DS(r){var n,s;return((s=(((n=r==null?void 0:r.mapValue)==null?void 0:n.fields)||{})[xE])==null?void 0:s.stringValue)===IE}function Nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ta(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Nl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Nl(r.arrayValue.values[n]);return t}return{...r}}function OS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===NS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this.value=t}static empty(){return new zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!Fc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(n)}setAll(t){let n=$e.emptyPath(),s={},l=[];t.forEach(((d,p)=>{if(!n.isImmediateParentOf(p)){const _=this.getFieldsMap(n);this.applyChanges(_,s,l),s={},l=[],n=p.popLast()}d?s[p.lastSegment()]=Nl(d):l.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(t){const n=this.field(t.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=n.mapValue.fields[t.get(s)];Fc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(t,n,s){ta(n,((l,u)=>t[l]=u));for(const l of s)delete t[l]}clone(){return new zn(Nl(this.value))}}function CE(r){const t=[];return ta(r.fields,((n,s)=>{const l=new $e([n]);if(Fc(s)){const u=CE(s.mapValue).fields;if(u.length===0)t.push(l);else for(const d of u)t.push(l.child(d))}else t.push(l)})),new ti(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(t,n,s,l,u,d,p){this.key=t,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=d,this.documentState=p}static newInvalidDocument(t){return new en(t,0,Et.min(),Et.min(),Et.min(),zn.empty(),0)}static newFoundDocument(t,n,s,l){return new en(t,1,n,Et.min(),s,l,0)}static newNoDocument(t,n){return new en(t,2,n,Et.min(),Et.min(),zn.empty(),0)}static newUnknownDocument(t,n){return new en(t,3,n,Et.min(),Et.min(),zn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof en&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(t,n){this.position=t,this.inclusive=n}}function j0(r,t,n){let s=0;for(let l=0;l<r.position.length;l++){const u=t[l],d=r.position[l];if(u.field.isKeyField()?s=dt.comparator(dt.fromName(d.referenceValue),n.key):s=ro(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function z0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(t,n="asc"){this.field=t,this.dir=n}}function MS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{}class De extends NE{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new kS(t,n,s):n==="array-contains"?new PS(t,s):n==="in"?new jS(t,s):n==="not-in"?new zS(t,s):n==="array-contains-any"?new BS(t,s):new De(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new US(t,s):new LS(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ro(n,this.value)):n!==null&&as(this.value)===as(n)&&this.matchesComparison(ro(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends NE{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ri(t,n)}matches(t){return DE(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function DE(r){return r.op==="and"}function OE(r){return VS(r)&&DE(r)}function VS(r){for(const t of r.filters)if(t instanceof ri)return!1;return!0}function pm(r){if(r instanceof De)return r.field.canonicalString()+r.op.toString()+so(r.value);if(OE(r))return r.filters.map((t=>pm(t))).join(",");{const t=r.filters.map((n=>pm(n))).join(",");return`${r.op}(${t})`}}function ME(r,t){return r instanceof De?(function(s,l){return l instanceof De&&s.op===l.op&&s.field.isEqual(l.field)&&ki(s.value,l.value)})(r,t):r instanceof ri?(function(s,l){return l instanceof ri&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,d,p)=>u&&ME(d,l.filters[p])),!0):!1})(r,t):void gt(19439)}function VE(r){return r instanceof De?(function(n){return`${n.field.canonicalString()} ${n.op} ${so(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(VE).join(" ,")+"}"})(r):"Filter"}class kS extends De{constructor(t,n,s){super(t,n,s),this.key=dt.fromName(s.referenceValue)}matches(t){const n=dt.comparator(t.key,this.key);return this.matchesComparison(n)}}class US extends De{constructor(t,n){super(t,"in",n),this.keys=kE("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class LS extends De{constructor(t,n){super(t,"not-in",n),this.keys=kE("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function kE(r,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((s=>dt.fromName(s.referenceValue)))}class PS extends De{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Fm(n)&&zl(n.arrayValue,this.value)}}class jS extends De{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class zS extends De{constructor(t,n){super(t,"not-in",n)}matches(t){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!zl(this.value.arrayValue,n)}}class BS extends De{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>zl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(t,n=null,s=[],l=[],u=null,d=null,p=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=d,this.endAt=p,this.Te=null}}function B0(r,t=null,n=[],s=[],l=null,u=null,d=null){return new qS(r,t,n,s,l,u,d)}function Gm(r){const t=bt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>pm(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),Eh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>so(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>so(s))).join(",")),t.Te=n}return t.Te}function Km(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!MS(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!ME(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!z0(r.startAt,t.startAt)&&z0(r.endAt,t.endAt)}function gm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t,n=null,s=[],l=[],u=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function HS(r,t,n,s,l,u,d,p){return new mo(r,t,n,s,l,u,d,p)}function bh(r){return new mo(r)}function q0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function FS(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function UE(r){return r.collectionGroup!==null}function Dl(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Pe($e.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new Bl(u,s))})),n.has($e.keyField().canonicalString())||t.Ie.push(new Bl($e.keyField(),s))}return t.Ie}function Ni(r){const t=bt(r);return t.Ee||(t.Ee=GS(t,Dl(r))),t.Ee}function GS(r,t){if(r.limitType==="F")return B0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Bl(l.field,u)}));const n=r.endAt?new ih(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ih(r.startAt.position,r.startAt.inclusive):null;return B0(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function ym(r,t){const n=r.filters.concat([t]);return new mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function KS(r,t){const n=r.explicitOrderBy.concat([t]);return new mo(r.path,r.collectionGroup,n,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}function _m(r,t,n){return new mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function Ah(r,t){return Km(Ni(r),Ni(t))&&r.limitType===t.limitType}function LE(r){return`${Gm(Ni(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>VE(l))).join(", ")}]`),Eh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>so(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>so(l))).join(",")),`Target(${s})`})(Ni(r))}; limitType=${r.limitType})`}function wh(r,t){return t.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):dt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,l){for(const u of Dl(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,p,_){const y=j0(d,p,_);return d.inclusive?y<=0:y<0})(s.startAt,Dl(s),l)||s.endAt&&!(function(d,p,_){const y=j0(d,p,_);return d.inclusive?y>=0:y>0})(s.endAt,Dl(s),l))})(r,t)}function QS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function PE(r){return(t,n)=>{let s=!1;for(const l of Dl(r)){const u=YS(l,t,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function YS(r,t,n){const s=r.field.isKeyField()?dt.comparator(t.key,n.key):(function(u,d,p){const _=d.data.field(u),y=p.data.field(u);return _!==null&&y!==null?ro(_,y):gt(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],t))return void(l[u]=[t,n]);l.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ta(this.inner,((n,s)=>{for(const[l,u]of s)t(l,u)}))}isEmpty(){return TE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS=new ce(dt.comparator);function ur(){return XS}const jE=new ce(dt.comparator);function Rl(...r){let t=jE;for(const n of r)t=t.insert(n.key,n);return t}function zE(r){let t=jE;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function Bs(){return Ol()}function BE(){return Ol()}function Ol(){return new ea((r=>r.toString()),((r,t)=>r.isEqual(t)))}const $S=new ce(dt.comparator),JS=new Pe(dt.comparator);function Lt(...r){let t=JS;for(const n of r)t=t.add(n);return t}const ZS=new Pe(Ut);function WS(){return ZS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:th(t)?"-0":t}}function qE(r){return{integerValue:""+r}}function t2(r,t){return wS(t)?qE(t):Qm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function e2(r,t,n){return r instanceof ql?(function(l,u){const d={fields:{[wE]:{stringValue:AE},[RE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Hm(u)&&(u=Th(u)),u&&(d.fields[SE]=u),{mapValue:d}})(n,t):r instanceof Hl?FE(r,t):r instanceof Fl?GE(r,t):(function(l,u){const d=HE(l,u),p=H0(d)+H0(l.Ae);return mm(d)&&mm(l.Ae)?qE(p):Qm(l.serializer,p)})(r,t)}function n2(r,t,n){return r instanceof Hl?FE(r,t):r instanceof Fl?GE(r,t):n}function HE(r,t){return r instanceof rh?(function(s){return mm(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class ql extends Sh{}class Hl extends Sh{constructor(t){super(),this.elements=t}}function FE(r,t){const n=KE(t);for(const s of r.elements)n.some((l=>ki(l,s)))||n.push(s);return{arrayValue:{values:n}}}class Fl extends Sh{constructor(t){super(),this.elements=t}}function GE(r,t){let n=KE(t);for(const s of r.elements)n=n.filter((l=>!ki(l,s)));return{arrayValue:{values:n}}}class rh extends Sh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function H0(r){return ve(r.integerValue||r.doubleValue)}function KE(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,n){this.field=t,this.transform=n}}function r2(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Hl&&l instanceof Hl||s instanceof Fl&&l instanceof Fl?io(s.elements,l.elements,ki):s instanceof rh&&l instanceof rh?ki(s.Ae,l.Ae):s instanceof ql&&l instanceof ql})(r.transform,t.transform)}class s2{constructor(t,n){this.version=t,this.transformResults=n}}class Di{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new Di}static exists(t){return new Di(void 0,t)}static updateTime(t){return new Di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Rh{}function QE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ym(r.key,Di.none()):new Xl(r.key,r.data,Di.none());{const n=r.data,s=zn.empty();let l=new Pe($e.comparator);for(let u of t.fields)if(!l.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),l=l.add(u)}return new na(r.key,s,new ti(l.toArray()),Di.none())}}function a2(r,t,n){r instanceof Xl?(function(l,u,d){const p=l.value.clone(),_=G0(l.fieldTransforms,u,d.transformResults);p.setAll(_),u.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,n):r instanceof na?(function(l,u,d){if(!Gc(l.precondition,u))return void u.convertToUnknownDocument(d.version);const p=G0(l.fieldTransforms,u,d.transformResults),_=u.data;_.setAll(YE(l)),_.setAll(p),u.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,n):(function(l,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,n)}function Ml(r,t,n,s){return r instanceof Xl?(function(u,d,p,_){if(!Gc(u.precondition,d))return p;const y=u.value.clone(),b=K0(u.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,n,s):r instanceof na?(function(u,d,p,_){if(!Gc(u.precondition,d))return p;const y=K0(u.fieldTransforms,_,d),b=d.data;return b.setAll(YE(u)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((w=>w.field)))})(r,t,n,s):(function(u,d,p){return Gc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,n)}function o2(r,t){let n=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),u=HE(s.transform,l||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function F0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&io(s,l,((u,d)=>r2(u,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Xl extends Rh{constructor(t,n,s,l=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class na extends Rh{constructor(t,n,s,l,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function YE(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function G0(r,t,n){const s=new Map;Kt(r.length===n.length,32656,{Ve:n.length,de:r.length});for(let l=0;l<n.length;l++){const u=r[l],d=u.transform,p=t.data.field(u.field);s.set(u.field,n2(d,p,n[l]))}return s}function K0(r,t,n){const s=new Map;for(const l of r){const u=l.transform,d=n.data.field(l.field);s.set(l.field,e2(u,d,t))}return s}class Ym extends Rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends Rh{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t,n,s,l){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(t.key)&&a2(u,t,s[l])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Ml(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Ml(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=BE();return this.mutations.forEach((l=>{const u=t.get(l.key),d=u.overlayedDocument;let p=this.applyToLocalView(d,u.mutatedFields);p=n.has(l.key)?null:p;const _=QE(d,p);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Lt())}isEqual(t){return this.batchId===t.batchId&&io(this.mutations,t.mutations,((n,s)=>F0(n,s)))&&io(this.baseMutations,t.baseMutations,((n,s)=>F0(n,s)))}}class Xm{constructor(t,n,s,l){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return $S})();const u=t.mutations;for(let d=0;d<u.length;d++)l=l.insert(u[d].key,s[d].version);return new Xm(t,n,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ne,zt;function f2(r){switch(r){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function XE(r){if(r===void 0)return lr("GRPC error has no .code"),$.UNKNOWN;switch(r){case Ne.OK:return $.OK;case Ne.CANCELLED:return $.CANCELLED;case Ne.UNKNOWN:return $.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return $.INTERNAL;case Ne.UNAVAILABLE:return $.UNAVAILABLE;case Ne.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Ne.NOT_FOUND:return $.NOT_FOUND;case Ne.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Ne.ABORTED:return $.ABORTED;case Ne.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Ne.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:r})}}(zt=Ne||(Ne={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2=new Zr([4294967295,4294967295],0);function Q0(r){const t=d2().encode(r),n=new cE;return n.update(t),new Uint8Array(n.digest())}function Y0(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new Zr([n,s],0),new Zr([l,u],0)]}class $m{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new xl(`Invalid padding: ${n}`);if(s<0)throw new xl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new xl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=Zr.fromNumber(this.ge)}ye(t,n,s){let l=t.add(n.multiply(Zr.fromNumber(s)));return l.compare(m2)===1&&(l=new Zr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Q0(t),[s,l]=Y0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);if(!this.we(d))return!1}return!0}static create(t,n,s){const l=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),d=new $m(u,l,n);return s.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const n=Q0(t),[s,l]=Y0(n);for(let u=0;u<this.hashCount;u++){const d=this.ye(s,l,u);this.be(d)}}be(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n,s,l,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const l=new Map;return l.set(t,$l.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new xh(Et.min(),l,new ce(Ut),ur(),Lt())}}class $l{constructor(t,n,s,l,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new $l(s,n,Lt(),Lt(),Lt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n,s,l){this.Se=t,this.removedTargetIds=n,this.key=s,this.De=l}}class $E{constructor(t,n){this.targetId=t,this.Ce=n}}class JE{constructor(t,n,s=Je.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=l}}class X0{constructor(){this.ve=0,this.Fe=$0(),this.Me=Je.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Lt(),n=Lt(),s=Lt();return this.Fe.forEach(((l,u)=>{switch(u){case 0:t=t.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:u})}})),new $l(this.Me,this.xe,t,n,s)}Ke(){this.Oe=!1,this.Fe=$0()}qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}Ue(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}$e(){this.ve+=1}We(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class p2{constructor(t){this.Ge=t,this.ze=new Map,this.je=ur(),this.He=Vc(),this.Je=Vc(),this.Ze=new ce(Ut)}Xe(t){for(const n of t.Se)t.De&&t.De.isFoundDocument()?this.Ye(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.We(),s.Ne||s.Ke(),s.Le(t.resumeToken);break;case 2:s.We(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.Qe(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(t){const n=t.targetId,s=t.Ce.count,l=this.ot(n);if(l){const u=l.target;if(gm(u))if(s===0){const d=new dt(u.path);this.et(n,d,en.newNoDocument(d,Et.min()))}else Kt(s===1,20013,{expectedCount:s});else{const d=this._t(n);if(d!==s){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(n);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let d,p;try{d=ss(s).toUint8Array()}catch(_){if(_ instanceof bE)return Xs("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new $m(d,l,u)}catch(_){return Xs(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.mightContain(p)||(this.et(n,u,null),l++)})),l}Tt(t){const n=new Map;this.ze.forEach(((u,d)=>{const p=this.ot(d);if(p){if(u.current&&gm(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,en.newNoDocument(_,t))}u.Be&&(n.set(d,u.ke()),u.Ke())}}));let s=Lt();this.Je.forEach(((u,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,d)=>d.setReadTime(t)));const l=new xh(t,n,this.Ze,this.je,s);return this.je=ur(),this.He=Vc(),this.Je=Vc(),this.Ze=new ce(Ut),l}Ye(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).qe(n.key,s),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(t)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,n)?l.qe(n,1):l.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(t)),this.Je=this.Je.insert(n,this.Rt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}$e(t){this.nt(t).$e()}nt(t){let n=this.ze.get(t);return n||(n=new X0,this.ze.set(t,n)),n}Rt(t){let n=this.Je.get(t);return n||(n=new Pe(Ut),this.Je=this.Je.insert(t,n)),n}It(t){let n=this.He.get(t);return n||(n=new Pe(Ut),this.He=this.He.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ot("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new X0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Vc(){return new ce(dt.comparator)}function $0(){return new ce(dt.comparator)}const g2={asc:"ASCENDING",desc:"DESCENDING"},y2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_2={and:"AND",or:"OR"};class v2{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function vm(r,t){return r.useProto3Json||Eh(t)?t:{value:t}}function sh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ZE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function E2(r,t){return sh(r,t.toTimestamp())}function Oi(r){return Kt(!!r,49232),Et.fromTimestamp((function(n){const s=rs(n);return new se(s.seconds,s.nanos)})(r))}function Jm(r,t){return Em(r,t).canonicalString()}function Em(r,t){const n=(function(l){return new ne(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?n:n.child(t)}function WE(r){const t=ne.fromString(r);return Kt(rT(t),10190,{key:t.toString()}),t}function Tm(r,t){return Jm(r.databaseId,t.path)}function Yd(r,t){const n=WE(t);if(n.get(1)!==r.databaseId.projectId)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new rt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new dt(eT(n))}function tT(r,t){return Jm(r.databaseId,t)}function T2(r){const t=WE(r);return t.length===4?ne.emptyPath():eT(t)}function bm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function eT(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function J0(r,t,n){return{name:Tm(r,t),fields:n.value.mapValue.fields}}function b2(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],u=(function(y,b){return y.useProto3Json?(Kt(b===void 0||typeof b=="string",58123),Je.fromBase64String(b||"")):(Kt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Je.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:XE(y.code);return new rt(b,y.message||"")})(d);n=new JE(s,l,u,p||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Yd(r,s.document.name),u=Oi(s.document.updateTime),d=s.document.createTime?Oi(s.document.createTime):Et.min(),p=new zn({mapValue:{fields:s.document.fields}}),_=en.newFoundDocument(l,u,d,p),y=s.targetIds||[],b=s.removedTargetIds||[];n=new Kc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Yd(r,s.document),u=s.readTime?Oi(s.readTime):Et.min(),d=en.newNoDocument(l,u),p=s.removedTargetIds||[];n=new Kc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Yd(r,s.document),u=s.removedTargetIds||[];n=new Kc([],u,l,null)}else{if(!("filter"in t))return gt(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,d=new h2(l,u),p=s.targetId;n=new $E(p,d)}}return n}function A2(r,t){let n;if(t instanceof Xl)n={update:J0(r,t.key,t.value)};else if(t instanceof Ym)n={delete:Tm(r,t.key)};else if(t instanceof na)n={update:J0(r,t.key,t.data),updateMask:O2(t.fieldMask)};else{if(!(t instanceof l2))return gt(16599,{dt:t.type});n={verify:Tm(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,d){const p=d.transform;if(p instanceof ql)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof Hl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof rh)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:E2(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:gt(27497)})(r,t.precondition)),n}function w2(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map((n=>(function(l,u){let d=l.updateTime?Oi(l.updateTime):Oi(u);return d.isEqual(Et.min())&&(d=Oi(u)),new s2(d,l.transformResults||[])})(n,t)))):[]}function S2(r,t){return{documents:[tT(r,t.path)]}}function R2(r,t){const n={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=tT(r,l);const u=(function(y){if(y.length!==0)return iT(ri.create(y,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const d=(function(y){if(y.length!==0)return y.map((b=>(function(N){return{field:Xa(N.field),direction:C2(N.dir)}})(b)))})(t.orderBy);d&&(n.structuredQuery.orderBy=d);const p=vm(r,t.limit);return p!==null&&(n.structuredQuery.limit=p),t.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:n,parent:l}}function x2(r){let t=T2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Kt(s===1,65062);const b=n.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let u=[];n.where&&(u=(function(w){const N=nT(w);return N instanceof ri&&OE(N)?N.getFilters():[N]})(n.where));let d=[];n.orderBy&&(d=(function(w){return w.map((N=>(function(Z){return new Bl($a(Z.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(N)))})(n.orderBy));let p=null;n.limit&&(p=(function(w){let N;return N=typeof w=="object"?w.value:w,Eh(N)?null:N})(n.limit));let _=null;n.startAt&&(_=(function(w){const N=!!w.before,F=w.values||[];return new ih(F,N)})(n.startAt));let y=null;return n.endAt&&(y=(function(w){const N=!w.before,F=w.values||[];return new ih(F,N)})(n.endAt)),HS(t,l,d,u,p,"F",_,y)}function I2(r,t){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function nT(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=$a(n.unaryFilter.field);return De.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(n.unaryFilter.field);return De.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=$a(n.unaryFilter.field);return De.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(n.unaryFilter.field);return De.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(n){return De.create($a(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>nT(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(n.compositeFilter.op))})(r):gt(30097,{filter:r})}function C2(r){return g2[r]}function N2(r){return y2[r]}function D2(r){return _2[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return $e.fromServerFormat(r.fieldPath)}function iT(r){return r instanceof De?(function(n){if(n.op==="=="){if(P0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NAN"}};if(L0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(P0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NAN"}};if(L0(n.value))return{unaryFilter:{field:Xa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(n.field),op:N2(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((l=>iT(l)));return s.length===1?s[0]:{compositeFilter:{op:D2(n.op),filters:s}}})(r):gt(54877,{filter:r})}function O2(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function rT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function sT(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,n,s,l,u=Et.min(),d=Et.min(),p=Je.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.yt=t}}function V2(r){const t=x2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_m(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this.Sn=new U2}addToCollectionParentIndex(t,n){return this.Sn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(is.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(is.min())}updateCollectionGroup(t,n,s){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class U2{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n]||new Pe(ne.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Pe(ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aT=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(aT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(t){this.sr=t}next(){return this.sr+=2,this.sr}static _r(){return new ao(0)}static ar(){return new ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="LruGarbageCollector",L2=1048576;function tv([r,t],[n,s]){const l=Ut(r,n);return l===0?Ut(t,s):l}class P2{constructor(t){this.Pr=t,this.buffer=new Pe(tv),this.Tr=0}Ir(){return++this.Tr}Er(t){const n=[t,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class j2{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(t){ot(W0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fo(n)?ot(W0,"Ignoring IndexedDB error during garbage collection: ",n):await ho(n)}await this.Ar(3e5)}))}}class z2{constructor(t,n){this.Vr=t,this.params=n}calculateTargetCount(t,n){return this.Vr.dr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(vh.ce);const s=new P2(n);return this.Vr.forEachTarget(t,(l=>s.Er(l.sequenceNumber))).next((()=>this.Vr.mr(t,(l=>s.Er(l))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.Vr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.Vr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Z0)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Z0):this.gr(t,n)))}getCacheSize(t){return this.Vr.getCacheSize(t)}gr(t,n){let s,l,u,d,p,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(s=w,p=Date.now(),this.removeTargets(t,s,n)))).next((w=>(u=w,_=Date.now(),this.removeOrphanedDocuments(t,s)))).next((w=>(y=Date.now(),Qa()<=kt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${u} targets in `+(_-p)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:w}))))}}function B2(r,t){return new z2(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.changes=new ea((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,en.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(t,n,s,l){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,n)))).next((l=>(s!==null&&Ml(s.mutation,l,ti.empty(),se.now()),l)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,Lt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=Lt()){const l=Bs();return this.populateOverlays(t,l,n).next((()=>this.computeViews(t,n,l,s).next((u=>{let d=Rl();return u.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,n){const s=Bs();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,Lt())))}populateOverlays(t,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(t,l).next((u=>{u.forEach(((d,p)=>{n.set(d,p)}))}))}computeViews(t,n,s,l){let u=ur();const d=Ol(),p=(function(){return Ol()})();return n.forEach(((_,y)=>{const b=s.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof na)?u=u.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ml(b.mutation,y,b.mutation.getFieldMask(),se.now())):d.set(y.key,ti.empty())})),this.recalculateAndSaveOverlays(t,u).next((_=>(_.forEach(((y,b)=>d.set(y,b))),n.forEach(((y,b)=>p.set(y,new H2(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,n){const s=Ol();let l=new ce(((d,p)=>d-p)),u=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=n.get(_);if(y===null)return;let b=s.get(_)||ti.empty();b=p.applyToLocalView(y,b),s.set(_,b);const w=(l.get(p.batchId)||Lt()).add(_);l=l.insert(p.batchId,w)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,w=BE();b.forEach((N=>{if(!u.has(N)){const F=QE(n.get(N),s.get(N));F!==null&&w.set(N,F),u=u.add(N)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return J.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,l){return FS(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):UE(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,l):this.getDocumentsMatchingCollectionQuery(t,n,s,l)}getNextDocuments(t,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,l).next((u=>{const d=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,l-u.size):J.resolve(Bs());let p=Ll,_=u;return d.next((y=>J.forEach(y,((b,w)=>(p<w.largestBatchId&&(p=w.largestBatchId),u.get(b)?J.resolve():this.remoteDocumentCache.getEntry(t,b).next((N=>{_=_.insert(b,N)}))))).next((()=>this.populateOverlays(t,y,u))).next((()=>this.computeViews(t,_,y,Lt()))).next((b=>({batchId:p,changes:zE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new dt(n)).next((s=>{let l=Rl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,l){const u=n.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,u).next((p=>J.forEach(p,(_=>{const y=(function(w,N){return new mo(N,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,_.child(u));return this.getDocumentsMatchingCollectionQuery(t,y,s,l).next((b=>{b.forEach(((w,N)=>{d=d.insert(w,N)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,l)))).next((d=>{u.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,en.newInvalidDocument(b)))}));let p=Rl();return d.forEach(((_,y)=>{const b=u.get(_);b!==void 0&&Ml(b.mutation,y,ti.empty(),se.now()),wh(n,y)&&(p=p.insert(_,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t){this.serializer=t,this.Nr=new Map,this.Br=new Map}getBundleMetadata(t,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(t,n){return this.Nr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Oi(l.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.Br.get(n))}saveNamedQuery(t,n){return this.Br.set(n.name,(function(l){return{name:l.name,query:V2(l.bundledQuery),readTime:Oi(l.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.overlays=new ce(dt.comparator),this.Lr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const s=Bs();return J.forEach(n,(l=>this.getOverlay(t,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((l,u)=>{this.bt(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,s){const l=this.Lr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.Lr.delete(s)),J.resolve()}getOverlaysForCollection(t,n,s){const l=Bs(),u=n.length+1,d=new dt(n.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&_.largestBatchId>s&&l.set(_.getKey(),_)}return J.resolve(l)}getOverlaysForCollectionGroup(t,n,s,l){let u=new ce(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let b=u.get(y.largestBatchId);b===null&&(b=Bs(),u=u.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=Bs(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=l)););return J.resolve(p)}bt(t,n,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Lr.get(l.largestBatchId).delete(s.key);this.Lr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new c2(n,s));let u=this.Lr.get(n);u===void 0&&(u=Lt(),this.Lr.set(n,u)),this.Lr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(){this.sessionToken=Je.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.kr=new Pe(qe.Kr),this.qr=new Pe(qe.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(t,n){const s=new qe(t,n);this.kr=this.kr.add(s),this.qr=this.qr.add(s)}$r(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Wr(new qe(t,n))}Qr(t,n){t.forEach((s=>this.removeReference(s,n)))}Gr(t){const n=new dt(new ne([])),s=new qe(n,t),l=new qe(n,t+1),u=[];return this.qr.forEachInRange([s,l],(d=>{this.Wr(d),u.push(d.key)})),u}zr(){this.kr.forEach((t=>this.Wr(t)))}Wr(t){this.kr=this.kr.delete(t),this.qr=this.qr.delete(t)}jr(t){const n=new dt(new ne([])),s=new qe(n,t),l=new qe(n,t+1);let u=Lt();return this.qr.forEachInRange([s,l],(d=>{u=u.add(d.key)})),u}containsKey(t){const n=new qe(t,0),s=this.kr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class qe{constructor(t,n){this.key=t,this.Hr=n}static Kr(t,n){return dt.comparator(t.key,n.key)||Ut(t.Hr,n.Hr)}static Ur(t,n){return Ut(t.Hr,n.Hr)||dt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pe(qe.Kr)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,l){const u=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new u2(u,n,s,l);this.mutationQueue.push(d);for(const p of l)this.Jr=this.Jr.add(new qe(p.key,u)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,l=this.Xr(s),u=l<0?0:l;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?qm:this.Yn-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new qe(n,0),l=new qe(n,Number.POSITIVE_INFINITY),u=[];return this.Jr.forEachInRange([s,l],(d=>{const p=this.Zr(d.Hr);u.push(p)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new Pe(Ut);return n.forEach((l=>{const u=new qe(l,0),d=new qe(l,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([u,d],(p=>{s=s.add(p.Hr)}))})),J.resolve(this.Yr(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,l=s.length+1;let u=s;dt.isDocumentKey(u)||(u=u.child(""));const d=new qe(new dt(u),0);let p=new Pe(Ut);return this.Jr.forEachWhile((_=>{const y=_.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Hr)),!0)}),d),J.resolve(this.Yr(p))}Yr(t){const n=[];return t.forEach((s=>{const l=this.Zr(s);l!==null&&n.push(l)})),n}removeMutationBatch(t,n){Kt(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Jr;return J.forEach(n.mutations,(l=>{const u=new qe(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Jr=s}))}nr(t){}containsKey(t,n){const s=new qe(n,0),l=this.Jr.firstAfterOrEqual(s);return J.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ei(t,n){return this.Xr(t)}Xr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Zr(t){const n=this.Xr(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(t){this.ti=t,this.docs=(function(){return new ce(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,d=this.ti(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(t,n){let s=ur();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():en.newInvalidDocument(l))})),J.resolve(s)}getDocumentsMatchingQuery(t,n,s,l){let u=ur();const d=n.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||ES(vS(b),s)<=0||(l.has(b.key)||wh(n,b))&&(u=u.insert(b.key,b.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,s,l){gt(9500)}ni(t,n){return J.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new $2(this)}getSize(t){return J.resolve(this.size)}}class $2 extends q2{constructor(t){super(),this.Mr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Mr.addEntry(t,l)):this.Mr.removeEntry(s)})),J.waitFor(n)}getFromCache(t,n){return this.Mr.getEntry(t,n)}getAllFromCache(t,n){return this.Mr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(t){this.persistence=t,this.ri=new ea((n=>Gm(n)),Km),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.ii=0,this.si=new Zm,this.targetCount=0,this.oi=ao._r()}forEachTarget(t,n){return this.ri.forEach(((s,l)=>n(l))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.ii)}allocateTargetId(t){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.ii&&(this.ii=n),J.resolve()}lr(t){this.ri.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.oi=new ao(n),this.highestTargetId=n),t.sequenceNumber>this.ii&&(this.ii=t.sequenceNumber)}addTargetData(t,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.lr(n),J.resolve()}removeTargetData(t,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,s){let l=0;const u=[];return this.ri.forEach(((d,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.ri.delete(d),u.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),J.waitFor(u).next((()=>l))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const s=this.ri.get(n)||null;return J.resolve(s)}addMatchingKeys(t,n,s){return this.si.$r(n,s),J.resolve()}removeMatchingKeys(t,n,s){this.si.Qr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((d=>{u.push(l.markPotentiallyOrphaned(t,d))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const s=this.si.jr(n);return J.resolve(s)}containsKey(t,n){return J.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t,n){this._i={},this.overlays={},this.ai=new vh(0),this.ui=!1,this.ui=!0,this.ci=new Q2,this.referenceDelegate=t(this),this.li=new J2(this),this.indexManager=new k2,this.remoteDocumentCache=(function(l){return new X2(l)})((s=>this.referenceDelegate.hi(s))),this.serializer=new M2(n),this.Pi=new G2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new K2,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this._i[t.toKey()];return s||(s=new Y2(n,this.referenceDelegate),this._i[t.toKey()]=s),s}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(t,n,s){ot("MemoryPersistence","Starting transaction:",t);const l=new Z2(this.ai.next());return this.referenceDelegate.Ti(),s(l).next((u=>this.referenceDelegate.Ii(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ei(t,n){return J.or(Object.values(this._i).map((s=>()=>s.containsKey(t,n))))}}class Z2 extends bS{constructor(t){super(),this.currentSequenceNumber=t}}class Wm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Ai=null}static Vi(t){return new Wm(t)}get di(){if(this.Ai)return this.Ai;throw gt(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.di.delete(s.toString()),J.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.di.add(s.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.di.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.Gr(n.targetId).forEach((l=>this.di.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((l=>{l.forEach((u=>this.di.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ti(){this.Ai=new Set}Ii(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(s=>{const l=dt.fromPath(s);return this.mi(t,l).next((u=>{u||n.removeEntry(l,Et.min())}))})).next((()=>(this.Ai=null,n.apply(t))))}updateLimboDocument(t,n){return this.mi(t,n).next((s=>{s?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(t){return 0}mi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ei(t,n)])}}class ah{constructor(t,n){this.persistence=t,this.fi=new ea((s=>SS(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=B2(this,n)}static Vi(t,n){return new ah(t,n)}Ti(){}Ii(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}dr(t){const n=this.pr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((l=>s+l))))}pr(t){let n=0;return this.mr(t,(s=>{n++})).next((()=>n))}mr(t,n){return J.forEach(this.fi,((s,l)=>this.wr(t,s,l).next((u=>u?J.resolve():n(l)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ni(t,(d=>this.wr(t,d,n).next((p=>{p||(s++,u.removeEntry(d,Et.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),J.resolve()}removeReference(t,n,s){return this.fi.set(s,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.fi.set(n,t.currentSequenceNumber),J.resolve()}hi(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Hc(t.data.value)),n}wr(t,n,s){return J.or([()=>this.persistence.Ei(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const l=this.fi.get(n);return J.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(t,n,s,l){this.targetId=t,this.fromCache=n,this.Ts=s,this.Is=l}static Es(t,n){let s=Lt(),l=Lt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new tp(t,n.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return zA()?8:AS(nn())>0?6:4})()}initialize(t,n){this.fs=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,l){const u={result:null};return this.gs(t,n).next((d=>{u.result=d})).next((()=>{if(!u.result)return this.ps(t,n,l,s).next((d=>{u.result=d}))})).next((()=>{if(u.result)return;const d=new W2;return this.ys(t,n,d).next((p=>{if(u.result=p,this.As)return this.ws(t,n,d,p.size)}))})).next((()=>u.result))}ws(t,n,s,l){return s.documentReadCount<this.Vs?(Qa()<=kt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Qa()<=kt.DEBUG&&ot("QueryEngine","Query:",Ya(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ds*l?(Qa()<=kt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ni(n))):J.resolve())}gs(t,n){if(q0(n))return J.resolve(null);let s=Ni(n);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=_m(n,null,"F"),s=Ni(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const d=Lt(...u);return this.fs.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,s).next((_=>{const y=this.bs(n,p);return this.Ss(n,y,d,_.readTime)?this.gs(t,_m(n,null,"F")):this.Ds(t,y,n,_)}))))})))))}ps(t,n,s,l){return q0(n)||l.isEqual(Et.min())?J.resolve(null):this.fs.getDocuments(t,s).next((u=>{const d=this.bs(n,u);return this.Ss(n,d,s,l)?J.resolve(null):(Qa()<=kt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(n)),this.Ds(t,d,n,_S(l,Ll)).next((p=>p)))}))}bs(t,n){let s=new Pe(PE(t));return n.forEach(((l,u)=>{wh(t,u)&&(s=s.add(u))})),s}Ss(t,n,s,l){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}ys(t,n,s){return Qa()<=kt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.fs.getDocumentsMatchingQuery(t,n,is.min(),s)}Ds(t,n,s,l){return this.fs.getDocumentsMatchingQuery(t,s,l).next((u=>(n.forEach((d=>{u=u.insert(d.key,d)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="LocalStore",eR=3e8;class nR{constructor(t,n,s,l){this.persistence=t,this.Cs=n,this.serializer=l,this.vs=new ce(Ut),this.Fs=new ea((u=>Gm(u)),Km),this.Ms=new Map,this.xs=t.getRemoteDocumentCache(),this.li=t.getTargetCache(),this.Pi=t.getBundleCache(),this.Os(s)}Os(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new F2(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.vs)))}}function iR(r,t,n,s){return new nR(r,t,n,s)}async function lT(r,t){const n=bt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Os(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const d=[],p=[];let _=Lt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of u){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return n.localDocuments.getDocuments(s,_).next((y=>({Ns:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function rR(r,t){const n=bt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),u=n.xs.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const w=y.batch,N=w.keys();let F=J.resolve();return N.forEach((Z=>{F=F.next((()=>b.getEntry(_,Z))).next((tt=>{const H=y.docVersions.get(Z);Kt(H!==null,48541),tt.version.compareTo(H)<0&&(w.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),b.addEntry(tt)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,w)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let _=Lt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function uT(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.li.getLastRemoteSnapshotVersion(n)))}function sR(r,t){const n=bt(r),s=t.snapshotVersion;let l=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const d=n.xs.newChangeBuffer({trackRemovals:!0});l=n.vs;const p=[];t.targetChanges.forEach(((b,w)=>{const N=l.get(w);if(!N)return;p.push(n.li.removeMatchingKeys(u,b.removedDocuments,w).next((()=>n.li.addMatchingKeys(u,b.addedDocuments,w))));let F=N.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(w)!==null?F=F.withResumeToken(Je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,s)),l=l.insert(w,F),(function(tt,H,W){return tt.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=eR?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(N,F,b)&&p.push(n.li.updateTargetData(u,F))}));let _=ur(),y=Lt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,b))})),p.push(aR(u,d,t.documentUpdates).next((b=>{_=b.Bs,y=b.Ls}))),!s.isEqual(Et.min())){const b=n.li.getLastRemoteSnapshotVersion(u).next((w=>n.li.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(b)}return J.waitFor(p).next((()=>d.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,_,y))).next((()=>_))})).then((u=>(n.vs=l,u)))}function aR(r,t,n){let s=Lt(),l=Lt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let d=ur();return n.forEach(((p,_)=>{const y=u.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):ot(ep,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{Bs:d,Ls:l}}))}function oR(r,t){const n=bt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=qm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function lR(r,t){const n=bt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.li.getTargetData(s,t).next((u=>u?(l=u,J.resolve(l)):n.li.allocateTargetId(s).next((d=>(l=new Xr(t,d,"TargetPurposeListen",s.currentSequenceNumber),n.li.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.vs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.vs=n.vs.insert(s.targetId,s),n.Fs.set(t,s.targetId)),s}))}async function Am(r,t,n){const s=bt(r),l=s.vs.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;ot(ep,`Failed to update sequence numbers for target ${t}: ${d}`)}s.vs=s.vs.remove(t),s.Fs.delete(l.target)}function ev(r,t,n){const s=bt(r);let l=Et.min(),u=Lt();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const w=bt(_),N=w.Fs.get(b);return N!==void 0?J.resolve(w.vs.get(N)):w.li.getTargetData(y,b)})(s,d,Ni(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,s.li.getMatchingKeysForTargetId(d,p.targetId).next((_=>{u=_}))})).next((()=>s.Cs.getDocumentsMatchingQuery(d,t,n?l:Et.min(),n?u:Lt()))).next((p=>(uR(s,QS(t),p),{documents:p,ks:u})))))}function uR(r,t,n){let s=r.Ms.get(t)||Et.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Ms.set(t,s)}class nv{constructor(){this.activeTargetIds=WS()}Qs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Ws(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class cR{constructor(){this.vo=new nv,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.vo.Qs(t),this.Fo[t]||"not-current"}updateQueryState(t,n,s){this.Fo[t]=n}removeLocalQueryTarget(t){this.vo.Gs(t)}isLocalQueryTarget(t){return this.vo.activeTargetIds.has(t)}clearQueryState(t){delete this.Fo[t]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(t){return this.vo.activeTargetIds.has(t)}start(){return this.vo=new nv,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{Mo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="ConnectivityMonitor";class rv{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(t){this.Lo.push(t)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ot(iv,"Network connectivity changed: AVAILABLE");for(const t of this.Lo)t(0)}Bo(){ot(iv,"Network connectivity changed: UNAVAILABLE");for(const t of this.Lo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function wm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="RestConnection",fR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class dR{get Ko(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+t.host,this.Uo=`projects/${s}/databases/${l}`,this.$o=this.databaseId.database===eh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Wo(t,n,s,l,u){const d=wm(),p=this.Qo(t,n.toUriEncodedString());ot(Xd,`Sending RPC '${t}' ${d}:`,p,s);const _={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(_,l,u);const{host:y}=new URL(p),b=us(y);return this.zo(t,p,_,s,b).then((w=>(ot(Xd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw Xs(Xd,`RPC '${t}' ${d} failed with error: `,w,"url: ",p,"request:",s),w}))}jo(t,n,s,l,u,d){return this.Wo(t,n,s,l,u)}Go(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>t[u]=l)),s&&s.headers.forEach(((l,u)=>t[u]=l))}Qo(t,n){const s=fR[t];let l=`${this.qo}/v1/${n}:${s}`;return this.databaseInfo.apiKey&&(l=`${l}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),l}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(t){this.Ho=t.Ho,this.Jo=t.Jo}Zo(t){this.Xo=t}Yo(t){this.e_=t}t_(t){this.n_=t}onMessage(t){this.r_=t}close(){this.Jo()}send(t){this.Ho(t)}i_(){this.Xo()}s_(){this.e_()}o_(t){this.n_(t)}__(t){this.r_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection",Al=(r,t,n)=>{r.listen(t,(s=>{try{n(s)}catch(l){setTimeout((()=>{throw l}),0)}}))};class Ja extends dR{constructor(t){super(t),this.a_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}static u_(){if(!Ja.c_){const t=mE();Al(t,dE.STAT_EVENT,(n=>{n.stat===hm.PROXY?ot(We,"STAT_EVENT: detected buffering proxy"):n.stat===hm.NOPROXY&&ot(We,"STAT_EVENT: detected no buffering proxy")})),Ja.c_=!0}}zo(t,n,s,l,u){const d=wm();return new Promise(((p,_)=>{const y=new hE;y.setWithCredentials(!0),y.listenOnce(fE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case qc.NO_ERROR:const w=y.getResponseJson();ot(We,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),p(w);break;case qc.TIMEOUT:ot(We,`RPC '${t}' ${d} timed out`),_(new rt($.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const N=y.getStatus();if(ot(We,`RPC '${t}' ${d} failed with status:`,N,"response text:",y.getResponseText()),N>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F==null?void 0:F.error;if(Z&&Z.status&&Z.message){const tt=(function(W){const lt=W.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(lt)>=0?lt:$.UNKNOWN})(Z.status);_(new rt(tt,Z.message))}else _(new rt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new rt($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ot(We,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);ot(We,`RPC '${t}' ${d} sending request:`,l),y.send(n,"POST",b,s,15)}))}T_(t,n,s){const l=wm(),u=[this.qo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=this.createWebChannelTransport(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Go(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const y=u.join("");ot(We,`Creating RPC '${t}' stream ${l}: ${y}`,p);const b=d.createWebChannel(y,p);this.I_(b);let w=!1,N=!1;const F=new mR({Ho:Z=>{N?ot(We,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(w||(ot(We,`Opening RPC '${t}' stream ${l} transport.`),b.open(),w=!0),ot(We,`RPC '${t}' stream ${l} sending:`,Z),b.send(Z))},Jo:()=>b.close()});return Al(b,Sl.EventType.OPEN,(()=>{N||(ot(We,`RPC '${t}' stream ${l} transport opened.`),F.i_())})),Al(b,Sl.EventType.CLOSE,(()=>{N||(N=!0,ot(We,`RPC '${t}' stream ${l} transport closed`),F.o_(),this.E_(b))})),Al(b,Sl.EventType.ERROR,(Z=>{N||(N=!0,Xs(We,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),F.o_(new rt($.UNAVAILABLE,"The operation could not be completed")))})),Al(b,Sl.EventType.MESSAGE,(Z=>{var tt;if(!N){const H=Z.data[0];Kt(!!H,16349);const W=H,lt=(W==null?void 0:W.error)||((tt=W[0])==null?void 0:tt.error);if(lt){ot(We,`RPC '${t}' stream ${l} received error:`,lt);const st=lt.status;let yt=(function(I){const S=Ne[I];if(S!==void 0)return XE(S)})(st),jt=lt.message;st==="NOT_FOUND"&&jt.includes("database")&&jt.includes("does not exist")&&jt.includes(this.databaseId.database)&&Xs(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),yt===void 0&&(yt=$.INTERNAL,jt="Unknown error status: "+st+" with message "+lt.message),N=!0,F.o_(new rt(yt,jt)),b.close()}else ot(We,`RPC '${t}' stream ${l} received:`,H),F.__(H)}})),Ja.u_(),setTimeout((()=>{F.s_()}),0),F}terminate(){this.a_.forEach((t=>t.close())),this.a_=[]}I_(t){this.a_.push(t)}E_(t){this.a_=this.a_.filter((n=>n===t))}Go(t,n,s){super.Go(t,n,s),this.databaseInfo.apiKey&&(t["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return pE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(r){return new Ja(r)}function $d(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(r){return new v2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ja.c_=!1;class cT{constructor(t,n,s=1e3,l=1.5,u=6e4){this.Ci=t,this.timerId=n,this.R_=s,this.A_=l,this.V_=u,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(t){this.cancel();const n=Math.floor(this.d_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&ot("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv="PersistentStream";class hT{constructor(t,n,s,l,u,d,p,_){this.Ci=t,this.b_=s,this.S_=l,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new cT(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(t){this.q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===$.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.t_(n)}W_(){}auth(){this.state=1;const t=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{t((()=>{const l=new rt($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,n){const s=this.Q_(this.D_);this.stream=this.j_(t,n),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.Yo((()=>{s((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.H_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot(sv,`close with error: ${t}`),this.stream=null,this.close(4,t)}Q_(t){return n=>{this.Ci.enqueueAndForget((()=>this.D_===t?n():(ot(sv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class gR extends hT{constructor(t,n,s,l,u,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}H_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=b2(this.serializer,t),s=(function(u){if(!("targetChange"in u))return Et.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Oi(d.readTime):Et.min()})(t);return this.listener.J_(n,s)}Z_(t){const n={};n.database=bm(this.serializer),n.addTarget=(function(u,d){let p;const _=d.target;if(p=gm(_)?{documents:S2(u,_)}:{query:R2(u,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=ZE(u,d.resumeToken);const y=vm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=sh(u,d.snapshotVersion.toTimestamp());const y=vm(u,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const s=I2(this.serializer,t);s&&(n.labels=s),this.K_(n)}X_(t){const n={};n.database=bm(this.serializer),n.removeTarget=t,this.K_(n)}}class yR extends hT{constructor(t,n,s,l,u,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,d),this.serializer=u}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}H_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=w2(t.writeResults,t.commitTime),s=Oi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=bm(this.serializer),this.K_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>A2(this.serializer,s)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{}class vR extends _R{constructor(t,n,s,l){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(t,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Wo(t,Em(n,s),l,u,d))).catch((u=>{throw u.name==="FirebaseError"?(u.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new rt($.UNKNOWN,u.toString())}))}jo(t,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.jo(t,Em(n,s),l,d,p,u))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new rt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ER(r,t,n,s){return new vR(r,t,n,s)}class TR{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(lr(n),this.aa=!1):ot("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="RemoteStore";class bR{constructor(t,n,s,l,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=u,this.Aa.Mo((d=>{s.enqueueAndForget((async()=>{ia(this)&&(ot($s,"Restarting streams for network reachability change."),await(async function(_){const y=bt(_);y.Ea.add(4),await Jl(y),y.Va.set("Unknown"),y.Ea.delete(4),await Ch(y)})(this))}))})),this.Va=new TR(s,l)}}async function Ch(r){if(ia(r))for(const t of r.Ra)await t(!0)}async function Jl(r){for(const t of r.Ra)await t(!1)}function fT(r,t){const n=bt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),sp(n)?rp(n):po(n).O_()&&ip(n,t))}function np(r,t){const n=bt(r),s=po(n);n.Ia.delete(t),s.O_()&&dT(n,t),n.Ia.size===0&&(s.O_()?s.L_():ia(n)&&n.Va.set("Unknown"))}function ip(r,t){if(r.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}po(r).Z_(t)}function dT(r,t){r.da.$e(t),po(r).X_(t)}function rp(r){r.da=new p2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Va.ua()}function sp(r){return ia(r)&&!po(r).x_()&&r.Ia.size>0}function ia(r){return bt(r).Ea.size===0}function mT(r){r.da=void 0}async function AR(r){r.Va.set("Online")}async function wR(r){r.Ia.forEach(((t,n)=>{ip(r,t)}))}async function SR(r,t){mT(r),sp(r)?(r.Va.ha(t),rp(r)):r.Va.set("Unknown")}async function RR(r,t,n){if(r.Va.set("Online"),t instanceof JE&&t.state===2&&t.cause)try{await(async function(l,u){const d=u.cause;for(const p of u.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.da.removeTarget(p))})(r,t)}catch(s){ot($s,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await oh(r,s)}else if(t instanceof Kc?r.da.Xe(t):t instanceof $E?r.da.st(t):r.da.tt(t),!n.isEqual(Et.min()))try{const s=await uT(r.localStore);n.compareTo(s)>=0&&await(function(u,d){const p=u.da.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=u.Ia.get(y);b&&u.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=u.Ia.get(_);if(!b)return;u.Ia.set(_,b.withResumeToken(Je.EMPTY_BYTE_STRING,b.snapshotVersion)),dT(u,_);const w=new Xr(b.target,_,y,b.sequenceNumber);ip(u,w)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){ot($s,"Failed to raise snapshot:",s),await oh(r,s)}}async function oh(r,t,n){if(!fo(t))throw t;r.Ea.add(1),await Jl(r),r.Va.set("Offline"),n||(n=()=>uT(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot($s,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await Ch(r)}))}function pT(r,t){return t().catch((n=>oh(r,n,t)))}async function Nh(r){const t=bt(r),n=os(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qm;for(;xR(t);)try{const l=await oR(t.localStore,s);if(l===null){t.Ta.length===0&&n.L_();break}s=l.batchId,IR(t,l)}catch(l){await oh(t,l)}gT(t)&&yT(t)}function xR(r){return ia(r)&&r.Ta.length<10}function IR(r,t){r.Ta.push(t);const n=os(r);n.O_()&&n.Y_&&n.ea(t.mutations)}function gT(r){return ia(r)&&!os(r).x_()&&r.Ta.length>0}function yT(r){os(r).start()}async function CR(r){os(r).ra()}async function NR(r){const t=os(r);for(const n of r.Ta)t.ea(n.mutations)}async function DR(r,t,n){const s=r.Ta.shift(),l=Xm.from(s,t,n);await pT(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Nh(r)}async function OR(r,t){t&&os(r).Y_&&await(async function(s,l){if((function(d){return f2(d)&&d!==$.ABORTED})(l.code)){const u=s.Ta.shift();os(s).B_(),await pT(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await Nh(s)}})(r,t),gT(r)&&yT(r)}async function av(r,t){const n=bt(r);n.asyncQueue.verifyOperationInProgress(),ot($s,"RemoteStore received new credentials");const s=ia(n);n.Ea.add(3),await Jl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ch(n)}async function MR(r,t){const n=bt(r);t?(n.Ea.delete(2),await Ch(n)):t||(n.Ea.add(2),await Jl(n),n.Va.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(n,s,l){const u=bt(n);return u.sa(),new gR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:AR.bind(null,r),Yo:wR.bind(null,r),t_:SR.bind(null,r),J_:RR.bind(null,r)}),r.Ra.push((async t=>{t?(r.ma.B_(),sp(r)?rp(r):r.Va.set("Unknown")):(await r.ma.stop(),mT(r))}))),r.ma}function os(r){return r.fa||(r.fa=(function(n,s,l){const u=bt(n);return u.sa(),new yR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:CR.bind(null,r),t_:OR.bind(null,r),ta:NR.bind(null,r),na:DR.bind(null,r)}),r.Ra.push((async t=>{t?(r.fa.B_(),await Nh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot($s,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(t,n,s,l,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,l,u){const d=Date.now()+s,p=new ap(t,n,d,l,u);return p.start(s),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new rt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,t){if(lr("AsyncQueue",`${t}: ${r}`),fo(r))return new rt($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{static emptySet(t){return new Za(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||dt.comparator(n.key,s.key):(n,s)=>dt.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof Za)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new Za;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.ga=new ce(dt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):gt(63341,{Vt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class oo{constructor(t,n,s,l,u,d,p,_,y){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,n,s,l,u){const d=[];return n.forEach((p=>{d.push({type:0,doc:p})})),new oo(t,n,Za.emptySet(n),d,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((t=>t.Da()))}}class kR{constructor(){this.queries=lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=bt(n),u=l.queries;l.queries=lv(),u.forEach(((d,p)=>{for(const _ of p.ba)_.onError(s)}))})(this,new rt($.ABORTED,"Firestore shutting down"))}}function lv(){return new ea((r=>LE(r)),Ah)}async function _T(r,t){const n=bt(r);let s=3;const l=t.query;let u=n.queries.get(l);u?!u.Sa()&&t.Da()&&(s=2):(u=new VR,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(d){const p=op(d,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(p)}n.queries.set(l,u),u.ba.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&lp(n)}async function vT(r,t){const n=bt(r),s=t.query;let l=3;const u=n.queries.get(s);if(u){const d=u.ba.indexOf(t);d>=0&&(u.ba.splice(d,1),u.ba.length===0?l=t.Da()?0:1:!u.Sa()&&t.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function UR(r,t){const n=bt(r);let s=!1;for(const l of t){const u=l.query,d=n.queries.get(u);if(d){for(const p of d.ba)p.Fa(l)&&(s=!0);d.wa=l}}s&&lp(n)}function LR(r,t,n){const s=bt(r),l=s.queries.get(t);if(l)for(const u of l.ba)u.onError(n);s.queries.delete(t)}function lp(r){r.Ca.forEach((t=>{t.next()}))}var Sm,uv;(uv=Sm||(Sm={})).Ma="default",uv.Cache="cache";class ET{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new oo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.Ka||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t){this.key=t}}class bT{constructor(t){this.key=t}}class PR{constructor(t,n){this.query=t,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Lt(),this.mutatedKeys=Lt(),this.eu=PE(t),this.tu=new Za(this.eu)}get nu(){return this.Za}ru(t,n){const s=n?n.iu:new ov,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,w)=>{const N=l.get(b),F=wh(this.query,w)?w:null,Z=!!N&&this.mutatedKeys.has(N.key),tt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let H=!1;N&&F?N.data.isEqual(F.data)?Z!==tt&&(s.track({type:3,doc:F}),H=!0):this.su(N,F)||(s.track({type:2,doc:F}),H=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!N&&F?(s.track({type:0,doc:F}),H=!0):N&&!F&&(s.track({type:1,doc:N}),H=!0,(_||y)&&(p=!0)),H&&(F?(d=d.add(F),u=tt?u.add(b):u.delete(b)):(d=d.delete(b),u=u.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),u=u.delete(b.key),s.track({type:1,doc:b})}return{tu:d,iu:s,Ss:p,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,l){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(F,Z){const tt=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Vt:H})}};return tt(F)-tt(Z)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(s),l=l??!1;const p=n&&!l?this._u():[],_=this.Ya.size===0&&this.current&&!l?1:0,y=_!==this.Xa;return this.Xa=_,d.length!==0||y?{snapshot:new oo(this.query,t.tu,u,d,t.mutatedKeys,_===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ov,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(t){return!this.Za.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Ya;this.Ya=Lt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Ya=this.Ya.add(s.key))}));const n=[];return t.forEach((s=>{this.Ya.has(s)||n.push(new bT(s))})),this.Ya.forEach((s=>{t.has(s)||n.push(new TT(s))})),n}cu(t){this.Za=t.ks,this.Ya=Lt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const up="SyncEngine";class jR{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class zR{constructor(t){this.key=t,this.hu=!1}}class BR{constructor(t,n,s,l,u,d){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ea((p=>LE(p)),Ah),this.Iu=new Map,this.Eu=new Set,this.Ru=new ce(dt.comparator),this.Au=new Map,this.Vu=new Zm,this.du={},this.mu=new Map,this.fu=ao.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qR(r,t,n=!0){const s=IT(r);let l;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await AT(s,t,n,!0),l}async function HR(r,t){const n=IT(r);await AT(n,t,!0,!1)}async function AT(r,t,n,s){const l=await lR(r.localStore,Ni(t)),u=l.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await FR(r,t,u,d==="current",l.resumeToken)),r.isPrimaryClient&&n&&fT(r.remoteStore,l),p}async function FR(r,t,n,s,l){r.pu=(w,N,F)=>(async function(tt,H,W,lt){let st=H.view.ru(W);st.Ss&&(st=await ev(tt.localStore,H.query,!1).then((({documents:I})=>H.view.ru(I,st))));const yt=lt&&lt.targetChanges.get(H.targetId),jt=lt&&lt.targetMismatches.get(H.targetId)!=null,It=H.view.applyChanges(st,tt.isPrimaryClient,yt,jt);return hv(tt,H.targetId,It.au),It.snapshot})(r,w,N,F);const u=await ev(r.localStore,t,!0),d=new PR(t,u.ks),p=d.ru(u.documents),_=$l.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);hv(r,n,y.au);const b=new jR(t,n,d);return r.Tu.set(t,b),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),y.snapshot}async function GR(r,t,n){const s=bt(r),l=s.Tu.get(t),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((d=>!Ah(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Am(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&np(s.remoteStore,l.targetId),Rm(s,l.targetId)})).catch(ho)):(Rm(s,l.targetId),await Am(s.localStore,l.targetId,!0))}async function KR(r,t){const n=bt(r),s=n.Tu.get(t),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),np(n.remoteStore,s.targetId))}async function QR(r,t,n){const s=tx(r);try{const l=await(function(d,p){const _=bt(d),y=se.now(),b=p.reduce(((F,Z)=>F.add(Z.key)),Lt());let w,N;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=ur(),tt=Lt();return _.xs.getEntries(F,b).next((H=>{Z=H,Z.forEach(((W,lt)=>{lt.isValidDocument()||(tt=tt.add(W))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,Z))).next((H=>{w=H;const W=[];for(const lt of p){const st=o2(lt,w.get(lt.key).overlayedDocument);st!=null&&W.push(new na(lt.key,st,CE(st.value.mapValue),Di.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,W,p)})).next((H=>{N=H;const W=H.applyToLocalDocumentSet(w,tt);return _.documentOverlayCache.saveOverlays(F,H.batchId,W)}))})).then((()=>({batchId:N.batchId,changes:zE(w)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.du[d.currentUser.toKey()];y||(y=new ce(Ut)),y=y.insert(p,_),d.du[d.currentUser.toKey()]=y})(s,l.batchId,n),await Zl(s,l.changes),await Nh(s.remoteStore)}catch(l){const u=op(l,"Failed to persist write");n.reject(u)}}async function wT(r,t){const n=bt(r);try{const s=await sR(n.localStore,t);t.targetChanges.forEach(((l,u)=>{const d=n.Au.get(u);d&&(Kt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Kt(d.hu,14607):l.removedDocuments.size>0&&(Kt(d.hu,42227),d.hu=!1))})),await Zl(n,s,t)}catch(s){await ho(s)}}function cv(r,t,n){const s=bt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=bt(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,w)=>{for(const N of w.ba)N.va(p)&&(y=!0)})),y&&lp(_)})(s.eventManager,t),l.length&&s.Pu.J_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function YR(r,t,n){const s=bt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const l=s.Au.get(t),u=l&&l.key;if(u){let d=new ce(dt.comparator);d=d.insert(u,en.newNoDocument(u,Et.min()));const p=Lt().add(u),_=new xh(Et.min(),new Map,new ce(Ut),d,p);await wT(s,_),s.Ru=s.Ru.remove(u),s.Au.delete(t),cp(s)}else await Am(s.localStore,t,!1).then((()=>Rm(s,t,n))).catch(ho)}async function XR(r,t){const n=bt(r),s=t.batch.batchId;try{const l=await rR(n.localStore,t);RT(n,s,null),ST(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Zl(n,l)}catch(l){await ho(l)}}async function $R(r,t,n){const s=bt(r);try{const l=await(function(d,p){const _=bt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((w=>(Kt(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(s.localStore,t);RT(s,t,n),ST(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Zl(s,l)}catch(l){await ho(l)}}function ST(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function RT(r,t,n){const s=bt(r);let l=s.du[s.currentUser.toKey()];if(l){const u=l.get(t);u&&(n?u.reject(n):u.resolve(),l=l.remove(t)),s.du[s.currentUser.toKey()]=l}}function Rm(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Vu.Gr(t).forEach((s=>{r.Vu.containsKey(s)||xT(r,s)}))}function xT(r,t){r.Eu.delete(t.path.canonicalString());const n=r.Ru.get(t);n!==null&&(np(r.remoteStore,n),r.Ru=r.Ru.remove(t),r.Au.delete(n),cp(r))}function hv(r,t,n){for(const s of n)s instanceof TT?(r.Vu.addReference(s.key,t),JR(r,s)):s instanceof bT?(ot(up,"Document no longer in limbo: "+s.key),r.Vu.removeReference(s.key,t),r.Vu.containsKey(s.key)||xT(r,s.key)):gt(19791,{wu:s})}function JR(r,t){const n=t.key,s=n.path.canonicalString();r.Ru.get(n)||r.Eu.has(s)||(ot(up,"New document in limbo: "+n),r.Eu.add(s),cp(r))}function cp(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new dt(ne.fromString(t)),s=r.fu.next();r.Au.set(s,new zR(n)),r.Ru=r.Ru.insert(n,s),fT(r.remoteStore,new Xr(Ni(bh(n.path)),s,"TargetPurposeLimboResolution",vh.ce))}}async function Zl(r,t,n){const s=bt(r),l=[],u=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,_)=>{d.push(s.pu(_,t,n).then((y=>{var b;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(b=n==null?void 0:n.targetChanges.get(_.targetId))==null?void 0:b.current;s.sharedClientState.updateQueryState(_.targetId,w?"current":"not-current")}if(y){l.push(y);const w=tp.Es(_.targetId,y);u.push(w)}})))})),await Promise.all(d),s.Pu.J_(l),await(async function(_,y){const b=bt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(y,(N=>J.forEach(N.Ts,(F=>b.persistence.referenceDelegate.addReference(w,N.targetId,F))).next((()=>J.forEach(N.Is,(F=>b.persistence.referenceDelegate.removeReference(w,N.targetId,F)))))))))}catch(w){if(!fo(w))throw w;ot(ep,"Failed to update sequence numbers: "+w)}for(const w of y){const N=w.targetId;if(!w.fromCache){const F=b.vs.get(N),Z=F.snapshotVersion,tt=F.withLastLimboFreeSnapshotVersion(Z);b.vs=b.vs.insert(N,tt)}}})(s.localStore,u))}async function ZR(r,t){const n=bt(r);if(!n.currentUser.isEqual(t)){ot(up,"User change. New user:",t.toKey());const s=await lT(n.localStore,t);n.currentUser=t,(function(u,d){u.mu.forEach((p=>{p.forEach((_=>{_.reject(new rt($.CANCELLED,d))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Zl(n,s.Ns)}}function WR(r,t){const n=bt(r),s=n.Au.get(t);if(s&&s.hu)return Lt().add(s.key);{let l=Lt();const u=n.Iu.get(t);if(!u)return l;for(const d of u){const p=n.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function IT(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=wT.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YR.bind(null,t),t.Pu.J_=UR.bind(null,t.eventManager),t.Pu.yu=LR.bind(null,t.eventManager),t}function tx(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$R.bind(null,t),t}class lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return iR(this.persistence,new tR,t.initialUser,this.serializer)}Cu(t){return new oT(Wm.Vi,this.serializer)}Du(t){return new cR}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}lh.provider={build:()=>new lh};class ex extends lh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof ah,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new j2(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new oT((s=>ah.Vi(s,n)),this.serializer)}}class xm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZR.bind(null,this.syncEngine),await MR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new kR})()}createDatastore(t){const n=Ih(t.databaseInfo.databaseId),s=pR(t.databaseInfo);return ER(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,l,u,d,p){return new bR(s,l,u,d,p)})(this.localStore,this.datastore,t.asyncQueue,(n=>cv(this.syncEngine,n,0)),(function(){return rv.v()?new rv:new hR})())}createSyncEngine(t,n){return(function(l,u,d,p,_,y,b){const w=new BR(l,u,d,p,_,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(l){const u=bt(l);ot($s,"RemoteStore shutting down."),u.Ea.add(5),await Jl(u),u.Aa.shutdown(),u.Va.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="FirestoreClient";class nx{constructor(t,n,s,l,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this._databaseInfo=l,this.user=tn.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async d=>{ot(ls,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(ot(ls,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=op(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Jd(r,t){r.asyncQueue.verifyOperationInProgress(),ot(ls,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await lT(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function fv(r,t){r.asyncQueue.verifyOperationInProgress();const n=await ix(r);ot(ls,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>av(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>av(t.remoteStore,l))),r._onlineComponents=t}async function ix(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(ls,"Using user provided OfflineComponentProvider");try{await Jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;Xs("Error using user provided cache. Falling back to memory cache: "+n),await Jd(r,new lh)}}else ot(ls,"Using default OfflineComponentProvider"),await Jd(r,new ex(void 0));return r._offlineComponents}async function NT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(ls,"Using user provided OnlineComponentProvider"),await fv(r,r._uninitializedComponentsProvider._online)):(ot(ls,"Using default OnlineComponentProvider"),await fv(r,new xm))),r._onlineComponents}function rx(r){return NT(r).then((t=>t.syncEngine))}async function Im(r){const t=await NT(r),n=t.eventManager;return n.onListen=qR.bind(null,t.syncEngine),n.onUnlisten=GR.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=HR.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=KR.bind(null,t.syncEngine),n}function sx(r,t,n,s){const l=new CT(s),u=new ET(t,l,n);return r.asyncQueue.enqueueAndForget((async()=>_T(await Im(r),u))),()=>{l.Nu(),r.asyncQueue.enqueueAndForget((async()=>vT(await Im(r),u)))}}function ax(r,t,n={}){const s=new Wr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,d,p,_,y){const b=new CT({next:N=>{b.Nu(),d.enqueueAndForget((()=>vT(u,w)));const F=N.docs.has(p);!F&&N.fromCache?y.reject(new rt($.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&N.fromCache&&_&&_.source==="server"?y.reject(new rt($.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),w=new ET(bh(p.path),b,{includeMetadataChanges:!0,Ka:!0});return _T(u,w)})(await Im(r),r.asyncQueue,t,n,s))),s.promise}function ox(r,t){const n=new Wr;return r.asyncQueue.enqueueAndForget((async()=>QR(await rx(r),t,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="ComponentProvider",dv=new Map;function ux(r,t,n,s,l){return new IS(r,t,n,l.host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,DT(l.experimentalLongPollingOptions),l.useFetchStreams,l.isUsingEmulator,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="firestore.googleapis.com",mv=!0;class pv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new rt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OT,this.ssl=mv}else this.host=t.host,this.ssl=t.ssl??mv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=aT;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<L2)throw new rt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DT(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new rt($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,n,s,l){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new rt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new rt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new oS;switch(s.type){case"firstParty":return new hS(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new rt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=dv.get(n);s&&(ot(lx,"Removing Datastore"),dv.delete(n),s.terminate())})(this),Promise.resolve()}}function cx(r,t,n,s={}){var y;r=ts(r,Dh);const l=us(t),u=r._getSettings(),d={...u,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${n}`;l&&(km(`https://${p}`),Um("Firestore",!0)),u.host!==OT&&u.host!==p&&Xs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...u,host:p,ssl:l,emulatorOptions:s};if(!Ks(_,d)&&(r._setSettings(_),s.mockUserToken)){let b,w;if(typeof s.mockUserToken=="string")b=s.mockUserToken,w=tn.MOCK_USER;else{b=rE(s.mockUserToken,(y=r._app)==null?void 0:y.options.projectId);const N=s.mockUserToken.sub||s.mockUserToken.user_id;if(!N)throw new rt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new tn(N)}r._authCredentials=new lS(new yE(b,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ra(this.firestore,t,this._query)}}class Me{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new es(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(Yl(n,Me._jsonSchema))return new Me(t,s||null,new dt(ne.fromString(n.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Oe("string",Me._jsonSchemaVersion),referencePath:Oe("string")};class es extends ra{constructor(t,n,s){super(t,n,bh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new dt(t))}withConverter(t){return new es(this.firestore,t,this._path)}}function gv(r,t,...n){if(r=Ve(r),_E("collection","path",t),r instanceof Dh){const s=ne.fromString(t,...n);return I0(s),new es(r,null,s)}{if(!(r instanceof Me||r instanceof es))throw new rt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return I0(s),new es(r.firestore,null,s)}}function Cm(r,t,...n){if(r=Ve(r),arguments.length===1&&(t=Bm.newId()),_E("doc","path",t),r instanceof Dh){const s=ne.fromString(t,...n);return x0(s),new Me(r,null,new dt(s))}{if(!(r instanceof Me||r instanceof es))throw new rt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ne.fromString(t,...n));return x0(s),new Me(r.firestore,r instanceof es?r.converter:null,new dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="AsyncQueue";class _v{constructor(t=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new cT(this,"async_queue_retry"),this._c=()=>{const s=$d();s&&ot(yv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=$d();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=$d();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Wr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Yu.push(t),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;ot(yv,"Operation failed with retryable error: "+t)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,lr("INTERNAL UNHANDLED ERROR: ",vv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const l=ap.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:vv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}Rc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function vv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class lo extends Dh{constructor(t,n,s,l){super(t,n,s,l),this.type="firestore",this._queue=new _v,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new _v(t),this._firestoreClient=void 0,await t}}}function hx(r,t){const n=typeof r=="object"?r:jm(),s=typeof r=="string"?r:eh,l=yh(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=eE("firestore");u&&cx(l,...u)}return l}function hp(r){if(r._terminated)throw new rt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||fx(r),r._firestoreClient}function fx(r){var s,l,u,d;const t=r._freezeSettings(),n=ux(r._databaseId,((s=r._app)==null?void 0:s.options.appId)||"",r._persistenceKey,(l=r._app)==null?void 0:l.options.apiKey,t);r._componentsProvider||(u=t.localCache)!=null&&u._offlineComponentProvider&&((d=t.localCache)!=null&&d._onlineComponentProvider)&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new nx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(_){const y=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Bn(Je.fromBase64String(t))}catch(n){throw new rt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Bn(Je.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Yl(t,Bn._jsonSchema))return Bn.fromBase64String(t.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:Oe("string",Bn._jsonSchemaVersion),bytes:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new rt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new rt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new rt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ut(this._lat,t._lat)||Ut(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Mi._jsonSchemaVersion}}static fromJSON(t){if(Yl(t,Mi._jsonSchema))return new Mi(t.latitude,t.longitude)}}Mi._jsonSchemaVersion="firestore/geoPoint/1.0",Mi._jsonSchema={type:Oe("string",Mi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Yl(t,ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new ni(t.vectorValues);throw new rt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ni._jsonSchemaVersion="firestore/vectorValue/1.0",ni._jsonSchema={type:Oe("string",ni._jsonSchemaVersion),vectorValues:Oe("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=/^__.*__$/;class mx{constructor(t,n,s){this.data=t,this.fieldMask=n,this.fieldTransforms=s}toMutation(t,n){return this.fieldMask!==null?new na(t,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(t,this.data,n,this.fieldTransforms)}}function VT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{dataSource:r})}}class dp{constructor(t,n,s,l,u,d){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.validatePath(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(t){return new dp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(t){var l;const n=(l=this.path)==null?void 0:l.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePathSegment(t),s}childContextForFieldPath(t){var l;const n=(l=this.path)==null?void 0:l.child(t),s=this.contextWith({path:n,arrayElement:!1});return s.validatePath(),s}childContextForArray(t){return this.contextWith({path:void 0,arrayElement:!0})}createError(t){return uh(t,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))}validatePathSegment(t){if(t.length===0)throw this.createError("Document fields must not be empty");if(VT(this.dataSource)&&dx.test(t))throw this.createError('Document fields cannot begin and end with "__"')}}class px{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||Ih(t)}createContext(t,n,s,l=!1){return new dp({dataSource:t,methodName:n,targetDoc:s,path:$e.emptyPath(),arrayElement:!1,hasConverter:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function kT(r){const t=r._freezeSettings(),n=Ih(r._databaseId);return new px(r._databaseId,!!t.ignoreUndefinedProperties,n)}function gx(r,t,n,s,l,u={}){const d=r.createContext(u.merge||u.mergeFields?2:0,t,n,l);PT("Data must be an object, but it was:",d,s);const p=UT(s,d);let _,y;if(u.merge)_=new ti(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const b=[];for(const w of u.mergeFields){const N=Oh(t,w,n);if(!d.contains(N))throw new rt($.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);Ex(b,N)||b.push(N)}_=new ti(b),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new mx(new zn(p),_,y)}class mp extends fp{_toFieldTransform(t){return new i2(t.path,new ql)}isEqual(t){return t instanceof mp}}function yx(r,t,n,s=!1){return pp(n,r.createContext(s?4:3,t))}function pp(r,t){if(LT(r=Ve(r)))return PT("Unsupported field value:",t,r),UT(r,t);if(r instanceof fp)return(function(s,l){if(!VT(l.dataSource))throw l.createError(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.createError(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.arrayElement&&t.dataSource!==4)throw t.createError("Nested arrays are not supported");return(function(s,l){const u=[];let d=0;for(const p of s){let _=pp(p,l.childContextForArray(d));_==null&&(_={nullValue:"NULL_VALUE"}),u.push(_),d++}return{arrayValue:{values:u}}})(r,t)}return(function(s,l){if((s=Ve(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return t2(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=se.fromDate(s);return{timestampValue:sh(l.serializer,u)}}if(s instanceof se){const u=new se(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:sh(l.serializer,u)}}if(s instanceof Mi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:ZE(l.serializer,s._byteString)};if(s instanceof Me){const u=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw l.createError(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ni)return(function(d,p){const _=d instanceof ni?d.toArray():d;return{mapValue:{fields:{[xE]:{stringValue:IE},[nh]:{arrayValue:{values:_.map((b=>{if(typeof b!="number")throw p.createError("VectorValues must only contain numeric values.");return Qm(p.serializer,b)}))}}}}}})(s,l);if(sT(s))return s._toProto(l.serializer);throw l.createError(`Unsupported field value: ${_h(s)}`)})(r,t)}function UT(r,t){const n={};return TE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ta(r,((s,l)=>{const u=pp(l,t.childContextForField(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function LT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof Mi||r instanceof Bn||r instanceof Me||r instanceof fp||r instanceof ni||sT(r))}function PT(r,t,n){if(!LT(n)||!vE(n)){const s=_h(n);throw s==="an object"?t.createError(r+" a custom object"):t.createError(r+" "+s)}}function Oh(r,t,n){if((t=Ve(t))instanceof MT)return t._internalPath;if(typeof t=="string")return vx(r,t);throw uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const _x=new RegExp("[~\\*/\\[\\]]");function vx(r,t,n){if(t.search(_x)>=0)throw uh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new MT(...t.split("."))._internalPath}catch{throw uh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function uh(r,t,n,s,l){const u=s&&!s.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${s}`),d&&(_+=` in document ${l}`),_+=")"),new rt($.INVALID_ARGUMENT,p+r+_)}function Ex(r,t){return r.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{convertValue(t,n="none"){switch(as(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ve(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(ss(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return ta(t,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(t){var s,l,u;const n=(u=(l=(s=t.fields)==null?void 0:s[nh].arrayValue)==null?void 0:l.values)==null?void 0:u.map((d=>ve(d.doubleValue)));return new ni(n)}convertGeoPoint(t){return new Mi(ve(t.latitude),ve(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=Th(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const n=rs(t);return new se(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=ne.fromString(t);Kt(rT(s),9688,{name:t});const l=new jl(s.get(1),s.get(3)),u=new dt(s.popFirst(5));return l.isEqual(n)||lr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends Tx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Bn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,n)}}function bx(){return new mp("serverTimestamp")}const Ev="@firebase/firestore",Tv="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(r){return(function(n,s){if(typeof n!="object"||n===null)return!1;const l=n;for(const u of s)if(u in l&&typeof l[u]=="function")return!0;return!1})(r,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(t,n,s,l,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Ax(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var t;return((t=this._document)==null?void 0:t.data.clone().value.mapValue.fields)??void 0}get(t){if(this._document){const n=this._document.data.field(Oh("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ax extends zT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new rt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class gp{}class BT extends gp{}function Sx(r,t,...n){let s=[];t instanceof gp&&s.push(t),s=s.concat(n),(function(u){const d=u.filter((_=>_ instanceof _p)).length,p=u.filter((_=>_ instanceof yp)).length;if(d>1||d>0&&p>0)throw new rt($.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class yp extends BT{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new yp(t,n,s)}_apply(t){const n=this._parse(t);return qT(t._query,n),new ra(t.firestore,t.converter,ym(t._query,n))}_parse(t){const n=kT(t.firestore);return(function(u,d,p,_,y,b,w){let N;if(y.isKeyField()){if(b==="array-contains"||b==="array-contains-any")throw new rt($.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if(b==="in"||b==="not-in"){wv(w,b);const Z=[];for(const tt of w)Z.push(Av(_,u,tt));N={arrayValue:{values:Z}}}else N=Av(_,u,w)}else b!=="in"&&b!=="not-in"&&b!=="array-contains-any"||wv(w,b),N=yx(p,d,w,b==="in"||b==="not-in");return De.create(y,b,N)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}class _p extends gp{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new _p(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(l,u){let d=l;const p=u.getFlattenedFilters();for(const _ of p)qT(d,_),d=ym(d,_)})(t._query,n),new ra(t.firestore,t.converter,ym(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class vp extends BT{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new vp(t,n)}_apply(t){const n=(function(l,u,d){if(l.startAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new rt($.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bl(u,d)})(t._query,this._field,this._direction);return new ra(t.firestore,t.converter,KS(t._query,n))}}function Rx(r,t="asc"){const n=t,s=Oh("orderBy",r);return vp._create(s,n)}function Av(r,t,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new rt($.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UE(t)&&n.indexOf("/")!==-1)throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(ne.fromString(n));if(!dt.isDocumentKey(s))throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return U0(r,new dt(s))}if(n instanceof Me)return U0(r,n._key);throw new rt($.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_h(n)}.`)}function wv(r,t){if(!Array.isArray(r)||r.length===0)throw new rt($.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function qT(r,t){const n=(function(l,u){for(const d of l)for(const p of d.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new rt($.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function xx(r,t,n){let s;return s=r?r.toFirestore(t):t,s}class Il{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Hs extends zT{constructor(t,n,s,l,u,d){super(t,n,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Oh("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=Hs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Hs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Hs._jsonSchema={type:Oe("string",Hs._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Qc extends Hs{data(t={}){return super.data(t)}}class Wa{constructor(t,n,s,l){this._firestore=t,this._userDataWriter=n,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new Qc(this._firestore,this._userDataWriter,s.key,s,new Il(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new rt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const _=new Qc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:Ix(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new rt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Ix(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Oe("string",Wa._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cx(r){r=ts(r,Me);const t=ts(r.firestore,lo),n=hp(t);return ax(n,r._key).then((s=>FT(t,r,s)))}function Nx(r){return HT(ts(r.firestore,lo),[new Ym(r._key,Di.none())])}function Dx(r,t){const n=ts(r.firestore,lo),s=Cm(r),l=xx(r.converter,t),u=kT(r.firestore);return HT(n,[gx(u,"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,Di.exists(!1))]).then((()=>s))}function Ox(r,...t){var y,b,w;r=Ve(r);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||bv(t[s])||(n=t[s++]);const l={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bv(t[s])){const N=t[s];t[s]=(y=N.next)==null?void 0:y.bind(N),t[s+1]=(b=N.error)==null?void 0:b.bind(N),t[s+2]=(w=N.complete)==null?void 0:w.bind(N)}let u,d,p;if(r instanceof Me)d=ts(r.firestore,lo),p=bh(r._key.path),u={next:N=>{t[s]&&t[s](FT(d,r,N))},error:t[s+1],complete:t[s+2]};else{const N=ts(r,ra);d=ts(N.firestore,lo),p=N._query;const F=new jT(d);u={next:Z=>{t[s]&&t[s](new Wa(d,F,N,Z))},error:t[s+1],complete:t[s+2]},wx(r._query)}const _=hp(d);return sx(_,p,l,u)}function HT(r,t){const n=hp(r);return ox(n,t)}function FT(r,t,n){const s=n.docs.get(t._key),l=new jT(r);return new Hs(r,l,t._key,s,new Il(n.hasPendingWrites,n.fromCache),t.converter)}(function(t,n=!0){aS(Ws),Qs(new ns("firestore",((s,{instanceIdentifier:l,options:u})=>{const d=s.getProvider("app").getImmediate(),p=new lo(new uS(s.getProvider("auth-internal")),new fS(d,s.getProvider("app-check-internal")),CS(d,l),d);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),Ci(Ev,Tv,t),Ci(Ev,Tv,"esm2020")})();function GT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Mx=GT,KT=new Kl("auth","Firebase",GT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Lm("@firebase/auth");function Vx(r,...t){ch.logLevel<=kt.WARN&&ch.warn(`Auth (${Ws}): ${r}`,...t)}function Yc(r,...t){ch.logLevel<=kt.ERROR&&ch.error(`Auth (${Ws}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(r,...t){throw Tp(r,...t)}function ii(r,...t){return Tp(r,...t)}function Ep(r,t,n){const s={...Mx(),[t]:n};return new Kl("auth","Firebase",s).create(t,{appName:r.name})}function Fs(r){return Ep(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kx(r,t,n){const s=n;if(!(t instanceof s))throw s.name!==t.constructor.name&&Ui(r,"argument-error"),Ep(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tp(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return KT.create(r,...t)}function vt(r,t,...n){if(!r)throw Tp(t,...n)}function sr(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Yc(t),new Error(t)}function cr(r,t){r||sr(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.href)||""}function Ux(){return Sv()==="http:"||Sv()==="https:"}function Sv(){var r;return typeof self<"u"&&((r=self.location)==null?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ux()||LA()||"connection"in navigator)?navigator.onLine:!0}function Px(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(t,n){this.shortDelay=t,this.longDelay=n,cr(n>t,"Short delay should be less than long delay!"),this.isMobile=VA()||PA()}get(){return Lx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(r,t){cr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bx=new Wl(3e4,6e4);function Ap(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function go(r,t,n,s,l={}){return YT(r,l,async()=>{let u={},d={};s&&(t==="GET"?d=s:u={body:JSON.stringify(s)});const p=Ql({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...u};return UA()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&us(r.emulatorConfig.host)&&(y.credentials="include"),QT.fetch()(await XT(r,r.config.apiHost,n,p),y)})}async function YT(r,t,n){r._canInitEmulator=!1;const s={...jx,...t};try{const l=new Hx(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Uc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const p=u.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Uc(r,"user-disabled",d);const b=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Ep(r,b,y);Ui(r,b)}}catch(l){if(l instanceof Li)throw l;Ui(r,"network-request-failed",{message:String(l)})}}async function qx(r,t,n,s,l={}){const u=await go(r,t,n,s,l);return"mfaPendingCredential"in u&&Ui(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function XT(r,t,n,s){const l=`${t}${n}?${s}`,u=r,d=u.config.emulator?bp(r.config,l):`${r.config.apiScheme}://${l}`;return zx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class Hx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(ii(this.auth,"network-request-failed")),Bx.get())})}}function Uc(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=ii(r,t,s);return l.customData._tokenResponse=n,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(r,t){return go(r,"POST","/v1/accounts:delete",t)}async function hh(r,t){return go(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Gx(r,t=!1){const n=Ve(r),s=await n.getIdToken(t),l=wp(s);vt(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:l,token:s,authTime:Vl(Zd(l.auth_time)),issuedAtTime:Vl(Zd(l.iat)),expirationTime:Vl(Zd(l.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Zd(r){return Number(r)*1e3}function wp(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const l=Wv(n);return l?JSON.parse(l):(Yc("Failed to decode base64 JWT payload"),null)}catch(l){return Yc("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function Rv(r){const t=wp(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof Li&&Kx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Kx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(r){var w;const t=r.auth,n=await r.getIdToken(),s=await Gl(r,hh(t,{idToken:n}));vt(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=(w=l.providerUserInfo)!=null&&w.length?$T(l.providerUserInfo):[],d=Xx(r.providerData,u),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),y=p?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Dm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function Yx(r){const t=Ve(r);await fh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Xx(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function $T(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $x(r,t){const n=await YT(r,{},async()=>{const s=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,d=await XT(r,l,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:s};return r.emulatorConfig&&us(r.emulatorConfig.host)&&(_.credentials="include"),QT.fetch()(d,_)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Jx(r,t){return go(r,"POST","/v2/accounts:revokeToken",Ap(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Rv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const n=Rv(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await $x(t,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,d=new to;return s&&(vt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),u&&(vt(typeof u=="number","internal-error",{appName:t}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fr(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Qx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Dm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const n=await Gl(this,this.stsTokenManager.getToken(this.auth,t));return vt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Gx(this,t)}reload(){return Yx(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(Fs(this.auth));const t=await this.getIdToken();return await Gl(this,Fx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,d=n.photoURL??void 0,p=n.tenantId??void 0,_=n._redirectEventId??void 0,y=n.createdAt??void 0,b=n.lastLoginAt??void 0,{uid:w,emailVerified:N,isAnonymous:F,providerData:Z,stsTokenManager:tt}=n;vt(w&&tt,t,"internal-error");const H=to.fromJSON(this.name,tt);vt(typeof w=="string",t,"internal-error"),Fr(s,t.name),Fr(l,t.name),vt(typeof N=="boolean",t,"internal-error"),vt(typeof F=="boolean",t,"internal-error"),Fr(u,t.name),Fr(d,t.name),Fr(p,t.name),Fr(_,t.name),Fr(y,t.name),Fr(b,t.name);const W=new ei({uid:w,auth:t,email:l,emailVerified:N,displayName:s,isAnonymous:F,photoURL:d,phoneNumber:u,tenantId:p,stsTokenManager:H,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(W.providerData=Z.map(lt=>({...lt}))),_&&(W._redirectEventId=_),W}static async _fromIdTokenResponse(t,n,s=!1){const l=new to;l.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await fh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const l=n.users[0];vt(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?$T(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(u!=null&&u.length),p=new to;p.updateFromIdToken(s);const _=new ei({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new Dm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(u!=null&&u.length)};return Object.assign(_,y),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=new Map;function ar(r){cr(r instanceof Function,"Expected a class definition");let t=xv.get(r);return t?(cr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,xv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}JT.type="NONE";const Iv=JT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r,t,n){return`firebase:${r}:${t}:${n}`}class eo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,l.apiKey,u),this.fullPersistenceKey=Xc("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await hh(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new eo(ar(Iv),t,s);const l=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=l[0]||ar(Iv);const d=Xc(s,t.config.apiKey,t.name);let p=null;for(const y of n)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const N=await hh(t,{idToken:b}).catch(()=>{});if(!N)break;w=await ei._fromGetAccountInfoResponse(t,N,b)}else w=ei._fromJSON(t,b);y!==u&&(p=w),u=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!_.length?new eo(u,t,s):(u=_[0],p&&await u._set(d,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new eo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(e1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ZT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(i1(t))return"Blackberry";if(r1(t))return"Webos";if(WT(t))return"Safari";if((t.includes("chrome/")||t1(t))&&!t.includes("edge/"))return"Chrome";if(n1(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ZT(r=nn()){return/firefox\//i.test(r)}function WT(r=nn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function t1(r=nn()){return/crios\//i.test(r)}function e1(r=nn()){return/iemobile/i.test(r)}function n1(r=nn()){return/android/i.test(r)}function i1(r=nn()){return/blackberry/i.test(r)}function r1(r=nn()){return/webos/i.test(r)}function Sp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Zx(r=nn()){var t;return Sp(r)&&!!((t=window.navigator)!=null&&t.standalone)}function Wx(){return jA()&&document.documentMode===10}function s1(r=nn()){return Sp(r)||n1(r)||r1(r)||i1(r)||/windows phone/i.test(r)||e1(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(r,t=[]){let n;switch(r){case"Browser":n=Cv(nn());break;case"Worker":n=`${Cv(nn())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ws}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((d,p)=>{try{const _=t(u);d(_)}catch(_){p(_)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eI(r,t={}){return go(r,"GET","/v2/passwordPolicy",Ap(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=6;class iI{constructor(t){var s;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??nI,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=t.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),l&&(n.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(t,n,s,l){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nv(this),this.idTokenSubscription=new Nv(this),this.beforeStateQueue=new tI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=KT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var s,l,u;if(!this._deleted&&(this.persistenceManager=await eo.create(this,t),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((l=this._popupRedirectResolver)!=null&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await hh(this,{idToken:t}),s=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(jn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(p=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(p,p))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(u=this.redirectUser)==null?void 0:u._redirectEventId,p=s==null?void 0:s._redirectEventId,_=await this.tryRedirectSignIn(t);(!d||d===p)&&(_!=null&&_.user)&&(s=_.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(d){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await fh(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Px()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(jn(this.app))return Promise.reject(Fs(this));const n=t?Ve(t):null;return n&&vt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(Fs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return jn(this.app)?Promise.reject(Fs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eI(this),n=new iI(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Kl("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Jx(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ar(t)||this._popupRedirectResolver;vt(n,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const _=t.addObserver(n,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(n);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=a1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var l;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((l=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:l.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var n;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&Vx(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Mh(r){return Ve(r)}class Nv{constructor(t){this.auth=t,this.observer=null,this.addObserver=QA(n=>this.observer=n)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sI(r){Rp=r}function aI(r){return Rp.loadJS(r)}function oI(){return Rp.gapiScript}function lI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(r,t){const n=yh(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Ks(u,t??{}))return l;Ui(l,"already-initialized")}return n.initialize({options:t})}function cI(r,t){const n=(t==null?void 0:t.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ar);t!=null&&t.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function hI(r,t,n){const s=Mh(r);vt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,u=o1(t),{host:d,port:p}=fI(t),_=p===null?"":`:${p}`,y={url:`${u}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){vt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),vt(Ks(y,s.config.emulator)&&Ks(b,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=b,s.settings.appVerificationDisabledForTesting=!0,us(d)?(km(`${u}//${d}${_}`),Um("Auth",!0)):dI()}function o1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function fI(r){const t=o1(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:Dv(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:Dv(d)}}}function Dv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function dI(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(t){return sr("not implemented")}_linkToIdToken(t,n){return sr("not implemented")}_getReauthenticationResolver(t){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r,t){return qx(r,"POST","/v1/accounts:signInWithIdp",Ap(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI="http://localhost";class Js extends l1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new Js(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Ui("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const d=new Js(s,l);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(t){const n=this.buildRequest();return no(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,no(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,no(t,n)}buildRequest(){const t={requestUri:mI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ql(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends xp{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends tu{constructor(){super("facebook.com")}static credential(t){return Js._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return Js._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return rr.credential(n,s)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends tu{constructor(){super("github.com")}static credential(t){return Js._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Kr.credentialFromTaggedObject(t)}static credentialFromError(t){return Kr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Kr.credential(t.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends tu{constructor(){super("twitter.com")}static credential(t,n){return Js._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return Qr.credentialFromTaggedObject(t)}static credentialFromError(t){return Qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,l=!1){const u=await ei._fromIdTokenResponse(t,s,l),d=Ov(s);return new uo({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const l=Ov(s);return new uo({user:t,providerId:l,_tokenResponse:s,operationType:n})}}function Ov(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends Li{constructor(t,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,l){return new dh(t,n,s,l)}}function u1(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(r,u,t,s):u})}async function pI(r,t,n=!1){const s=await Gl(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return uo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(r,t,n=!1){const{auth:s}=r;if(jn(s.app))return Promise.reject(Fs(s));const l="reauthenticate";try{const u=await Gl(r,u1(s,l,t,r),n);vt(u.idToken,s,"internal-error");const d=wp(u.idToken);vt(d,s,"internal-error");const{sub:p}=d;return vt(r.uid===p,s,"user-mismatch"),uo._forOperation(r,l,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ui(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yI(r,t,n=!1){if(jn(r.app))return Promise.reject(Fs(r));const s="signIn",l=await u1(r,s,t),u=await uo._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}function _I(r,t,n,s){return Ve(r).onIdTokenChanged(t,n,s)}function vI(r,t,n){return Ve(r).beforeAuthStateChanged(t,n)}function EI(r,t,n,s){return Ve(r).onAuthStateChanged(t,n,s)}function TI(r){return Ve(r).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI=1e3,AI=10;class h1 extends c1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=s1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&t(n,l,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const s=t.key;n?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);Wx()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,AI):l()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},bI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}h1.type="LOCAL";const wI=h1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1 extends c1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}f1.type="SESSION";const d1=f1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(l=>l.isListeningto(t));if(n)return n;const s=new Vh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:l,data:u}=n.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const p=Array.from(d).map(async y=>y(n.origin,u)),_=await SI(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,d;return new Promise((p,_)=>{const y=Ip("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(w){const N=w;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(b),u=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(N.data.response);break;default:clearTimeout(b),clearTimeout(u),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:n},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function xI(r){Vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function II(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CI(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)==null?void 0:r.controller)||null}function NI(){return m1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebaseLocalStorageDb",DI=1,ph="firebaseLocalStorage",g1="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(r,t){return r.transaction([ph],t?"readwrite":"readonly").objectStore(ph)}function OI(){const r=indexedDB.deleteDatabase(p1);return new eu(r).toPromise()}function Om(){const r=indexedDB.open(p1,DI);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(ph,{keyPath:g1})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(ph)?t(s):(s.close(),await OI(),t(await Om()))})})}async function Mv(r,t,n){const s=kh(r,!0).put({[g1]:t,value:n});return new eu(s).toPromise()}async function MI(r,t){const n=kh(r,!1).get(t),s=await new eu(n).toPromise();return s===void 0?null:s.value}function Vv(r,t){const n=kh(r,!0).delete(t);return new eu(n).toPromise()}const VI=800,kI=3;class y1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>kI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return m1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(NI()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await II(),!this.activeServiceWorker)return;this.sender=new RI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(s=t[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Om();return await Mv(t,mh,"1"),await Vv(t,mh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Mv(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>MI(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Vv(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const u=kh(l,!1).getAll();return new eu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:u}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}y1.type="LOCAL";const UI=y1;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(r,t){return t?ar(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends l1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return no(t,this._buildIdpRequest())}_linkToIdToken(t,n){return no(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return no(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function LI(r){return yI(r.auth,new Cp(r),r.bypassAuthState)}function PI(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),gI(n,new Cp(r),r.bypassAuthState)}async function jI(r){const{auth:t,user:n}=r;return vt(n,t,"internal-error"),pI(n,new Cp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(t,n,s,l,u=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return LI;case"linkViaPopup":case"linkViaRedirect":return jI;case"reauthViaPopup":case"reauthViaRedirect":return PI;default:Ui(this.auth,"internal-error")}}resolve(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=new Wl(2e3,1e4);async function BI(r,t,n){if(jn(r.app))return Promise.reject(ii(r,"operation-not-supported-in-this-environment"));const s=Mh(r);kx(r,t,xp);const l=_1(s,n);return new qs(s,"signInViaPopup",t,l).executeNotNull()}class qs extends v1{constructor(t,n,s,l,u){super(t,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,qs.currentPopupAction&&qs.currentPopupAction.cancel(),qs.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const t=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qs.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zI.get())};t()}}qs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="pendingRedirect",$c=new Map;class HI extends v1{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=$c.get(this.auth._key());if(!t){try{const s=await FI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}$c.set(this.auth._key(),t)}return this.bypassAuthState||$c.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FI(r,t){const n=QI(t),s=KI(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function GI(r,t){$c.set(r._key(),t)}function KI(r){return ar(r._redirectPersistence)}function QI(r){return Xc(qI,r.config.apiKey,r.name)}async function YI(r,t,n=!1){if(jn(r.app))return Promise.reject(Fs(r));const s=Mh(r),l=_1(s,t),d=await new HI(s,l,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=600*1e3;class $I{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!JI(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var s;if(t.error&&!E1(t)){const l=((s=t.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,l))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XI&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(t))}saveEventToCache(t){this.cachedEventUids.add(kv(t)),this.lastProcessedEventTime=Date.now()}}function kv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function E1({type:r,error:t}){return r==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function JI(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return E1(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZI(r,t={}){return go(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function eC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await ZI(r);for(const n of t)try{if(nC(n))return}catch{}Ui(r,"unauthorized-domain")}function nC(r){const t=Nm(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!tC.test(n))return!1;if(WI.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new Wl(3e4,6e4);function Uv(){const r=Vi().___jsl;if(r!=null&&r.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function rC(r){return new Promise((t,n)=>{var l,u,d;function s(){Uv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Uv(),n(ii(r,"network-request-failed"))},timeout:iC.get()})}if((u=(l=Vi().gapi)==null?void 0:l.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((d=Vi().gapi)!=null&&d.load)s();else{const p=lI("iframefcb");return Vi()[p]=()=>{gapi.load?s():n(ii(r,"network-request-failed"))},aI(`${oI()}?onload=${p}`).catch(_=>n(_))}}).catch(t=>{throw Jc=null,t})}let Jc=null;function sC(r){return Jc=Jc||rC(r),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=new Wl(5e3,15e3),oC="__/auth/iframe",lC="emulator/auth/iframe",uC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hC(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?bp(t,lC):`https://${r.config.authDomain}/${oC}`,s={apiKey:t.apiKey,appName:r.name,v:Ws},l=cC.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ql(s).slice(1)}`}async function fC(r){const t=await sC(r),n=Vi().gapi;return vt(n,r,"internal-error"),t.open({where:document.body,url:hC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uC,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const d=ii(r,"network-request-failed"),p=Vi().setTimeout(()=>{u(d)},aC.get());function _(){Vi().clearTimeout(p),l(s)}s.ping(_).then(_,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mC=500,pC=600,gC="_blank",yC="http://localhost";class Lv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _C(r,t,n,s=mC,l=pC){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const _={...dC,width:s.toString(),height:l.toString(),top:u,left:d},y=nn().toLowerCase();n&&(p=t1(y)?gC:n),ZT(y)&&(t=t||yC,_.scrollbars="yes");const b=Object.entries(_).reduce((N,[F,Z])=>`${N}${F}=${Z},`,"");if(Zx(y)&&p!=="_self")return vC(t||"",p),new Lv(null);const w=window.open(t||"",p,b);vt(w,r,"popup-blocked");try{w.focus()}catch{}return new Lv(w)}function vC(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="__/auth/handler",TC="emulator/auth/handler",bC=encodeURIComponent("fac");async function Pv(r,t,n,s,l,u){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ws,eventId:l};if(t instanceof xp){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",KA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof tu){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await r._getAppCheckToken(),y=_?`#${bC}=${encodeURIComponent(_)}`:"";return`${AC(r)}?${Ql(p).slice(1)}${y}`}function AC({config:r}){return r.emulator?bp(r,TC):`https://${r.authDomain}/${EC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class wC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=d1,this._completeRedirectFn=YI,this._overrideRedirectResult=GI}async _openPopup(t,n,s,l){var d;cr((d=this.eventManagers[t._key()])==null?void 0:d.manager,"_initialize() not called before _openPopup()");const u=await Pv(t,n,s,Nm(),l);return _C(t,u,Ip())}async _openRedirect(t,n,s,l){await this._originValidation(t);const u=await Pv(t,n,s,Nm(),l);return xI(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await fC(t),s=new $I(t);return n.register("authEvent",l=>(vt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Wd,{type:Wd},l=>{var d;const u=(d=l==null?void 0:l[0])==null?void 0:d[Wd];u!==void 0&&n(!!u),Ui(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=eC(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return s1()||WT()||Sp()}}const SC=wC;var jv="@firebase/auth",zv="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IC(r){Qs(new ns("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=s.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:a1(r)},y=new rI(s,l,u,_);return cI(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),Qs(new ns("auth-internal",t=>{const n=Mh(t.getProvider("auth").getImmediate());return(s=>new RC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ci(jv,zv,xC(r)),Ci(jv,zv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=300,NC=iE("authIdTokenMaxAge")||CC;let Bv=null;const DC=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>NC)return;const l=n==null?void 0:n.token;Bv!==l&&(Bv=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function OC(r=jm()){const t=yh(r,"auth");if(t.isInitialized())return t.getImmediate();const n=uI(r,{popupRedirectResolver:SC,persistence:[UI,wI,d1]}),s=iE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=DC(u.toString());vI(n,d,()=>d(n.currentUser)),_I(n,p=>d(p))}}const l=tE("auth");return l&&hI(n,`http://${l}`),n}function MC(){var r;return((r=document.getElementsByTagName("head"))==null?void 0:r[0])??document}sI({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const u=ii("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",MC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IC("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firebasestorage.googleapis.com",b1="storageBucket",VC=120*1e3,kC=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me extends Li{constructor(t,n,s=0){super(tm(t),`Firebase Storage: ${n} (${tm(t)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,me.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return tm(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var de;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(de||(de={}));function tm(r){return"storage/"+r}function Np(){const r="An unknown error occurred, please check the error payload for server response.";return new me(de.UNKNOWN,r)}function UC(r){return new me(de.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function LC(r){return new me(de.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function PC(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new me(de.UNAUTHENTICATED,r)}function jC(){return new me(de.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function zC(r){return new me(de.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function BC(){return new me(de.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function qC(){return new me(de.CANCELED,"User canceled the upload/download.")}function HC(r){return new me(de.INVALID_URL,"Invalid URL '"+r+"'.")}function FC(r){return new me(de.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function GC(){return new me(de.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+b1+"' property when initializing the app?")}function KC(){return new me(de.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function QC(){return new me(de.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function YC(r){return new me(de.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Mm(r){return new me(de.INVALID_ARGUMENT,r)}function A1(){return new me(de.APP_DELETED,"The Firebase app was deleted.")}function XC(r){return new me(de.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function kl(r,t){return new me(de.INVALID_FORMAT,"String does not match format '"+r+"': "+t)}function wl(r){throw new me(de.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let s;try{s=Sn.makeFromUrl(t,n)}catch{return new Sn(t,"")}if(s.path==="")return s;throw FC(t)}static makeFromUrl(t,n){let s=null;const l="([A-Za-z0-9.\\-_]+)";function u(yt){yt.path.charAt(yt.path.length-1)==="/"&&(yt.path_=yt.path_.slice(0,-1))}const d="(/(.*))?$",p=new RegExp("^gs://"+l+d,"i"),_={bucket:1,path:3};function y(yt){yt.path_=decodeURIComponent(yt.path)}const b="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),N="(/([^?#]*).*)?$",F=new RegExp(`^https?://${w}/${b}/b/${l}/o${N}`,"i"),Z={bucket:1,path:3},tt=n===T1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,H="([^?#]*)",W=new RegExp(`^https?://${tt}/${l}/${H}`,"i"),st=[{regex:p,indices:_,postModify:u},{regex:F,indices:Z,postModify:y},{regex:W,indices:{bucket:1,path:2},postModify:y}];for(let yt=0;yt<st.length;yt++){const jt=st[yt],It=jt.regex.exec(t);if(It){const I=It[jt.indices.bucket];let S=It[jt.indices.path];S||(S=""),s=new Sn(I,S),jt.postModify(s);break}}if(s==null)throw HC(t);return s}}class $C{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(r,t,n){let s=1,l=null,u=null,d=!1,p=0;function _(){return p===2}let y=!1;function b(...H){y||(y=!0,t.apply(null,H))}function w(H){l=setTimeout(()=>{l=null,r(F,_())},H)}function N(){u&&clearTimeout(u)}function F(H,...W){if(y){N();return}if(H){N(),b.call(null,H,...W);return}if(_()||d){N(),b.call(null,H,...W);return}s<64&&(s*=2);let st;p===1?(p=2,st=0):st=(s+Math.random())*1e3,w(st)}let Z=!1;function tt(H){Z||(Z=!0,N(),!y&&(l!==null?(H||(p=2),clearTimeout(l),w(0)):H||(p=1)))}return w(0),u=setTimeout(()=>{d=!0,tt(!0)},n),tt}function ZC(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(r){return r!==void 0}function tN(r){return typeof r=="object"&&!Array.isArray(r)}function Dp(r){return typeof r=="string"||r instanceof String}function qv(r){return Op()&&r instanceof Blob}function Op(){return typeof Blob<"u"}function Hv(r,t,n,s){if(s<t)throw Mm(`Invalid value for '${r}'. Expected ${t} or greater.`);if(s>n)throw Mm(`Invalid value for '${r}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(r,t,n){let s=t;return n==null&&(s=`https://${t}`),`${n}://${s}/v0${r}`}function w1(r){const t=encodeURIComponent;let n="?";for(const s in r)if(r.hasOwnProperty(s)){const l=t(s)+"="+t(r[s]);n=n+l+"&"}return n=n.slice(0,-1),n}var Gs;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Gs||(Gs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(r,t){const n=r>=500&&r<600,l=[408,429].indexOf(r)!==-1,u=t.indexOf(r)!==-1;return n||l||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(t,n,s,l,u,d,p,_,y,b,w,N=!0,F=!1){this.url_=t,this.method_=n,this.headers_=s,this.body_=l,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=p,this.errorCallback_=_,this.timeout_=y,this.progressCallback_=b,this.connectionFactory_=w,this.retry=N,this.isUsingEmulator=F,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Z,tt)=>{this.resolve_=Z,this.reject_=tt,this.start_()})}start_(){const t=(s,l)=>{if(l){s(!1,new Lc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const d=p=>{const _=p.loaded,y=p.lengthComputable?p.total:-1;this.progressCallback_!==null&&this.progressCallback_(_,y)};this.progressCallback_!==null&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const p=u.getErrorCode()===Gs.NO_ERROR,_=u.getStatus();if(!p||eN(_,this.additionalRetryCodes_)&&this.retry){const b=u.getErrorCode()===Gs.ABORT;s(!1,new Lc(!1,null,b));return}const y=this.successCodes_.indexOf(_)!==-1;s(!0,new Lc(y,u))})},n=(s,l)=>{const u=this.resolve_,d=this.reject_,p=l.connection;if(l.wasSuccessCode)try{const _=this.callback_(p,p.getResponse());WC(_)?u(_):u()}catch(_){d(_)}else if(p!==null){const _=Np();_.serverResponse=p.getErrorText(),this.errorCallback_?d(this.errorCallback_(p,_)):d(_)}else if(l.canceled){const _=this.appDelete_?A1():qC();d(_)}else{const _=BC();d(_)}};this.canceled_?n(!1,new Lc(!1,null,!0)):this.backoffId_=JC(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&ZC(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lc{constructor(t,n,s){this.wasSuccessCode=t,this.connection=n,this.canceled=!!s}}function iN(r,t){t!==null&&t.length>0&&(r.Authorization="Firebase "+t)}function rN(r,t){r["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function sN(r,t){t&&(r["X-Firebase-GMPID"]=t)}function aN(r,t){t!==null&&(r["X-Firebase-AppCheck"]=t)}function oN(r,t,n,s,l,u,d=!0,p=!1){const _=w1(r.urlParams),y=r.url+_,b=Object.assign({},r.headers);return sN(b,t),iN(b,n),rN(b,u),aN(b,s),new nN(y,r.method,b,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l,d,p)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function uN(...r){const t=lN();if(t!==void 0){const n=new t;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}else{if(Op())return new Blob(r);throw new me(de.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function cN(r,t,n){return r.webkitSlice?r.webkitSlice(t,n):r.mozSlice?r.mozSlice(t,n):r.slice?r.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(r){if(typeof atob>"u")throw YC("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class em{constructor(t,n){this.data=t,this.contentType=n||null}}function fN(r,t){switch(r){case Ii.RAW:return new em(S1(t));case Ii.BASE64:case Ii.BASE64URL:return new em(R1(r,t));case Ii.DATA_URL:return new em(mN(t),pN(t))}throw Np()}function S1(r){const t=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);if(s<=127)t.push(s);else if(s<=2047)t.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<r.length-1&&(r.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=s,d=r.charCodeAt(++n);s=65536|(u&1023)<<10|d&1023,t.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?t.push(239,191,189):t.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(t)}function dN(r){let t;try{t=decodeURIComponent(r)}catch{throw kl(Ii.DATA_URL,"Malformed data URL.")}return S1(t)}function R1(r,t){switch(r){case Ii.BASE64:{const l=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(l||u)throw kl(r,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Ii.BASE64URL:{const l=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(l||u)throw kl(r,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=hN(t)}catch(l){throw l.message.includes("polyfill")?l:kl(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}class x1{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw kl(Ii.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=gN(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=t.substring(t.indexOf(",")+1)}}function mN(r){const t=new x1(r);return t.base64?R1(Ii.BASE64,t.rest):dN(t.rest)}function pN(r){return new x1(r).contentType}function gN(r,t){return r.length>=t.length?r.substring(r.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(t,n){let s=0,l="";qv(t)?(this.data_=t,s=t.size,l=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),s=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),s=t.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(t,n){if(qv(this.data_)){const s=this.data_,l=cN(s,t,n);return l===null?null:new Yr(l)}else{const s=new Uint8Array(this.data_.buffer,t,n-t);return new Yr(s,!0)}}static getBlob(...t){if(Op()){const n=t.map(s=>s instanceof Yr?s.data_:s);return new Yr(uN.apply(null,n))}else{const n=t.map(d=>Dp(d)?fN(Ii.RAW,d).data:d.data_);let s=0;n.forEach(d=>{s+=d.byteLength});const l=new Uint8Array(s);let u=0;return n.forEach(d=>{for(let p=0;p<d.length;p++)l[u++]=d[p]}),new Yr(l,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(r){let t;try{t=JSON.parse(r)}catch{return null}return tN(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(r){if(r.length===0)return null;const t=r.lastIndexOf("/");return t===-1?"":r.slice(0,t)}function _N(r,t){const n=t.split("/").filter(s=>s.length>0).join("/");return r.length===0?n:r+"/"+n}function C1(r){const t=r.lastIndexOf("/",r.length-2);return t===-1?r:r.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(r,t){return t}class on{constructor(t,n,s,l){this.server=t,this.local=n||t,this.writable=!!s,this.xform=l||vN}}let Pc=null;function EN(r){return!Dp(r)||r.length<2?r:C1(r)}function N1(){if(Pc)return Pc;const r=[];r.push(new on("bucket")),r.push(new on("generation")),r.push(new on("metageneration")),r.push(new on("name","fullPath",!0));function t(u,d){return EN(d)}const n=new on("name");n.xform=t,r.push(n);function s(u,d){return d!==void 0?Number(d):d}const l=new on("size");return l.xform=s,r.push(l),r.push(new on("timeCreated")),r.push(new on("updated")),r.push(new on("md5Hash",null,!0)),r.push(new on("cacheControl",null,!0)),r.push(new on("contentDisposition",null,!0)),r.push(new on("contentEncoding",null,!0)),r.push(new on("contentLanguage",null,!0)),r.push(new on("contentType",null,!0)),r.push(new on("metadata","customMetadata",!0)),Pc=r,Pc}function TN(r,t){function n(){const s=r.bucket,l=r.fullPath,u=new Sn(s,l);return t._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:n})}function bN(r,t,n){const s={};s.type="file";const l=n.length;for(let u=0;u<l;u++){const d=n[u];s[d.local]=d.xform(s,t[d.server])}return TN(s,r),s}function D1(r,t,n){const s=I1(t);return s===null?null:bN(r,s,n)}function AN(r,t,n,s){const l=I1(t);if(l===null||!Dp(l.downloadTokens))return null;const u=l.downloadTokens;if(u.length===0)return null;const d=encodeURIComponent;return u.split(",").map(y=>{const b=r.bucket,w=r.fullPath,N="/b/"+d(b)+"/o/"+d(w),F=Uh(N,n,s),Z=w1({alt:"media",token:y});return F+Z})[0]}function wN(r,t){const n={},s=t.length;for(let l=0;l<s;l++){const u=t[l];u.writable&&(n[u.server]=r[u.local])}return JSON.stringify(n)}class Mp{constructor(t,n,s,l){this.url=t,this.method=n,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(r){if(!r)throw Np()}function SN(r,t){function n(s,l){const u=D1(r,l,t);return O1(u!==null),u}return n}function RN(r,t){function n(s,l){const u=D1(r,l,t);return O1(u!==null),AN(u,l,r.host,r._protocol)}return n}function M1(r){function t(n,s){let l;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?l=jC():l=PC():n.getStatus()===402?l=LC(r.bucket):n.getStatus()===403?l=zC(r.path):l=s,l.status=n.getStatus(),l.serverResponse=s.serverResponse,l}return t}function V1(r){const t=M1(r);function n(s,l){let u=t(s,l);return s.getStatus()===404&&(u=UC(r.path)),u.serverResponse=l.serverResponse,u}return n}function xN(r,t,n){const s=t.fullServerUrl(),l=Uh(s,r.host,r._protocol),u="GET",d=r.maxOperationRetryTime,p=new Mp(l,u,RN(r,n),d);return p.errorHandler=V1(t),p}function IN(r,t){const n=t.fullServerUrl(),s=Uh(n,r.host,r._protocol),l="DELETE",u=r.maxOperationRetryTime;function d(_,y){}const p=new Mp(s,l,d,u);return p.successCodes=[200,204],p.errorHandler=V1(t),p}function CN(r,t){return r&&r.contentType||t&&t.type()||"application/octet-stream"}function NN(r,t,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=t.size(),s.contentType||(s.contentType=CN(null,t)),s}function DN(r,t,n,s,l){const u=t.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function p(){let st="";for(let yt=0;yt<2;yt++)st=st+Math.random().toString().slice(2);return st}const _=p();d["Content-Type"]="multipart/related; boundary="+_;const y=NN(t,s,l),b=wN(y,n),w="--"+_+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+b+`\r
--`+_+`\r
Content-Type: `+y.contentType+`\r
\r
`,N=`\r
--`+_+"--",F=Yr.getBlob(w,s,N);if(F===null)throw KC();const Z={name:y.fullPath},tt=Uh(u,r.host,r._protocol),H="POST",W=r.maxUploadRetryTime,lt=new Mp(tt,H,SN(r,n),W);return lt.urlParams=Z,lt.headers=d,lt.body=F.uploadData(),lt.errorHandler=M1(t),lt}class ON{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Gs.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Gs.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Gs.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,s,l,u){if(this.sent_)throw wl("cannot .send() more than once");if(us(t)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const d in u)u.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,u[d].toString());return l!==void 0?this.xhr_.send(l):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class MN extends ON{initXhr(){this.xhr_.responseType="text"}}function Vp(){return new MN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(t,n){this._service=t,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new Zs(t,n)}get root(){const t=new Sn(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return C1(this._location.path)}get storage(){return this._service}get parent(){const t=yN(this._location.path);if(t===null)return null;const n=new Sn(this._location.bucket,t);return new Zs(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw XC(t)}}function VN(r,t,n){r._throwIfRoot("uploadBytes");const s=DN(r.storage,r._location,N1(),new Yr(t,!0),n);return r.storage.makeRequestWithTokens(s,Vp).then(l=>({metadata:l,ref:r}))}function kN(r){r._throwIfRoot("getDownloadURL");const t=xN(r.storage,r._location,N1());return r.storage.makeRequestWithTokens(t,Vp).then(n=>{if(n===null)throw QC();return n})}function UN(r){r._throwIfRoot("deleteObject");const t=IN(r.storage,r._location);return r.storage.makeRequestWithTokens(t,Vp)}function LN(r,t){const n=_N(r._location.path,t),s=new Sn(r._location.bucket,n);return new Zs(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(r){return/^[A-Za-z]+:\/\//.test(r)}function jN(r,t){return new Zs(r,t)}function k1(r,t){if(r instanceof kp){const n=r;if(n._bucket==null)throw GC();const s=new Zs(n,n._bucket);return t!=null?k1(s,t):s}else return t!==void 0?LN(r,t):r}function zN(r,t){if(t&&PN(t)){if(r instanceof kp)return jN(r,t);throw Mm("To use ref(service, url), the first argument must be a Storage instance.")}else return k1(r,t)}function Fv(r,t){const n=t==null?void 0:t[b1];return n==null?null:Sn.makeFromBucketSpec(n,r)}function BN(r,t,n,s={}){r.host=`${t}:${n}`;const l=us(t);l&&(km(`https://${r.host}/b`),Um("Storage",!0)),r._isUsingEmulator=!0,r._protocol=l?"https":"http";const{mockUserToken:u}=s;u&&(r._overrideAuthToken=typeof u=="string"?u:rE(u,r.app.options.projectId))}class kp{constructor(t,n,s,l,u,d=!1){this.app=t,this._authProvider=n,this._appCheckProvider=s,this._url=l,this._firebaseVersion=u,this._isUsingEmulator=d,this._bucket=null,this._host=T1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=VC,this._maxUploadRetryTime=kC,this._requests=new Set,l!=null?this._bucket=Sn.makeFromBucketSpec(l,this._host):this._bucket=Fv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,t):this._bucket=Fv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Hv("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Hv("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Zs(this,t)}_makeRequest(t,n,s,l,u=!0){if(this._deleted)return new $C(A1());{const d=oN(t,this._appId,s,l,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(t,n){const[s,l]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,s,l).getPromise()}}const Gv="@firebase/storage",Kv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="storage";function Qv(r,t,n){return r=Ve(r),VN(r,t,n)}function Yv(r){return r=Ve(r),kN(r)}function Xv(r){return r=Ve(r),UN(r)}function jc(r,t){return r=Ve(r),zN(r,t)}function qN(r=jm(),t){r=Ve(r);const s=yh(r,U1).getImmediate({identifier:t}),l=eE("storage");return l&&HN(s,...l),s}function HN(r,t,n,s={}){BN(r,t,n,s)}function FN(r,{instanceIdentifier:t}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new kp(n,s,l,t,Ws)}function GN(){Qs(new ns(U1,FN,"PUBLIC").setMultipleInstances(!0)),Ci(Gv,Kv,""),Ci(Gv,Kv,"esm2020")}GN();const KN={projectId:"okkorea-jobboard-4268a343",appId:"1:883686671985:web:78923860ca27f5c3dd3dd0",storageBucket:"okkorea-jobboard-4268a343.firebasestorage.app",apiKey:"AIzaSyBraO6SJ0fZ9G2n3v2PLFkGdhsmIruv70w",authDomain:"okkorea-jobboard-4268a343.firebaseapp.com",messagingSenderId:"883686671985"},Up=oE(KN),zc=hx(Up),nm=OC(Up),Bc=qN(Up),QN=new rr,im=[{label:" (Intro)",href:"intro",subs:[{label:"",href:"intro-department"},{label:"",href:"intro-org"}]},{label:" (Majors)",href:"majors",subs:[{label:"D-4-1",href:"major-d41"},{label:"D-4-7",href:"major-d47"},{label:"D-2-1",href:"major-d21"}]},{label:"International Student",href:"international",subs:[{label:"Admission Information",href:"admission-info"},{label:"Notice",href:"intl-notice"},{label:"PR Brochure",href:"intl-brochure"},{label:"PR Video",href:"intl-video"}]},{label:"Community",href:"community",subs:[{label:"Notice",href:"board-notice"},{label:"School News",href:"board-news"},{label:"Photo Gallery",href:"board-gallery"},{label:"Video Gallery",href:"board-video"},{label:"Q&A",href:"board-qna"}]}],rm=[{title:"2026     ",date:"2026.01.22"},{title:"2025    () ",date:"2025.11.17"},{title:"    ",date:"2025.11.05"},{title:"2025    ()  ",date:"2025.05.29"}],sm=[{title:"' '    ",date:"2024.11.19"},{title:' 6  "   " ',date:"2024.10.22"},{title:"   ",date:"2024.10.08"},{title:"STS    ",date:"2024.09.13"}],$v=[{src:"https://images.unsplash.com/photo-1523580494863-6f3031224c94?w=800&q=80",caption:"Global Campus Exchange"},{src:"https://images.unsplash.com/photo-1531482615713-2afd69097998?w=800&q=80",caption:"International Seminar"},{src:"https://images.unsplash.com/photo-1524178232363-1fb2b075b655?w=800&q=80",caption:"Autumn Festival"},{src:"https://images.unsplash.com/photo-1564981797816-1043664bf78d?w=800&q=80",caption:"Student Career Talk"},{src:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=800&q=80",caption:"Library Study Session"},{src:"https://images.unsplash.com/photo-1517486808906-6ca8b3f04846?w=800&q=80",caption:"Group Project Collaboration"},{src:"https://images.unsplash.com/photo-1522071823991-b99c123ad179?w=800&q=80",caption:"IT Lab Workshop"},{src:"https://images.unsplash.com/photo-1492538368677-f6e0afe31dcc?w=800&q=80",caption:"Campus Main Building"}];function YN(){const[r,t]=Le.useState(null),[n,s]=Le.useState(null),[l,u]=Le.useState(!1),[d,p]=Le.useState(!1),[_,y]=Le.useState("home"),[b,w]=Le.useState(!1);Le.useEffect(()=>EI(nm,async W=>{if(t(W),W){const lt=await Cx(Cm(zc,"users",W.uid));lt.exists()&&lt.data().role==="admin"?w(!0):w(!1)}else w(!1)}),[]),Le.useEffect(()=>{const H=()=>p(window.scrollY>10);return window.addEventListener("scroll",H),()=>window.removeEventListener("scroll",H)},[]);const N=async()=>{try{await BI(nm,QN)}catch(H){console.error("Login failed:",H)}},F=async()=>{await TI(nm)},Z=({activeView:H})=>{const W=im.find(st=>st.href===H||st.subs.some(yt=>yt.href===H));if(!W)return T.jsx("div",{className:"p-20 text-center",children:"Page Not Found"});const lt=W.subs.find(st=>st.href===H)||W.subs[0];return T.jsxs("div",{className:"animate-in fade-in duration-700",children:[T.jsxs("div",{className:"relative h-[490px] md:h-[588px] overflow-hidden",children:[T.jsx("img",{src:"https://images.unsplash.com/photo-1541339907198-e08756eaa43f?w=1600&q=80",className:"w-full h-full object-cover grayscale-[0.2] contrast-125 transition-transform duration-[10s] hover:scale-110",alt:""}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 to-transparent flex items-center justify-center",children:T.jsx("div",{className:"text-center",children:T.jsx("h2",{className:"text-white text-3xl font-black brand-font drop-shadow-lg tracking-widest",children:" !     "})})})]}),T.jsx("div",{className:"max-w-[1240px] mx-auto px-4 py-16",children:T.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[T.jsx("aside",{className:"w-full md:w-[280px] shrink-0",children:T.jsxs("div",{className:"sticky top-24 rounded-2xl overflow-hidden shadow-2xl border border-gray-100",children:[T.jsxs("div",{className:"bg-ukp p-8 text-center",children:[T.jsx("p",{className:"text-white/60 text-xs font-bold uppercase tracking-widest mb-1 italic",children:"KYUNGNAM COLLEGE"}),T.jsx("h3",{className:"text-white text-2xl font-black brand-font",children:W.label.split(" ")[0]})]}),T.jsx("nav",{className:"bg-white",children:W.subs.map((st,yt)=>T.jsxs("button",{onClick:()=>y(st.href),className:`w-full flex items-center justify-between px-6 py-4 text-sm font-bold border-b border-gray-50 last:border-0 transition-all cursor-pointer group
                          ${H===st.href?"bg-gray-100 text-ukp pl-8":"text-gray-500 hover:bg-gray-50 hover:text-ukp hover:pl-8"}`,children:[st.label,T.jsx("svg",{className:`w-4 h-4 transition-transform group-hover:translate-x-1 ${H===st.href?"translate-x-1":"opacity-30"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]},yt))})]})}),T.jsxs("main",{className:"flex-grow",children:[T.jsxs("div",{className:"mb-10 pb-6 border-b-2 border-ukp/10",children:[T.jsx("h1",{className:"text-4xl font-black text-gray-900 brand-font tracking-tight",children:lt.label}),T.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-400 mt-3 font-bold",children:[T.jsx("span",{children:"HOME"}),T.jsx("span",{className:"text-gray-300",children:"/"}),T.jsx("span",{children:W.label.toUpperCase()}),T.jsx("span",{className:"text-gray-300",children:"/"}),T.jsx("span",{className:"text-ukp",children:lt.label.toUpperCase()})]})]}),T.jsx(tt,{type:H,title:lt.label})]})]})})]})},tt=({type:H,title:W})=>{var Nt;const lt=H==="board-gallery",st=H==="board-video"||H==="intl-video",yt=H==="admission-info",jt=H==="intl-brochure",It=H==="intro-department"||H==="board-notice"||H==="board-news",[I,S]=Le.useState([]),[C,V]=Le.useState(!1),[D,k]=Le.useState("list"),[R,te]=Le.useState(null),[ue,G]=Le.useState(""),[nt,ht]=Le.useState(""),[Ct,Bt]=Le.useState(null),[O,Y]=Le.useState(null),[it,at]=Le.useState(!1);Le.useEffect(()=>{if(!It)return;V(!0);const mt=Sx(gv(zc,H),Rx("createdAt","desc")),wt=Ox(mt,Ee=>{const ae=Ee.docs.map(Pi=>({id:Pi.id,...Pi.data()}));S(ae),V(!1)},Ee=>{console.error("Error fetching posts:",Ee),V(!1)});return()=>wt()},[H,It]);const _t=async()=>{if(!r||!b){alert("    .");return}if(!ue.trim()||!nt.trim()){alert("  .");return}at(!0);try{let mt="",wt="",Ee="";if(Ct){const ae=jc(Bc,`posts/${H}/${Date.now()}_${Ct.name}`);await Qv(ae,Ct),mt=await Yv(ae)}if(O){const ae=jc(Bc,`posts/${H}/${Date.now()}_${O.name}`);await Qv(ae,O),wt=await Yv(ae),Ee=O.name}await Dx(gv(zc,H),{title:ue,content:nt,authorName:r.displayName,authorId:r.uid,authorPhoto:r.photoURL,imageUrl:mt,fileUrl:wt,fileName:Ee,createdAt:bx()}),G(""),ht(""),Bt(null),Y(null),k("list")}catch(mt){console.error("Error adding document: ",mt),alert("  .")}finally{at(!1)}},At=async(mt,wt,Ee)=>{if(b&&window.confirm(" ?"))try{if(await Nx(Cm(zc,H,mt)),wt)try{const ae=jc(Bc,wt);await Xv(ae)}catch(ae){console.error("Error deleting image:",ae)}if(Ee)try{const ae=jc(Bc,Ee);await Xv(ae)}catch(ae){console.error("Error deleting file:",ae)}(R==null?void 0:R.id)===mt&&(k("list"),te(null)),alert(".")}catch(ae){console.error("Error deleting post:",ae),alert(" .")}};return yt?T.jsxs("div",{className:"max-w-[1000px] mx-auto px-4 py-16 animate-in fade-in slide-in-from-bottom-4 duration-700",children:[T.jsxs("div",{className:"flex items-center justify-between mb-12 border-b-2 border-ukp pb-6",children:[T.jsx("h2",{className:"text-4xl font-black text-gray-900 brand-font tracking-tight",children:W}),T.jsxs("button",{onClick:()=>y("home"),className:"text-gray-400 hover:text-ukp flex items-center gap-2 transition-all font-bold text-sm bg-gray-50 px-4 py-2 rounded-full shadow-sm",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"BACK TO HOME"]})]}),T.jsxs("div",{className:"grid gap-12",children:[T.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-2xl border border-gray-100 p-10 relative overflow-hidden group",children:[T.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-red-50 rounded-full blur-3xl -z-0 opacity-50 group-hover:scale-110 transition-transform"}),T.jsxs("div",{className:"relative z-10",children:[T.jsx("span",{className:"inline-block px-4 py-1.5 bg-ukp/10 text-ukp rounded-full text-xs font-black mb-4 tracking-widest uppercase",children:"Step 01"}),T.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-6",children:"   (Admission Guide)"}),T.jsxs("div",{className:"space-y-4 text-gray-600 leading-relaxed",children:[T.jsxs("p",{className:"flex items-start gap-3",children:[T.jsx("span",{className:"w-1.5 h-1.5 bg-ukp rounded-full mt-2 shrink-0"}),"         ."]}),T.jsxs("p",{className:"flex items-start gap-3",children:[T.jsx("span",{className:"w-1.5 h-1.5 bg-ukp rounded-full mt-2 shrink-0"}),"     365  ."]})]}),T.jsxs("div",{className:"mt-8 flex gap-4",children:[T.jsx("button",{className:"px-8 py-3 bg-ukp text-white rounded-2xl font-bold shadow-lg hover:shadow-ukp/30 transition-all hover:-translate-y-1",children:"  (PDF)"}),T.jsx("button",{className:"px-8 py-3 bg-gray-900 text-white rounded-2xl font-bold shadow-lg hover:bg-black transition-all hover:-translate-y-1",children:"  "})]})]})]}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[T.jsxs("div",{className:"bg-[#003049] rounded-[2.5rem] p-10 text-white shadow-xl",children:[T.jsx("h4",{className:"text-xl font-bold mb-4",children:"Required Documents"}),T.jsxs("ul",{className:"space-y-3 text-sm text-white/70",children:[T.jsx("li",{children:" Passport & ID Card"}),T.jsx("li",{children:" Graduation Certificate (Apostille)"}),T.jsx("li",{children:" Bank Balance Certificate"}),T.jsx("li",{children:" TOPIK Certificate (if applicable)"})]})]}),T.jsxs("div",{className:"bg-white rounded-[2.5rem] p-10 border border-gray-100 shadow-xl flex flex-col justify-center items-center text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-green-50 rounded-full flex items-center justify-center text-green-600 mb-4",children:T.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})})}),T.jsx("h4",{className:"text-xl font-bold text-gray-800 mb-2",children:"WhatsApp / WeChat"}),T.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"    ."}),T.jsx("span",{className:"text-ukp font-black text-lg",children:"+82-10-1234-5678"})]})]})]})]}):jt?T.jsxs("div",{className:"max-w-[1200px] mx-auto px-4 py-16 text-center animate-in zoom-in-95 duration-500",children:[T.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-4 brand-font",children:W}),T.jsx("p",{className:"text-gray-500 mb-12",children:"UKP   ."}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[1,2].map(mt=>T.jsxs("div",{className:"group cursor-pointer",children:[T.jsxs("div",{className:"relative aspect-[1/1.414] bg-gray-200 rounded-3xl overflow-hidden shadow-2xl border border-gray-100 mb-6",children:[T.jsx("img",{src:`https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=800&q=80&v=${mt}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700",alt:""}),T.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:T.jsx("button",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center text-ukp shadow-2xl transform scale-50 group-hover:scale-100 transition-transform duration-500",children:T.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a2 2 0 002 2h12a2 2 0 002-2v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})})})]}),T.jsxs("h4",{className:"text-xl font-bold text-gray-800",children:["2026 UKP PR Brochure Vol.",mt]}),T.jsx("p",{className:"text-ukp font-bold mt-2",children:"Download PDF"})]},mt))}),T.jsx("button",{onClick:()=>y("home"),className:"mt-16 px-10 py-4 bg-gray-100 text-gray-600 rounded-full font-bold hover:bg-ukp hover:text-white transition-all",children:"Back to Home"})]}):D==="write"?T.jsxs("div",{className:"max-w-[800px] mx-auto px-4 py-16 animate-in fade-in slide-in-from-bottom-4",children:[T.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-8 brand-font",children:""}),T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),T.jsx("input",{type:"text",value:ue,onChange:mt=>G(mt.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-ukp focus:border-transparent outline-none transition-all",placeholder:" "})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:""}),T.jsx("textarea",{value:nt,onChange:mt=>ht(mt.target.value),className:"w-full h-64 px-4 py-3 rounded-xl border border-gray-200 focus:ring-2 focus:ring-ukp focus:border-transparent outline-none transition-all resize-none",placeholder:" "})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 italic",children:"   (JPG, PNG)"}),T.jsx("input",{type:"file",accept:"image/*",onChange:mt=>{var wt;return Bt(((wt=mt.target.files)==null?void 0:wt[0])||null)},className:"w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-ukp/10 file:text-ukp hover:file:bg-ukp/20 transition-all cursor-pointer"})]}),T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 italic",children:"   (DOCX, HWP, PDF, PPT)"}),T.jsx("input",{type:"file",onChange:mt=>{var wt;return Y(((wt=mt.target.files)==null?void 0:wt[0])||null)},className:"w-full text-xs text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-gray-100 file:text-gray-600 hover:file:bg-gray-200 transition-all cursor-pointer"})]})]}),T.jsxs("div",{className:"flex gap-4",children:[T.jsx("button",{onClick:_t,disabled:it,className:`flex-grow py-4 text-white rounded-2xl font-bold shadow-lg transition-all 
                  ${it?"bg-gray-400 cursor-wait":"bg-ukp hover:shadow-ukp/30 hover:-translate-y-1"}`,children:it?" ...":""}),T.jsx("button",{onClick:()=>k("list"),className:"px-8 py-4 bg-gray-100 text-gray-600 rounded-2xl font-bold hover:bg-gray-200 transition-all",children:""})]})]})]}):D==="read"&&R?T.jsxs("div",{className:"max-w-[800px] mx-auto px-4 py-16 animate-in fade-in",children:[T.jsxs("div",{className:"mb-8 pb-6 border-b border-gray-100",children:[T.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-4 brand-font",children:R.title}),T.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-400 font-bold",children:[T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("img",{src:R.authorPhoto||"",alt:"",className:"w-6 h-6 rounded-full border border-gray-100"}),T.jsx("span",{children:R.authorName})]}),T.jsx("span",{children:((Nt=R.createdAt)==null?void 0:Nt.toDate().toLocaleDateString())||" "})]})]}),T.jsxs("div",{className:"prose prose-lg max-w-none text-gray-700 mb-12 whitespace-pre-wrap",children:[R.content,R.imageUrl&&T.jsx("div",{className:"mt-10 rounded-3xl overflow-hidden shadow-2xl border border-gray-100",children:T.jsx("img",{src:R.imageUrl,alt:"attached",className:"w-full h-auto"})}),R.fileUrl&&T.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-2xl border border-gray-100 flex items-center justify-between group hover:bg-white hover:shadow-xl transition-all",children:[T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-sm flex items-center justify-center text-ukp",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-sm font-bold text-gray-800",children:R.fileName||""}),T.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-black mt-1",children:"ATTACHED FILE"})]})]}),T.jsx("a",{href:R.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"px-6 py-2 bg-white border border-gray-200 rounded-full text-xs font-black text-ukp hover:bg-ukp hover:text-white transition-all shadow-sm",children:"DOWNLOAD"})]})]}),T.jsxs("div",{className:"flex items-center justify-between gap-4",children:[T.jsxs("button",{onClick:()=>k("list"),className:"px-8 py-3 bg-gray-100 text-gray-600 rounded-full font-bold hover:bg-ukp hover:text-white transition-all flex items-center gap-2",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),""]}),b&&T.jsxs("button",{onClick:()=>At(R.id,R.imageUrl,R.fileUrl),className:"px-8 py-3 bg-red-50 text-red-500 rounded-full font-bold hover:bg-red-500 hover:text-white transition-all flex items-center gap-2",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),""]})]})]}):T.jsxs("div",{className:"max-w-[1200px] mx-auto px-4 py-16 animate-in fade-in duration-500",children:[T.jsxs("div",{className:"flex items-center justify-between mb-10 border-b-2 border-ukp pb-5",children:[T.jsx("h2",{className:"text-3xl font-bold text-gray-900 brand-font",children:W}),T.jsxs("div",{className:"flex gap-3",children:[r&&b&&It&&T.jsxs("button",{onClick:()=>k("write"),className:"bg-ukp text-white px-6 py-2 rounded-full text-sm font-bold shadow-lg hover:shadow-ukp/30 transition-all flex items-center gap-2",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),""]}),T.jsxs("button",{onClick:()=>y("home"),className:"text-gray-500 hover:text-ukp flex items-center gap-1 transition-colors text-sm font-medium bg-gray-50 px-4 py-2 rounded-full",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})})," "]})]})]}),lt?T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:$v.map((mt,wt)=>T.jsxs("div",{className:"group cursor-pointer",children:[T.jsx("div",{className:"aspect-[4/3] overflow-hidden rounded-2xl shadow-lg mb-4 border border-gray-100",children:T.jsx("img",{src:mt.src,alt:"",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),T.jsx("p",{className:"font-semibold text-gray-800 text-lg group-hover:text-ukp transition-colors",children:mt.caption}),T.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"2026.02.26"})]},wt))}):st?T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[1,2,3,4].map(mt=>T.jsxs("div",{className:"group cursor-pointer",children:[T.jsxs("div",{className:"relative aspect-video bg-gray-900 rounded-3xl overflow-hidden shadow-2xl border border-gray-800",children:[T.jsx("img",{src:`https://images.unsplash.com/photo-1516280440614-37939bbacd81?w=800&q=80&v=${mt}`,alt:"",className:"w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700"}),T.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:T.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center text-white group-hover:scale-125 group-hover:bg-ukp transition-all duration-300",children:T.jsx("svg",{className:"w-8 h-8 fill-current translate-x-1",viewBox:"0 0 24 24",children:T.jsx("path",{d:"M8 5v14l11-7z"})})})})]}),T.jsxs("h4",{className:"mt-5 text-xl font-bold text-gray-800 group-hover:text-ukp transition-colors",children:[H==="intl-video"?"UKP International PR":"UKP   ","  #",mt]}),T.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"   "})]},mt))}):It?T.jsx("div",{className:"bg-white rounded-3xl shadow-xl border border-gray-100 overflow-hidden",children:C?T.jsx("div",{className:"p-20 text-center text-gray-400 font-bold animate-pulse",children:"  ..."}):I.length===0?T.jsx("div",{className:"p-20 text-center text-gray-400 font-bold",children:"  ."}):T.jsxs("table",{className:"w-full text-left border-collapse",children:[T.jsx("thead",{children:T.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100 text-gray-400 text-xs font-bold uppercase tracking-wider",children:[T.jsx("th",{className:"px-8 py-4 w-20",children:"No"}),T.jsx("th",{className:"px-8 py-4",children:"Title"}),T.jsx("th",{className:"px-8 py-4 w-32",children:"Date"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-50",children:I.map((mt,wt)=>{var Ee;return T.jsxs("tr",{onClick:()=>{te(mt),k("read")},className:"hover:bg-gray-50 transition-colors group cursor-pointer",children:[T.jsx("td",{className:"px-8 py-5 text-sm text-gray-400",children:I.length-wt}),T.jsx("td",{className:"px-8 py-5 text-[15px] font-medium text-gray-700 group-hover:text-ukp",children:mt.title}),T.jsx("td",{className:"px-8 py-5 text-sm text-gray-400 font-mono",children:((Ee=mt.createdAt)==null?void 0:Ee.toDate().toLocaleDateString())||"N/A"})]},mt.id)})})]})}):T.jsx("div",{className:"p-20 text-center text-gray-400 font-bold",children:"  ."})]})};return T.jsxs("div",{className:"min-h-screen bg-white",children:[T.jsx("div",{className:"bg-white border-b border-gray-200",children:T.jsxs("div",{className:"max-w-[1200px] mx-auto px-4 h-12 flex items-center justify-between",children:[T.jsxs("a",{href:"https://ukp.ac.kr/home",className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-full border border-gray-300 text-xs text-gray-600 hover:bg-gray-50 transition",children:[T.jsx("span",{className:"w-5 h-5 rounded-full bg-hover text-white flex items-center justify-center text-[10px] font-bold",children:"K"})," "]}),T.jsxs("button",{onClick:()=>y("home"),className:"flex items-center gap-2 brand-font hover:opacity-80 transition cursor-pointer",children:[T.jsx("span",{className:"text-ukp font-bold text-2xl tracking-tight",children:"UKP"}),T.jsx("span",{className:"text-black font-semibold text-lg",children:" "})]}),T.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[r?T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("img",{src:r.photoURL||"",alt:"",className:"w-7 h-7 rounded-full border border-gray-200"}),T.jsx("span",{className:"text-xs text-gray-700 hidden sm:inline",children:r.displayName}),T.jsxs("button",{onClick:F,className:"flex items-center gap-1 hover:text-[#C1121F] transition cursor-pointer",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6a2.25 2.25 0 00-2.25 2.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15M18 12H9m0 0l3-3m-3 3l3 3"})}),""]})]}):T.jsxs("button",{onClick:N,className:"flex items-center gap-1 hover:text-[#003049] transition cursor-pointer",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0"})}),""]}),T.jsxs("a",{href:"#",className:"flex items-center gap-1 hover:text-[#003049] transition",children:[T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"})}),""]})]})]})}),T.jsxs("nav",{className:`sticky top-0 z-50 transition-shadow ${d?"shadow-md":""}`,children:[T.jsx("div",{className:"hidden md:block bg-white border-b border-gray-200",children:T.jsx("div",{className:"max-w-[1200px] mx-auto",children:T.jsx("div",{className:"grid grid-cols-4",onMouseLeave:()=>s(null),children:im.map((H,W)=>T.jsxs("div",{className:"relative",onMouseEnter:()=>s(W),children:[T.jsx("button",{onClick:()=>{H.subs.length>0?y(H.subs[0].href):y(H.href)},className:`w-full block text-center py-5 text-[15px] font-medium border-r border-gray-100 last:border-0 transition-all cursor-pointer
                      ${n===W?"bg-hover text-white":"text-gray-700 hover:text-hover"}`,children:H.label}),n===W&&T.jsx("div",{className:"absolute top-full left-0 w-full bg-white border border-t-0 border-gray-200 shadow-lg z-50",children:H.subs.map((lt,st)=>T.jsx("button",{onClick:()=>{y(lt.href),s(null)},className:"w-full text-left block px-6 py-3 text-sm text-gray-600 hover:bg-[#FDF0D5] hover:text-hover transition-colors border-b border-gray-50 last:border-0 cursor-pointer",children:lt.label},st))})]},W))})})}),T.jsxs("div",{className:"md:hidden bg-[#003049] px-4 h-14 flex items-center justify-between",children:[T.jsx("button",{onClick:()=>y("home"),className:"text-white font-bold brand-font cursor-pointer",children:"UKP"}),T.jsx("button",{onClick:()=>u(!l),className:"text-white cursor-pointer",children:T.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l?T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),l&&T.jsxs("div",{className:"md:hidden bg-white border-b border-gray-200 shadow-lg max-h-[70vh] overflow-y-auto",children:[im.map((H,W)=>T.jsxs("div",{className:"border-b border-gray-100",children:[T.jsxs("button",{onClick:()=>s(n===W?null:W),className:"w-full flex items-center justify-between px-5 py-4 text-sm font-medium text-gray-700 cursor-pointer",children:[H.label,T.jsx("svg",{className:`w-4 h-4 transition-transform ${n===W?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),n===W&&T.jsx("div",{className:"bg-gray-50",children:H.subs.map((lt,st)=>T.jsx("button",{onClick:()=>{y(lt.href),u(!1)},className:"w-full text-left block px-8 py-3 text-sm text-gray-600 hover:text-[#C1121F] cursor-pointer",children:lt.label},st))})]},W)),T.jsx("div",{className:"p-5 border-t border-gray-100 flex flex-col gap-3",children:r?T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"flex items-center gap-3 px-3 py-2 bg-gray-50 rounded-xl",children:[T.jsx("img",{src:r.photoURL||"",className:"w-8 h-8 rounded-full border border-gray-200",alt:""}),T.jsx("span",{className:"text-sm font-medium text-gray-700",children:r.displayName})]}),T.jsx("button",{onClick:F,className:"w-full py-3 bg-gray-100 text-gray-600 rounded-xl text-sm font-bold cursor-pointer",children:"Logout"})]}):T.jsx("button",{onClick:N,className:"w-full py-3 bg-ukp text-white rounded-xl text-sm font-bold shadow-lg cursor-pointer",children:"Login with Google"})})]})]}),_==="home"?T.jsxs(T.Fragment,{children:[T.jsxs("section",{className:"relative h-[637px] md:h-[764px] overflow-hidden",children:[T.jsx("img",{src:"https://images.unsplash.com/photo-1523240795612-9a054b0db644?w=1600&q=80",alt:"Students",className:"w-full h-full object-cover transition-transform duration-[10s] hover:scale-110"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/60 via-black/20 to-transparent"}),T.jsx("div",{className:"absolute inset-0 flex items-start justify-start p-12 md:p-32",children:T.jsxs("div",{className:"text-left mt-[-52px] md:mt-[-4px]",children:[T.jsxs("h1",{className:"text-4xl md:text-6xl font-black text-white leading-tight uppercase brand-font tracking-tighter",style:{textShadow:"0 2px 0 rgba(0,0,0,0.4), 0 4px 8px rgba(0,0,0,0.3), 0 8px 20px rgba(0,0,0,0.2)"},children:["Empowering ",T.jsx("span",{className:"text-[#7f0101] transition-all duration-500 hover:text-[#ff4444] hover:drop-shadow-[0_0_25px_rgba(255,68,68,0.8)] cursor-default",children:"Global"})," Talents"]}),T.jsx("p",{className:"text-xl md:text-3xl text-white font-bold mt-4 brand-font opacity-95",style:{textShadow:"0 2px 0 rgba(0,0,0,0.3), 0 4px 10px rgba(0,0,0,0.3)"},children:"   "})]})})]}),T.jsx("section",{className:"bg-[#0f0e1c] pt-[20px] pb-12 relative z-20",children:T.jsx("div",{className:"max-w-[1240px] mx-auto px-4 relative z-10",children:T.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:[T.jsxs("div",{className:"relative group rounded-[2.5rem] bg-gradient-to-br from-white to-gray-50 p-6 shadow-2xl border border-gray-100 overflow-hidden transition-all duration-500 hover:-translate-y-6 hover:shadow-[0_0_50px_rgba(255,191,0,0.4),0_0_20px_rgba(255,255,255,0.6)]",children:[T.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-yellow-50 rounded-full blur-3xl -z-10 transition-transform group-hover:scale-150 opacity-40"}),T.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("div",{className:"w-14 h-14 bg-red-50 rounded-2xl flex items-center justify-center text-ukp shadow-inner transition-transform group-hover:rotate-12 group-hover:shadow-[0_0_20px_rgba(255,191,0,0.3)]",children:T.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 002 2 2.5 2.5 0 012.5 2.5v.658a2.5 2.5 0 00.088.658l.963 2.408M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),T.jsx("h3",{className:"text-xl font-black text-gray-900 brand-font tracking-tight",children:" "})]}),T.jsxs("div",{className:"space-y-4 flex-grow",children:[T.jsxs("button",{onClick:()=>y("board-notice"),className:"w-full text-left flex items-center justify-between group/link p-4 rounded-xl hover:bg-yellow-50 transition-all cursor-pointer",children:[T.jsx("span",{className:"text-base font-bold text-gray-700 group-hover/link:text-ukp",children:" "}),T.jsx("span",{className:"text-gray-300 group-hover/link:translate-x-1 transition-transform",children:""})]}),T.jsxs("button",{onClick:()=>y("board-notice"),className:"w-full text-left flex items-center justify-between group/link p-4 rounded-xl hover:bg-yellow-50 transition-all cursor-pointer",children:[T.jsx("span",{className:"text-base font-bold text-gray-700 group-hover/link:text-ukp",children:""}),T.jsx("span",{className:"text-gray-300 group-hover/link:translate-x-1 transition-transform",children:""})]})]})]})]}),T.jsxs("div",{className:"relative group rounded-[2.5rem] bg-gradient-to-br from-[#F8FAFC] to-[#F1F5F9] p-6 shadow-2xl border border-gray-100 overflow-hidden transition-all duration-500 hover:-translate-y-6 hover:shadow-[0_0_50px_rgba(255,191,0,0.4),0_0_20px_rgba(255,255,255,0.6)]",children:[T.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-full blur-3xl -z-10 transition-transform group-hover:scale-150 opacity-40"}),T.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("div",{className:"w-14 h-14 bg-blue-50 rounded-2xl flex items-center justify-center text-[#003049] shadow-inner transition-transform group-hover:-rotate-12 group-hover:shadow-[0_0_20px_rgba(255,191,0,0.2)]",children:T.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5h12M9 3v2m1.048 9.5A18.022 18.022 0 016.412 9m6.088 9h7M11 21l5-10 5 10M12.751 5C11.783 11.37 9.198 14.73 5.63 18.5"})})}),T.jsx("h3",{className:"text-xl font-black text-gray-900 brand-font tracking-tight",children:"K-"})]}),T.jsxs("div",{className:"space-y-4 flex-grow",children:[T.jsxs("button",{onClick:()=>y("major-d41"),className:"w-full text-left flex items-center justify-between group/link p-4 rounded-xl hover:bg-white transition-all cursor-pointer",children:[T.jsx("span",{className:"text-base font-bold text-gray-700 group-hover/link:text-[#003049]",children:"UKP "}),T.jsx("span",{className:"text-gray-300 group-hover/link:translate-x-1 transition-transform",children:""})]}),T.jsxs("button",{onClick:()=>y("major-d47"),className:"w-full text-left flex items-center justify-between group/link p-4 rounded-xl hover:bg-white transition-all cursor-pointer",children:[T.jsx("span",{className:"text-base font-bold text-gray-700 group-hover/link:text-[#003049]",children:" "}),T.jsx("span",{className:"text-gray-300 group-hover/link:translate-x-1 transition-transform",children:""})]})]})]})]}),T.jsxs("div",{className:"relative group rounded-[2.5rem] bg-gradient-to-br from-[#FFF7ED] to-[#FFEDD5] p-6 shadow-2xl border border-orange-100 overflow-hidden transition-all duration-500 hover:-translate-y-6 hover:shadow-[0_0_50px_rgba(255,191,0,0.4),0_0_20px_rgba(255,255,255,0.6)]",children:[T.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-100 rounded-full blur-3xl -z-10 transition-transform group-hover:scale-150 opacity-40"}),T.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[T.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[T.jsx("div",{className:"w-14 h-14 bg-orange-100 rounded-2xl flex items-center justify-center text-orange-600 shadow-inner transition-transform group-hover:rotate-6 group-hover:shadow-[0_0_20px_rgba(255,191,0,0.2)]",children:T.jsx("svg",{className:"w-7 h-7",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2 2v2m4 6h.01M5 20h14a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),T.jsx("h3",{className:"text-xl font-black text-gray-900 brand-font tracking-tight",children:" "})]}),T.jsxs("div",{className:"space-y-4 flex-grow",children:[T.jsxs("button",{onClick:()=>y("major-d21"),className:"w-full text-left flex items-center justify-between group/link p-4 rounded-xl hover:bg-white transition-all cursor-pointer",children:[T.jsx("span",{className:"text-base font-bold text-gray-700 group-hover/link:text-orange-600",children:" "}),T.jsx("span",{className:"text-gray-300 group-hover/link:translate-x-1 transition-transform",children:""})]}),T.jsxs("button",{onClick:()=>y("admission-info"),className:"w-full text-left flex items-center justify-between group/link p-4 rounded-xl hover:bg-white transition-all cursor-pointer",children:[T.jsx("span",{className:"text-base font-bold text-gray-700 group-hover/link:text-orange-600",children:" "}),T.jsx("span",{className:"text-gray-300 group-hover/link:translate-x-1 transition-transform",children:""})]})]})]})]}),T.jsxs("button",{onClick:()=>y("admission-info"),className:"w-full bento-item rounded-[2.5rem] bg-gradient-to-br from-[#780000] to-[#9A0000] p-6 shadow-2xl border border-white/10 relative overflow-hidden group transition-all duration-500 hover:scale-[1.05] hover:shadow-[0_0_60px_rgba(255,191,0,0.5),0_0_30px_rgba(255,255,255,0.4)] flex flex-col justify-center items-center text-center cursor-pointer",children:[T.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full blur-3xl transition-all duration-700 group-hover:scale-150 group-hover:bg-white/20"}),T.jsxs("div",{className:"relative z-10",children:[T.jsx("div",{className:"w-16 h-16 bg-white/10 rounded-3xl flex items-center justify-center text-white mb-6 mx-auto backdrop-blur-md group-hover:rotate-12 transition-transform shadow-lg group-hover:shadow-[0_0_30px_rgba(255,191,0,0.4)]",children:T.jsx("svg",{className:"w-10 h-10",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 017.843 4.582M12 3a8.997 8.997 0 00-7.843 4.582m15.686 0A11.953 11.953 0 0112 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0121 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0112 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 013 12c0-1.605.42-3.113 1.157-4.418"})})}),T.jsx("p",{className:"text-white font-black text-xl leading-tight mb-2 brand-font uppercase tracking-wider",children:"Admission Info"}),T.jsx("p",{className:"text-white/80 text-sm mb-6 drop-shadow",children:"    "}),T.jsxs("span",{className:"inline-flex items-center gap-2 px-8 py-3 bg-white text-ukp rounded-full text-xs font-black shadow-[0_5px_15px_rgba(0,0,0,0.1)] transform group-hover:scale-105 transition-all",children:["Learn More",T.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]})]})})}),T.jsx("section",{className:"bg-[#0f0e1c] pb-24",children:T.jsx("div",{className:"max-w-[1200px] mx-auto px-4",children:T.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-1",children:$v.map((H,W)=>T.jsxs("div",{className:"relative group overflow-hidden aspect-[4/3] cursor-pointer",onClick:()=>y("board-gallery"),children:[T.jsx("img",{src:H.src,alt:H.caption,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),T.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),T.jsx("p",{className:"absolute bottom-0 left-0 right-0 bg-black/60 text-white text-xs px-4 py-3 translate-y-full group-hover:translate-y-0 transition-transform duration-300",children:H.caption})]},W))})})}),T.jsx("section",{className:"py-16 bg-[#FDF0D5]/30",children:T.jsx("div",{className:"max-w-[1200px] mx-auto px-4",children:T.jsxs("div",{className:"grid md:grid-cols-2 gap-10",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center justify-between mb-6 border-b-2 border-[#003049] pb-3",children:[T.jsx("h2",{className:"text-xl font-bold text-[#003049] brand-font",children:""}),T.jsx("button",{onClick:()=>y("board-notice"),className:"text-gray-400 hover:text-[#C1121F] transition cursor-pointer",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),T.jsxs("div",{className:"mb-4 cursor-pointer",onClick:()=>y("board-notice"),children:[T.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-1 hover:text-[#C1121F] transition",children:rm[0].title}),T.jsx("p",{className:"text-xs text-gray-400",children:rm[0].date})]}),T.jsx("ul",{className:"space-y-3",children:rm.slice(1).map((H,W)=>T.jsxs("li",{className:"flex items-center justify-between text-sm group cursor-pointer",onClick:()=>y("board-notice"),children:[T.jsxs("span",{className:"text-gray-600 group-hover:text-[#C1121F] transition truncate pr-4",children:[" ",H.title]}),T.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:H.date})]},W))})]}),T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center justify-between mb-6 border-b-2 border-[#003049] pb-3",children:[T.jsx("h2",{className:"text-xl font-bold text-[#003049] brand-font",children:"  News"}),T.jsx("button",{onClick:()=>y("board-news"),className:"text-gray-400 hover:text-[#C1121F] transition cursor-pointer",children:T.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:T.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]}),T.jsxs("div",{className:"mb-4 cursor-pointer",onClick:()=>y("board-news"),children:[T.jsx("h3",{className:"text-base font-semibold text-gray-800 mb-1 hover:text-[#C1121F] transition",children:sm[0].title}),T.jsx("p",{className:"text-xs text-gray-400",children:sm[0].date})]}),T.jsx("ul",{className:"space-y-3",children:sm.slice(1).map((H,W)=>T.jsxs("li",{className:"flex items-center justify-between text-sm group cursor-pointer",onClick:()=>y("board-news"),children:[T.jsxs("span",{className:"text-gray-600 group-hover:text-[#C1121F] transition truncate pr-4",children:[" ",H.title]}),T.jsx("span",{className:"text-xs text-gray-400 whitespace-nowrap",children:H.date})]},W))})]})]})})})]}):T.jsx(Z,{activeView:_}),T.jsx("footer",{className:"bg-[#0f0e1c] text-gray-300 pt-10 pb-6",children:T.jsxs("div",{className:"max-w-[1200px] mx-auto px-4",children:[T.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between gap-6 mb-6",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:"w-12 h-12 bg-white rounded flex items-center justify-center",children:T.jsx("span",{className:"text-[#0f0e1c] font-bold text-xl brand-font",children:"UKP"})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-white font-semibold text-sm",children:""}),T.jsx("p",{className:"text-xs text-gray-400",children:"Gimpo University"})]})]}),T.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[T.jsx("a",{href:"#",className:"hover:text-white transition",children:""}),T.jsx("a",{href:"#",className:"text-[#C1121F] font-semibold hover:text-white transition",children:""}),T.jsx("a",{href:"#",className:"hover:text-white transition",children:""}),T.jsx("a",{href:"#",className:"hover:text-white transition",children:"    "})]})]}),T.jsxs("div",{className:"border-t border-white/10 pt-4 text-xs text-gray-500 flex flex-col md:flex-row justify-between gap-2",children:[T.jsx("p",{children:"() 10040     97   TEL (031) 999-4000 FAX (031) 999-4001"}),T.jsx("p",{children:"Copyright (c) 2026 Gimpo University. All Rights Reserved"})]})]})})]})}bA.createRoot(document.getElementById("root")).render(T.jsx(Le.StrictMode,{children:T.jsx(YN,{})}));
